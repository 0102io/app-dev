(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Xs={context:void 0,registry:void 0},Js=(e,t)=>e===t,Ue=Symbol("solid-proxy"),Yn=Symbol("solid-track"),Zn={equals:Js};let Ys=ra;const We=1,Qn=2,Zs={owned:null,cleanups:null,context:null,owner:null},Lr={};var ie=null;let kr=null,Dc=null,le=null,Se=null,Ye=null,fr=0;function ot(e,t){const n=le,r=ie,i=e.length===0,o=t===void 0?r:t,s=i?Zs:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=i?e:()=>e(()=>oe(()=>hr(s)));ie=s,le=null;try{return st(a,!0)}finally{le=n,ie=r}}function I(e,t){t=t?Object.assign({},Zn,t):Zn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),na(n,i));return[ta.bind(n),r]}function ai(e,t,n){const r=xn(e,t,!0,We);Lt(r)}function j(e,t,n){const r=xn(e,t,!1,We);Lt(r)}function R(e,t,n){Ys=Bc;const r=xn(e,t,!1,We);(!n||!n.render)&&(r.user=!0),Ye?Ye.push(r):Lt(r)}function S(e,t,n){n=n?Object.assign({},Zn,n):Zn;const r=xn(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Lt(r),ta.bind(r)}function Ic(e){return e&&typeof e=="object"&&"then"in e}function Mc(e,t,n){let r,i,o;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,i=e,o=t||{}):(r=e,i=t,o=n||{});let s=null,a=Lr,l=!1,c="initialValue"in o,u=typeof r=="function"&&S(r);const d=new Set,[f,m]=(o.storage||I)(o.initialValue),[g,p]=I(void 0),[b,y]=I(void 0,{equals:!1}),[v,_]=I(c?"ready":"unresolved");function w(O,T,M,k){return s===O&&(s=null,k!==void 0&&(c=!0),(O===a||T===a)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(k,{value:T})),a=Lr,P(T,M)),T}function P(O,T){st(()=>{T===void 0&&m(()=>O),_(T!==void 0?"errored":c?"ready":"unresolved"),p(T);for(const M of d.keys())M.decrement();d.clear()},!1)}function x(){const O=kc,T=f(),M=g();if(M!==void 0&&!s)throw M;return le&&!le.user&&O&&ai(()=>{b(),s&&(O.resolved||d.has(O)||(O.increment(),d.add(O)))}),T}function L(O=!0){if(O!==!1&&l)return;l=!1;const T=u?u():r;if(T==null||T===!1){w(s,oe(f));return}const M=a!==Lr?a:oe(()=>i(T,{value:f(),refetching:O}));return Ic(M)?(s=M,"value"in M?(M.status==="success"?w(s,M.value,void 0,T):w(s,void 0,void 0,T),M):(l=!0,queueMicrotask(()=>l=!1),st(()=>{_(c?"refreshing":"pending"),y()},!1),M.then(k=>w(M,k,void 0,T),k=>w(M,void 0,oa(k),T)))):(w(s,M,void 0,T),M)}return Object.defineProperties(x,{state:{get:()=>v()},error:{get:()=>g()},loading:{get(){const O=v();return O==="pending"||O==="refreshing"}},latest:{get(){if(!c)return x();const O=g();if(O&&!s)throw O;return f()}}}),u?ai(()=>L(!1)):L(!1),[x,{refetch:L,mutate:m}]}function Qs(e,t=Js,n){const r=new Map,i=xn(o=>{const s=e();for(const[a,l]of r.entries())if(t(a,s)!==t(a,o))for(const c of l.values())c.state=We,c.pure?Se.push(c):Ye.push(c);return s},void 0,!0,We);return Lt(i),o=>{const s=le;if(s){let a;(a=r.get(o))?a.add(s):r.set(o,a=new Set([s])),$(()=>{a.delete(s),!a.size&&r.delete(o)})}return t(o,i.value)}}function ea(e){return st(e,!1)}function oe(e){if(le===null)return e();const t=le;le=null;try{return e()}finally{le=t}}function Pe(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer;return s=>{let a;if(r){a=Array(e.length);for(let c=0;c<e.length;c++)a[c]=e[c]()}else a=e();if(o){o=!1;return}const l=oe(()=>t(a,i,s));return i=a,l}}function Mt(e){R(()=>oe(e))}function $(e){return ie===null||(ie.cleanups===null?ie.cleanups=[e]:ie.cleanups.push(e)),e}function li(){return le}function Oc(){return ie}function Lc(e,t){const n=ie,r=le;ie=e,le=null;try{return st(t,!0)}catch(i){ki(i)}finally{ie=n,le=r}}function ue(e,t){const n=Symbol("context");return{id:n,Provider:$c(n),defaultValue:e}}function ne(e){return ie&&ie.context&&ie.context[e.id]!==void 0?ie.context[e.id]:e.defaultValue}function Ot(e){const t=S(e),n=S(()=>ci(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let kc;function ta(){if(this.sources&&this.state)if(this.state===We)Lt(this);else{const e=Se;Se=null,st(()=>tr(this),!1),Se=e}if(le){const e=this.observers?this.observers.length:0;le.sources?(le.sources.push(this),le.sourceSlots.push(e)):(le.sources=[this],le.sourceSlots=[e]),this.observers?(this.observers.push(le),this.observerSlots.push(le.sources.length-1)):(this.observers=[le],this.observerSlots=[le.sources.length-1])}return this.value}function na(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&st(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],s=kr&&kr.running;s&&kr.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?Se.push(o):Ye.push(o),o.observers&&ia(o)),s||(o.state=We)}if(Se.length>1e6)throw Se=[],new Error},!1)),t}function Lt(e){if(!e.fn)return;hr(e);const t=fr;Rc(e,e.value,t)}function Rc(e,t,n){let r;const i=ie,o=le;le=ie=e;try{r=e.fn(t)}catch(s){return e.pure&&(e.state=We,e.owned&&e.owned.forEach(hr),e.owned=null),e.updatedAt=n+1,ki(s)}finally{le=o,ie=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?na(e,r):e.value=r,e.updatedAt=n)}function xn(e,t,n,r=We,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:ie,context:ie?ie.context:null,pure:n};return ie===null||ie!==Zs&&(ie.owned?ie.owned.push(o):ie.owned=[o]),o}function er(e){if(e.state===0)return;if(e.state===Qn)return tr(e);if(e.suspense&&oe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<fr);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===We)Lt(e);else if(e.state===Qn){const r=Se;Se=null,st(()=>tr(e,t[0]),!1),Se=r}}function st(e,t){if(Se)return e();let n=!1;t||(Se=[]),Ye?n=!0:Ye=[],fr++;try{const r=e();return Fc(n),r}catch(r){n||(Ye=null),Se=null,ki(r)}}function Fc(e){if(Se&&(ra(Se),Se=null),e)return;const t=Ye;Ye=null,t.length&&st(()=>Ys(t),!1)}function ra(e){for(let t=0;t<e.length;t++)er(e[t])}function Bc(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:er(r)}for(t=0;t<n;t++)er(e[t])}function tr(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===We?r!==t&&(!r.updatedAt||r.updatedAt<fr)&&er(r):i===Qn&&tr(r,t)}}}function ia(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Qn,n.pure?Se.push(n):Ye.push(n),n.observers&&ia(n))}}function hr(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)hr(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function oa(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ki(e,t=ie){throw oa(e)}function ci(e){if(typeof e=="function"&&!e.length)return ci(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=ci(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function $c(e,t){return function(r){let i;return j(()=>i=oe(()=>(ie.context={...ie.context,[e]:r.value},Ot(()=>r.children))),void 0),i}}const Nc=Symbol("fallback");function wo(e){for(let t=0;t<e.length;t++)e[t]()}function Hc(e,t,n={}){let r=[],i=[],o=[],s=0,a=t.length>1?[]:null;return $(()=>wo(o)),()=>{let l=e()||[],c,u;return l[Yn],oe(()=>{let f=l.length,m,g,p,b,y,v,_,w,P;if(f===0)s!==0&&(wo(o),o=[],r=[],i=[],s=0,a&&(a=[])),n.fallback&&(r=[Nc],i[0]=ot(x=>(o[0]=x,n.fallback())),s=1);else if(s===0){for(i=new Array(f),u=0;u<f;u++)r[u]=l[u],i[u]=ot(d);s=f}else{for(p=new Array(f),b=new Array(f),a&&(y=new Array(f)),v=0,_=Math.min(s,f);v<_&&r[v]===l[v];v++);for(_=s-1,w=f-1;_>=v&&w>=v&&r[_]===l[w];_--,w--)p[w]=i[_],b[w]=o[_],a&&(y[w]=a[_]);for(m=new Map,g=new Array(w+1),u=w;u>=v;u--)P=l[u],c=m.get(P),g[u]=c===void 0?-1:c,m.set(P,u);for(c=v;c<=_;c++)P=r[c],u=m.get(P),u!==void 0&&u!==-1?(p[u]=i[c],b[u]=o[c],a&&(y[u]=a[c]),u=g[u],m.set(P,u)):o[c]();for(u=v;u<f;u++)u in p?(i[u]=p[u],o[u]=b[u],a&&(a[u]=y[u],a[u](u))):i[u]=ot(d);i=i.slice(0,s=f),r=l.slice(0)}return i});function d(f){if(o[u]=f,a){const[m,g]=I(u);return a[u]=g,t(l[u],m)}return t(l[u])}}}function h(e,t){return oe(()=>e(t||{}))}function Ln(){return!0}const ui={get(e,t,n){return t===Ue?n:e.get(t)},has(e,t){return t===Ue?!0:e.has(t)},set:Ln,deleteProperty:Ln,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Ln,deleteProperty:Ln}},ownKeys(e){return e.keys()}};function Rr(e){return(e=typeof e=="function"?e():e)?e:{}}function Kc(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function F(...e){let t=!1;for(let s=0;s<e.length;s++){const a=e[s];t=t||!!a&&Ue in a,e[s]=typeof a=="function"?(t=!0,S(a)):a}if(t)return new Proxy({get(s){for(let a=e.length-1;a>=0;a--){const l=Rr(e[a])[s];if(l!==void 0)return l}},has(s){for(let a=e.length-1;a>=0;a--)if(s in Rr(e[a]))return!0;return!1},keys(){const s=[];for(let a=0;a<e.length;a++)s.push(...Object.keys(Rr(e[a])));return[...new Set(s)]}},ui);const n={},r=Object.create(null);for(let s=e.length-1;s>=0;s--){const a=e[s];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const u=l[c];if(u==="__proto__"||u==="constructor")continue;const d=Object.getOwnPropertyDescriptor(a,u);if(!r[u])r[u]=d.get?{enumerable:!0,configurable:!0,get:Kc.bind(n[u]=[d.get.bind(a)])}:d.value!==void 0?d:void 0;else{const f=n[u];f&&(d.get?f.push(d.get.bind(a)):d.value!==void 0&&f.push(()=>d.value))}}}const i={},o=Object.keys(r);for(let s=o.length-1;s>=0;s--){const a=o[s],l=r[a];l&&l.get?Object.defineProperty(i,a,l):i[a]=l?l.value:void 0}return i}function H(e,...t){if(Ue in e){const i=new Set(t.length>1?t.flat():t[0]),o=t.map(s=>new Proxy({get(a){return s.includes(a)?e[a]:void 0},has(a){return s.includes(a)&&a in e},keys(){return s.filter(a=>a in e)}},ui));return o.push(new Proxy({get(s){return i.has(s)?void 0:e[s]},has(s){return i.has(s)?!1:s in e},keys(){return Object.keys(e).filter(s=>!i.has(s))}},ui)),o}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,i),s=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let a=!1,l=0;for(const c of t)c.includes(i)&&(a=!0,s?r[l][i]=o.value:Object.defineProperty(r[l],i,o)),++l;a||(s?n[i]=o.value:Object.defineProperty(n,i,o))}return[...r,n]}let Vc=0;function ve(){const e=Xs.context;return e?`${e.id}${e.count++}`:`cl-${Vc++}`}const sa=e=>`Stale read from <${e}>.`;function zt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return S(Hc(()=>e.each,e.children,t||void 0))}function Te(e){const t=e.keyed,n=S(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return S(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?oe(()=>i(t?r:()=>{if(!oe(n))throw sa("Show");return e.when})):i}return e.fallback},void 0,void 0)}function Uc(e){let t=!1;const n=(o,s)=>(t?o[1]===s[1]:!o[1]==!s[1])&&o[2]===s[2],r=Ot(()=>e.children),i=S(()=>{let o=r();Array.isArray(o)||(o=[o]);for(let s=0;s<o.length;s++){const a=o[s].when;if(a)return t=!!o[s].keyed,[s,a,o[s]]}return[-1]},void 0,{equals:n});return S(()=>{const[o,s,a]=i();if(o<0)return e.fallback;const l=a.children;return typeof l=="function"&&l.length>0?oe(()=>l(t?s:()=>{if(oe(i)[0]!==o)throw sa("Match");return a.when})):l},void 0,void 0)}function xo(e){return e}const Gc=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],qc=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Gc]),zc=new Set(["innerHTML","textContent","innerText","children"]),jc=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Wc=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Xc(e,t){const n=Wc[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Jc=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Yc=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Zc={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Qc(e,t,n){let r=n.length,i=t.length,o=r,s=0,a=0,l=t[i-1].nextSibling,c=null;for(;s<i||a<o;){if(t[s]===n[a]){s++,a++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===s){const u=o<r?a?n[a-1].nextSibling:n[o-a]:l;for(;a<o;)e.insertBefore(n[a++],u)}else if(o===a)for(;s<i;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[o-1]&&n[a]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(n[a++],t[s++].nextSibling),e.insertBefore(n[--o],u),t[i]=n[o]}else{if(!c){c=new Map;let d=a;for(;d<o;)c.set(n[d],d++)}const u=c.get(t[s]);if(u!=null)if(a<u&&u<o){let d=s,f=1,m;for(;++d<i&&d<o&&!((m=c.get(t[d]))==null||m!==u+f);)f++;if(f>u-a){const g=t[s];for(;a<u;)e.insertBefore(n[a++],g)}else e.replaceChild(n[a++],t[s++])}else s++;else t[s++].remove()}}}const So="_$DX_DELEGATE";function aa(e,t,n,r={}){let i;return ot(o=>{i=o,t===document?e():D(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function A(e,t,n){let r;const i=()=>{const s=document.createElement("template");return s.innerHTML=e,n?s.content.firstChild.firstChild:s.content.firstChild},o=t?()=>oe(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function $e(e,t=window.document){const n=t[So]||(t[So]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,iu))}}function Ve(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function eu(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function se(e,t){t==null?e.removeAttribute("class"):e.className=t}function Sn(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n)}function tu(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,s;for(o=0,s=i.length;o<s;o++){const a=i[o];!a||a==="undefined"||t[a]||(Eo(e,a,!1),delete n[a])}for(o=0,s=r.length;o<s;o++){const a=r[o],l=!!t[a];!a||a==="undefined"||n[a]===l||!l||(Eo(e,a,!0),n[a]=l)}return n}function la(e,t,n){if(!t)return n?Ve(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function re(e,t={},n,r){const i={};return r||j(()=>i.children=jt(e,t.children,i.children)),j(()=>t.ref&&t.ref(e)),j(()=>nu(e,t,n,!0,i,!0)),i}function Ae(e,t,n){return oe(()=>e(t,n))}function D(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return jt(e,t,r,n);j(i=>jt(e,t(),i,n),r)}function nu(e,t,n,r,i={},o=!1){t||(t={});for(const s in i)if(!(s in t)){if(s==="children")continue;i[s]=To(e,s,null,i[s],n,o)}for(const s in t){if(s==="children"){r||jt(e,t.children);continue}const a=t[s];i[s]=To(e,s,a,i[s],n,o)}}function ru(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Eo(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function To(e,t,n,r,i,o){let s,a,l,c,u;if(t==="style")return la(e,n,r);if(t==="classList")return tu(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);r&&e.removeEventListener(d,r),n&&e.addEventListener(d,n)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);r&&e.removeEventListener(d,r,!0),n&&e.addEventListener(d,n,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),f=Jc.has(d);if(!f&&r){const m=Array.isArray(r)?r[0]:r;e.removeEventListener(d,m)}(f||n)&&(Sn(e,d,n,f),f&&$e([d]))}else if(t.slice(0,5)==="attr:")Ve(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(l=zc.has(t))||!i&&((c=Xc(t,e.tagName))||(a=qc.has(t)))||(s=e.nodeName.includes("-")))u&&(t=t.slice(5),a=!0),t==="class"||t==="className"?se(e,n):s&&!a&&!l?e[ru(t)]=n:e[c||t]=n;else{const d=i&&t.indexOf(":")>-1&&Zc[t.split(":")[0]];d?eu(e,d,t,n):Ve(e,jc[t]||t,n)}return n}function iu(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function jt(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,o==="string"||o==="number")if(o==="number"&&(t=t.toString()),s){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=Nt(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||o==="boolean")n=Nt(e,n,r);else{if(o==="function")return j(()=>{let a=t();for(;typeof a=="function";)a=a();n=jt(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(di(a,t,n,i))return j(()=>n=jt(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=Nt(e,n,r),s)return n}else l?n.length===0?Co(e,a,r):Qc(e,n,a):(n&&Nt(e),Co(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=Nt(e,n,r,t);Nt(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function di(e,t,n,r){let i=!1;for(let o=0,s=t.length;o<s;o++){let a=t[o],l=n&&n[o],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=di(e,a,l)||i;else if(c==="function")if(r){for(;typeof a=="function";)a=a();i=di(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else e.push(a),i=!0;else{const u=String(a);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return i}function Co(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function Nt(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(i!==a){const l=a.parentNode===e;!o&&!s?l?e.replaceChild(i,a):e.insertBefore(i,n):l&&a.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const ou="http://www.w3.org/2000/svg";function ca(e,t=!1){return t?document.createElementNS(ou,e):document.createElement(e)}function gr(e){const{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,i=Oc();let o,s=!!Xs.context;return R(()=>{o||(o=Lc(i,()=>S(()=>e.children)));const a=r();if(a instanceof HTMLHeadElement){const[l,c]=I(!1),u=()=>c(!0);ot(d=>D(a,()=>l()?d():o(),null)),$(u)}else{const l=ca(e.isSVG?"g":"div",e.isSVG),c=t&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return n.parentNode},configurable:!0}),D(c,o),a.appendChild(l),e.ref&&e.ref(l),$(()=>a.removeChild(l))}},void 0,{render:!s}),n}function qn(e){const[t,n]=H(e,["component"]),r=S(()=>t.component);return S(()=>{const i=r();switch(typeof i){case"function":return oe(()=>i(n));case"string":const o=Yc.has(i),s=ca(i,o);return re(s,n,o),s}})}var su=["Shift","Meta","Alt","Control"],ua=typeof navigator=="object"?navigator.platform:"",da=/Mac|iPod|iPhone|iPad/.test(ua),au=da?"Meta":"Control",lu=ua==="Win32"?["Control","Alt"]:da?["Alt"]:[];function Fr(e,t){return typeof e.getModifierState=="function"&&(e.getModifierState(t)||lu.includes(t)&&e.getModifierState("AltGraph"))}function fa(e){return e.trim().split(" ").map(function(t){var n=t.split(/\b\+/),r=n.pop();return[n=n.map(function(i){return i==="$mod"?au:i}),r]})}function cu(e,t){var n;t===void 0&&(t={});var r=(n=t.timeout)!=null?n:1e3,i=Object.keys(e).map(function(a){return[fa(a),e[a]]}),o=new Map,s=null;return function(a){a instanceof KeyboardEvent&&(i.forEach(function(l){var c=l[0],u=l[1],d=o.get(c)||c;(function(f,m){return!(m[1].toUpperCase()!==f.key.toUpperCase()&&m[1]!==f.code||m[0].find(function(g){return!Fr(f,g)})||su.find(function(g){return!m[0].includes(g)&&m[1]!==g&&Fr(f,g)}))})(a,d[0])?d.length>1?o.set(c,d.slice(1)):(o.delete(c),u(a)):Fr(a,a.key)||o.delete(c)}),s&&clearTimeout(s),s=setTimeout(o.clear.bind(o),r))}}function uu(e,t,n){var r;n===void 0&&(n={});var i=(r=n.event)!=null?r:"keydown",o=cu(t,n);return e.addEventListener(i,o),function(){e.removeEventListener(i,o)}}const Xe=ue();class ha{frame_times;last_frame_time;constructor(){this.frame_times=[],this.last_frame_time=performance.now()}onFrame(){const t=performance.now(),n=t-this.last_frame_time;this.last_frame_time=t,this.frame_times.length>5&&this.frame_times.shift(),this.frame_times.push(n)}getFramerate(){return 1e3/(this.frame_times.reduce((n,r)=>n+r,0)/this.frame_times.length)}}const du="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAAAvCAYAAADU+iVXAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA5nSURBVHgB7Vp5kBTVGX+ve7rn2ouFvWAJ18qxoChSChSgW8ZQqIAksJ5YpWIh0Wi8tUwiURNRyyo8UDQR4xEju4gaLVRQhApHgI2yHIuysCyw9+w5u3N293v5Xs/MTs893Usl/8yPbab79Tu+973vfddrhDLIIIMMMsgggwwyyCCDDDLIIAyMdOLrh9vsDq84HpsVkSMIYw7+eAErvIQxFQiSJCTLcFET4RVEWRui2Ntve8PagqEG0glKKd72frut83vuAqJQmlPKNSx5rKA/nbbb19LclpMdY8RsTlQIVucqmgNzJpxAKYE/r0TZPfG6qCCbFLvd3r7k5ax2ZBBbHm4r9Li5kUQUORPQK/MyZnwSBISUIL9Cdf0wPs8hCixDjFeKn/NNvDq/YfZy5NXDKxPSge/Wd2R9v0Vef+5I3zKiIA4jNlD8sagqIIxeiq05Lsf6622r4GEr0onq3/SNPV2rrGv9ybsAeqO5I/kdVWs6bqhcUziQrF1LC7VtXNq8ubNBmkNJfGGlKu3qK8ZZePAjS463/YO7u2+9dUP+HqQTW37fM71mk3Ozq4uMosgV7DMZMKNB5RNmvxxWGvZ59pz4RlgNL0+hNMEhHWg5wpU3H/XdSGRkg9EtsEuslKK4F3sP2wguZPb00dJzhz031bxJBaQT7U2eyY4G6RdEpmZFppaec3KFp8E0PlW7+q+8szrqpatA2GyJacSMTmtgLoEyTx8Ze2K3a3VVFeWRDjCN0XzYd91AJymjUX0mvuggn+DZTBVqc7ZL88/WSPP0jJ32IsKAJkezdC1oShEZAKiHip8O945EOsGb+DLJGx4TRJuTBGJJ1obWUGH/e90rkAFzweDrJ7OVvW2j9bRpbETmvg5pHBoiQOjMvEiv0tMm5SIyCTu6ty//laUdd7Qd89+ueaWwC4cvEu8KVfY4lZKGA6613633gqRSc6px22qp/d27uhc21XpXQv0IOnlFoglo5eu+cpW8+Xz7bY6T8qJQOagqGRSWHKYXBy9GIx6cA0IBO+TpJ+MbD5JntzzfOaWmJrn2YPyp39pfUH1ny719zcqi8Bt1DDn6CtDA7qnmYs8qP1V0nZEXv3Vz+4pT27tzURpIKqlb1vQXNuxx3t1xQloAEjLZ76b5JjNqK5okrsM8asRgmDlqwphndIFGV402jxRFYbMjiOeRYFZVYGVfmzKfSZk5C5/keXyssFz46wOfl3wZPebuzxzZ+1+WH+xpUeZKPuUij5MWQF9YQ7Hvouuz5698e8QBbbuqP/cXnN0+8LCj0V8h++gUyUuzBCs+UTLVtIF6UTNiypFRyCHMwYUp/DHHBvMUS4iAF4YFG2/vOumv7O8iV8CW5yw2XI8FVPezGZZ1q6uKYmzkxttbyzvq6W97m6VpkpdMk3woW7Th0yPLLW9RRTkNXagLQ6iCeT6gnUFM1LnAjBiHKGE8ZHzjsED89OKuM/5Kj5OMNWdz3UDnUfABdmcVCBvv+7QooY1M6tj8uL1/Zdtx/1MouGM5E/JMqrDct+rDkmqkA7vfdmze8br3/c7T8hKvk06CoklN35PLamvp5OnTsStUj0n1hhsd95w55HtKnWYCiHys8DXtct11ttb76GABh7wzl9pvuem1ghqkA1+/2Pb53vfkT3qapTnufloOReVnDvouBtrKwSRI2rrtJ5S1rcelwd3HC1zX/HvzFy1+PPsYMgAYY9ObNzu+azzgecfdQ4qhaD7Y6Pm5vbBXKP0djK/Ea5dUncpe5mWFGQZy3PjLPxR/hXRi7p0F/YLVtA1p1KvkIUX0rCdPW2/nTsS3H/eWJVtAlS4kx5QpMvmZ9jm70NR446sj/oN0YsEjxR0jLxI+05a5++Si3kZkj64r+ekE7XNOEXdw0WNZdcggYJHI1XcU7ONN+GDEOG5S2rSvKaEvoss7FUTs7uXBDzcA0aq4OR6HFpGy8MRiphG27corkZI3ynw2YkwLKL4oKlm8GN0/phHuPLXmch1G4lIVEs/iRKLtPS83NlyA/hs198SSzR00PGYQtV/3jIbZlWnLeBF1lvpKpURtkqpTTFVjNBhMAaVSWZl2cumD53iCNDuI2YQBEskYxoBze+mL797fTGQ/mkgo6SgYJ3ae2ut5GiomdTAUhUYIF1b9KmMAG5bWHGdeY79nX5X717yZ5PMCrZt1W/Z7tQ+6S+sPeC8BM8hRTqYc2NwwjSy4Zs8Q2XPhchBtLPuI0HpMnnLw0/4Vrm4yGYppdpHplDULb7uwYtiLuALLiejQFewzrY2GjsE+rHF21Og52PPdGrrWnNMk9E72kaMvmSqCnltoEWkoExTRKYm0F+C76IrztGDOTzr1Fq4Z1gje65PDjyC+60KkHHmrf8K2bx3Vfg8dQwcTCOmBhU7UD3kwcLF4AXWPnm57IreU+6JkWW/XNdeU+pK1TbiIbBM+e2lTdCmuqzMWexGqsa2qNGDq4XHcvirWqFKnSt5zc5tlEqHa4o+P2QhaShEytIhs3m/d7MAonI1KuhAzZ6rOjqrq/nJrx2xXD5mGDCMw1LCRpp2lKwvfrqwEwdyYupUum6i7ejJAxpLzpRYIk0l1RSMZKSQP3dT/h0AquP5c0LkaHLcXJ6e19j1q726UZ6EhAkyKzIn8v9QFTBO61CkTz/LygLTqNeB8TF8QGkF8lKovGcXORSFSBENZHy/Mb46oAwuRNhNikX7TvVXnrMc+w8O/+UfrMohRb2BlEN9JWMBSWPhCOdJB54KyZ61qCpQiBc4SjuSP53eg/ShtpLGIEQJ5fmELODPJqsQhMMYmsj7WzotR/YYWkfW14YaOtOpuecIxcccL/kf9PmV2X6s0iaU37MO5xqxC0+sF4/lzJhM36IwwO8tMChNm5tSF7tkvS5JQomCzaHIXX4xqrlo9ohnpgE7HxjhiOQqSmIY61djS0MLBsVfqdphyPmQQHA6PFRiX4rw49Y7v8L/W0eC/OvTMi7jp0mtzr1q2Lq8B6T4DMY6EloNJZLSfTYPpr6HGQsER0qrFm2LlTIhjE6N7Iwa1B5sjjQ594F+fM5Zg8CRHaZ9zCvlDv8rLbUT/Y+g2/3WG8xHGQFh+OIp/khQb98YumbEwkQmojOOEUnFS0ZhGetcQ7LfhNdhQHD0UJA/2EdaqMvUeHJsh78JgDJVeXWxSD2vDNLGAMY1jSYoMM5OLt437YutpNJLKH0hmJwzI9YCdxmx62DkDUd9YjvBNBUvyD1YYDvZD+fZQ5wEJNbSIGhWlb4vIafIlrPwDnxNgZDjYj4LqZNKcOAkGZHBOScCO3V5f2rbi5D7vBkVCZjh08I065L0HyjcmMmPJ1SkefK8SqfhVxhgiWPbIAqWRbTlef19sFhKKl0aMnAocOeYho4C0LoqYZ5pkYpSFhoimJmRuOS7/nC0geyYyMjsa5XknTyJjCXDwg32hg9JAASrd+kzPZGQA2GyaDv1x4a4glsq2utJpS6O4yCsCjVPJqx2ut1m+oHYLLUQ6wVQZHP9ciTRj8mYs5XliE//RxrrnjHL5/nedw9EQsOuF7nEQjlymLQNhl/z+xBowqTotmmj5wDfgmeHqUi6HXSTKflr8700D66se6blvylyhlVjsasfsjIatBud14UDZALJBLGcVs0iLzyUc2DhQeeaAV/1cAuws4c2oM3+M6YOps1EvSgHRwong8rPT1UH7HG8nWq3il/Z8ZSGcw00DWgWgNeeTPza9/uWfup8uuNTsYCcfVrOGEUHxIZaAE2PxUeLB2eZXFztubTkmLw6NJVq5ruFjhHWoBHlQCvg9pOzrVwbe2Px4z3MXLzI1m3GWrDWlWt9ILXeGnpyIH4bx9x/5J9Tv9Dww0Kmo3xDBkZQPTmPqR15ieR98kYSnGCn1xIabOy7oa6FT/W5/Ze85skjykSxLDtcIu6pb/UYLhdMB4bQA05vMzlOWleGBoZPgtN0Gp/qnCseLrwmism/6HLm2Ys04b6rxX72+5fpTe3xVRAl6Mxh5py/JmnfnxsjDXmZL/na7c0J3k+sit1NZ2H1GXgEqSbDlcaeg7UAgX6uxYkENE6SbspdwVCb4PcoUaCfa8nDtiAn8O+CB7p/x5KhD4FjE0PrMzKY6R4M0JaIQ7JYtB5+FMTth/nIiZocGH8zqYMwyyaN9blLIzE5hmVBlzTF9WDzRXHvL+mFnUBKkDPbv/rCwHn7qdz9Pv921pdnZXk9WeZ1kLJSNTe7j0IhfwYr7xl9mXnl3dfEu1UBvQ2mCjx4Fh74hjSjEqmuv0vrPh5y7Dnp7ivqayHXuXlKGktIXC7MNt4271HbvqurC3WrBN/Hrxf8OkmJ3Hx0Dd2OQLoTpGTFW/GLpQ723Ta2c6kfbU7dMO06c+xjuLykXPgH2GXLdLXZu3/BpfI3eRAEIswK7OWJMIbFmUbH4pZzOSfPsm5FBcCZ8eNbKgh9S1aMInZeQIgoK5rmd6gKmCV3BPm/mj2aN4E8iAxBt3O7lTxWk5chokV0onLPm4rbQs2BFHbJTbE3V7orVwueinetGOsEU7qhp4jfTF+CUtIIDcgidZ5hE5LJa6Wk9bXS7+B8/2TPmh0/6lxGJpa+RKgZq5oKJA1GNC6WB4JKdToBhJKhggvjjrAXFn895EKd0DqLB0mCb7u+ZWvet61roCk2YYd96+9/zj6TT9oMHui88vtW1kCjEEqEBgjSHaA0MhDk4fUDDx/NH5i8t+WLmKiyl6r9+K8356KnWG9y9chFWD+jZGRbH4mnMftkz3IbMH8WJNDAQx7MGiPiKy4U993xcsjtoHtKCoZiPORHV1eG2y5eH30E5ew4wBupUB96ToeZbQ9+e6plcPFq19GppDdXRS2swn4xZe9aX+qt5n85ngcsH/1NpoecnN51BBhlkkEEGGWSQQQYZZJBBBhlkkMH/D/8F3+zTNaY2M+0AAAAASUVORK5CYII=";function Ri(e){return(...t)=>{for(const n of e)n&&n(...t)}}function fu(e){return(...t)=>{for(let n=e.length-1;n>=0;n--){const r=e[n];r&&r(...t)}}}var E=e=>typeof e=="function"&&!e.length?e():e,Po=e=>Array.isArray(e)?e:e?[e]:[];function hu(e,...t){return typeof e=="function"?e(...t):e}var gu=$;function mu(e,t,n,r){return e.addEventListener(t,n,r),gu(e.removeEventListener.bind(e,t,n,r))}function pu(e,t,n,r){const i=()=>{Po(E(e)).forEach(o=>{o&&Po(E(t)).forEach(s=>mu(o,s,n,r))})};typeof e=="function"?R(i):j(i)}var Br=Symbol("fallback");function Ao(e){for(const t of e)t.dispose()}function bu(e,t,n,r={}){const i=new Map;return $(()=>Ao(i.values())),()=>{const s=e()||[];return s[Yn],oe(()=>{if(!s.length)return Ao(i.values()),i.clear(),r.fallback?[ot(d=>(i.set(Br,{dispose:d}),r.fallback()))]:[];const a=new Array(s.length),l=i.get(Br);if(!i.size||l){l?.dispose(),i.delete(Br);for(let u=0;u<s.length;u++){const d=s[u],f=t(d,u);o(a,d,u,f)}return a}const c=new Set(i.keys());for(let u=0;u<s.length;u++){const d=s[u],f=t(d,u);c.delete(f);const m=i.get(f);m?(a[u]=m.mapped,m.setIndex?.(u),m.setItem(()=>d)):o(a,d,u,f)}for(const u of c)i.get(u)?.dispose(),i.delete(u);return a})};function o(s,a,l,c){ot(u=>{const[d,f]=I(a),m={setItem:f,dispose:u};if(n.length>1){const[g,p]=I(l);m.setIndex=p,m.mapped=n(d,g)}else m.mapped=n(d);i.set(c,m),s[l]=m.mapped})}}function vu(e){const{by:t}=e;return S(bu(()=>e.each,typeof t=="function"?t:n=>n[t],e.children,"fallback"in e?{fallback:()=>e.fallback}:void 0))}function kn(){return!0}var yu={get(e,t,n){return t===Ue?n:e.get(t)},has(e,t){return e.has(t)},set:kn,deleteProperty:kn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:kn,deleteProperty:kn}},ownKeys(e){return e.keys()}},_u=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g;function Do(e){const t={};let n;for(;n=_u.exec(e);)t[n[1]]=n[2];return t}function wu(e,t){if(typeof e=="string"){if(typeof t=="string")return`${e};${t}`;e=Do(e)}else typeof t=="string"&&(t=Do(t));return{...e,...t}}var $r=(e,t,n)=>{let r;for(const i of e){const o=E(i)[t];r?o&&(r=n(r,o)):r=o}return r};function xu(...e){const t=Array.isArray(e[0]),n=t?e[0]:e;if(n.length===1)return n[0];const r=t&&e[1]?.reverseEventHandlers?fu:Ri,i={};for(const s of n){const a=E(s);for(const l in a)if(l[0]==="o"&&l[1]==="n"&&l[2]){const c=a[l],u=l.toLowerCase(),d=typeof c=="function"?c:Array.isArray(c)?c.length===1?c[0]:c[0].bind(void 0,c[1]):void 0;d?i[u]?i[u].push(d):i[u]=[d]:delete i[u]}}const o=F(...n);return new Proxy({get(s){if(typeof s!="string")return Reflect.get(o,s);if(s==="style")return $r(n,"style",wu);if(s==="ref"){const a=[];for(const l of n){const c=E(l)[s];typeof c=="function"&&a.push(c)}return r(a)}if(s[0]==="o"&&s[1]==="n"&&s[2]){const a=i[s.toLowerCase()];return a?r(a):Reflect.get(o,s)}return s==="class"||s==="className"?$r(n,s,(a,l)=>`${a} ${l}`):s==="classList"?$r(n,s,(a,l)=>({...a,...l})):Reflect.get(o,s)},has(s){return Reflect.has(o,s)},keys(){return Object.keys(o)}},yu)}function ae(...e){return Ri(e)}function Su(e,t,n=-1){return n in e?[...e.slice(0,n),t,...e.slice(n)]:[...e,t]}function fi(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Eu(e){return typeof e=="number"}function Tu(e){return Array.isArray(e)}function Kt(e){return Object.prototype.toString.call(e)==="[object String]"}function Zt(e){return typeof e=="function"}function Me(e){return t=>`${e()}-${t}`}function Re(e,t){return e?e===t||e.contains(t):!1}function dn(e,t=!1){const{activeElement:n}=Be(e);if(!n?.nodeName)return null;if(ma(n)&&n.contentDocument)return dn(n.contentDocument.body,t);if(t){const r=n.getAttribute("aria-activedescendant");if(r){const i=Be(n).getElementById(r);if(i)return i}}return n}function ga(e){return Be(e).defaultView||window}function Be(e){return e?e.ownerDocument||e:document}function ma(e){return e.tagName==="IFRAME"}var mr=(e=>(e.Escape="Escape",e.Enter="Enter",e.Tab="Tab",e.Space=" ",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e))(mr||{});function pa(e){return typeof window>"u"||window.navigator==null?!1:window.navigator.userAgentData?.brands.some(t=>e.test(t.brand))||e.test(window.navigator.userAgent)}function Fi(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.userAgentData?.platform||window.navigator.platform):!1}function En(){return Fi(/^Mac/i)}function Cu(){return Fi(/^iPhone/i)}function Pu(){return Fi(/^iPad/i)||En()&&navigator.maxTouchPoints>1}function ba(){return Cu()||Pu()}function Au(){return En()||ba()}function Du(){return pa(/AppleWebKit/i)&&!Iu()}function Iu(){return pa(/Chrome/i)}function K(e,t){return t&&(Zt(t)?t(e):t[0](t[1],e)),e?.defaultPrevented}function me(e){return t=>{for(const n of e)K(t,n)}}function Mu(e){return En()?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey}function pe(e){if(e)if(Ou())e.focus({preventScroll:!0});else{const t=Lu(e);e.focus(),ku(t)}}var Rn=null;function Ou(){if(Rn==null){Rn=!1;try{document.createElement("div").focus({get preventScroll(){return Rn=!0,!0}})}catch{}}return Rn}function Lu(e){let t=e.parentNode;const n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function ku(e){for(const{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}var va=["input:not([type='hidden']):not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","[tabindex]","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]:not([contenteditable='false'])"],Ru=[...va,'[tabindex]:not([tabindex="-1"]):not([disabled])'],Bi=va.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])",Fu=Ru.join(':not([hidden]):not([tabindex="-1"]),');function ya(e,t){const r=Array.from(e.querySelectorAll(Bi)).filter(Io);return t&&Io(e)&&r.unshift(e),r.forEach((i,o)=>{if(ma(i)&&i.contentDocument){const s=i.contentDocument.body,a=ya(s,!1);r.splice(o,1,...a)}}),r}function Io(e){return _a(e)&&!Bu(e)}function _a(e){return e.matches(Bi)&&$i(e)}function Bu(e){return parseInt(e.getAttribute("tabindex")||"0",10)<0}function $i(e,t){return e.nodeName!=="#comment"&&$u(e)&&Nu(e,t)&&(!e.parentElement||$i(e.parentElement,e))}function $u(e){if(!(e instanceof HTMLElement)&&!(e instanceof SVGElement))return!1;const{display:t,visibility:n}=e.style;let r=t!=="none"&&n!=="hidden"&&n!=="collapse";if(r){if(!e.ownerDocument.defaultView)return r;const{getComputedStyle:i}=e.ownerDocument.defaultView,{display:o,visibility:s}=i(e);r=o!=="none"&&s!=="hidden"&&s!=="collapse"}return r}function Nu(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function Hu(e,t){return t.some(n=>n.contains(e))}function Ku(e,t,n){const r=t?.tabbable?Fu:Bi,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(o){return t?.from?.contains(o)?NodeFilter.FILTER_REJECT:o.matches(r)&&$i(o)&&(!n||Hu(o,n))&&(!t?.accept||t.accept(o))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t?.from&&(i.currentNode=t.from),i}function Vu(){}function wa(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}function Fn(e,t,n,r){const i=(e-(isNaN(t)?0:t))%r;let o=Math.abs(i)*2>=r?e+Math.sign(i)*(r-Math.abs(i)):e-i;isNaN(t)?!isNaN(n)&&o>n&&(o=Math.floor(n/r)*r):o<t?o=t:!isNaN(n)&&o>n&&(o=t+Math.floor((n-t)/r)*r);const s=r.toString(),a=s.indexOf("."),l=a>=0?s.length-a:0;if(l>0){const c=Math.pow(10,l);o=Math.round(o*c)/c}return o}function Uu(e,t){const[n,r]=e;let i=!1;const o=t.length;for(let s=o,a=0,l=s-1;a<s;l=a++){const[c,u]=t[a],[d,f]=t[l],[,m]=t[l===0?s-1:l-1]||[0,0],g=(u-f)*(n-c)-(c-d)*(r-u);if(f<u){if(r>=f&&r<u){if(g===0)return!0;g>0&&(r===f?r>m&&(i=!i):i=!i)}}else if(u<f){if(r>u&&r<=f){if(g===0)return!0;g<0&&(r===f?r<m&&(i=!i):i=!i)}}else if(r==u&&(n>=d&&n<=c||n>=c&&n<=d))return!0}return i}function U(e,t){return F(e,t)}var on=new Map,Mo=new Set;function Oo(){if(typeof window>"u")return;const e=n=>{if(!n.target)return;let r=on.get(n.target);r||(r=new Set,on.set(n.target,r),n.target.addEventListener("transitioncancel",t)),r.add(n.propertyName)},t=n=>{if(!n.target)return;const r=on.get(n.target);if(r&&(r.delete(n.propertyName),r.size===0&&(n.target.removeEventListener("transitioncancel",t),on.delete(n.target)),on.size===0)){for(const i of Mo)i();Mo.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?Oo():document.addEventListener("DOMContentLoaded",Oo));function Lo(e,t){const n=ko(e,t,"left"),r=ko(e,t,"top"),i=t.offsetWidth,o=t.offsetHeight;let s=e.scrollLeft,a=e.scrollTop;const l=s+e.offsetWidth,c=a+e.offsetHeight;n<=s?s=n:n+i>l&&(s+=n+i-l),r<=a?a=r:r+o>c&&(a+=r+o-c),e.scrollLeft=s,e.scrollTop=a}function ko(e,t,n){const r=n==="left"?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[r],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[r];break}t=t.offsetParent}return i}var pr={border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:"0",position:"absolute",width:"1px","white-space":"nowrap"};function hi(e){let t=e.startIndex??0;const n=e.startLevel??0,r=[],i=l=>{if(l==null)return"";const c=e.getKey??"key",u=Kt(c)?l[c]:c(l);return u!=null?String(u):""},o=l=>{if(l==null)return"";const c=e.getTextValue??"textValue",u=Kt(c)?l[c]:c(l);return u!=null?String(u):""},s=l=>{if(l==null)return!1;const c=e.getDisabled??"disabled";return(Kt(c)?l[c]:c(l))??!1},a=l=>{if(l!=null)return Kt(e.getSectionChildren)?l[e.getSectionChildren]:e.getSectionChildren?.(l)};for(const l of e.dataSource){if(Kt(l)||Eu(l)){r.push({type:"item",rawValue:l,key:String(l),textValue:String(l),disabled:s(l),level:n,index:t}),t++;continue}if(a(l)!=null){r.push({type:"section",rawValue:l,key:"",textValue:"",disabled:!1,level:n,index:t}),t++;const c=a(l)??[];if(c.length>0){const u=hi({dataSource:c,getKey:e.getKey,getTextValue:e.getTextValue,getDisabled:e.getDisabled,getSectionChildren:e.getSectionChildren,startIndex:t,startLevel:n+1});r.push(...u),t+=u.length}}else r.push({type:"item",rawValue:l,key:i(l),textValue:o(l),disabled:s(l),level:n,index:t}),t++}return r}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/collections/src/useCollection.ts
 */function Gu(e,t=[]){const n=hi({dataSource:E(e.dataSource),getKey:E(e.getKey),getTextValue:E(e.getTextValue),getDisabled:E(e.getDisabled),getSectionChildren:E(e.getSectionChildren)}),[r,i]=I(e.factory(n));return R(Pe([()=>E(e.dataSource),()=>E(e.getKey),()=>E(e.getTextValue),()=>E(e.getDisabled),()=>E(e.getSectionChildren),()=>e.factory,...t],([o,s,a,l,c,u])=>{const d=hi({dataSource:o,getKey:s,getTextValue:a,getDisabled:l,getSectionChildren:c});i(()=>u(d))},{defer:!0})),r}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/22cb32d329e66c60f55d4fc4025d1d44bb015d71/packages/@react-stately/collections/src/getItemCount.ts
 */const Ro=new WeakMap;function qu(e){let t=Ro.get(e);if(t!=null)return t;t=0;for(const n of e)n.type==="item"&&t++;return Ro.set(e,t),t}function Tn(e){const[t,n]=I(e.defaultValue?.()),r=S(()=>e.value?.()!==void 0),i=S(()=>r()?e.value?.():t());return[i,s=>{oe(()=>{const a=hu(s,i());return Object.is(a,i())||(r()||n(a),e.onChange?.(a)),a})}]}function xa(e){const[t,n]=Tn(e);return[()=>t()??!1,n]}function Sa(e){const[t,n]=Tn(e);return[()=>t()??[],n]}function Cn(e={}){const[t,n]=xa({value:()=>E(e.open),defaultValue:()=>!!E(e.defaultOpen),onChange:s=>e.onOpenChange?.(s)}),r=()=>{n(!0)},i=()=>{n(!1)};return{isOpen:t,setIsOpen:n,open:r,close:i,toggle:()=>{t()?i():r()}}}function zu(e){const t=n=>{n.key===mr.Escape&&e.onEscapeKeyDown?.(n)};R(()=>{if(E(e.isDisabled))return;const n=e.ownerDocument?.()??Be();n.addEventListener("keydown",t),$(()=>{n.removeEventListener("keydown",t)})})}/*!
 * Portions of this file are based on code from radix-ui-primitives.
 * MIT Licensed, Copyright (c) 2022 WorkOS.
 *
 * Credits to the Radix UI team:
 * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/dismissable-layer/src/DismissableLayer.tsx
 *
 * Portions of this file are based on code from zag.
 * MIT Licensed, Copyright (c) 2021 Chakra UI.
 *
 * Credits to the Chakra UI team:
 * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/dismissable/src/layer-stack.ts
 */const mn="data-kb-top-layer";let Ea,gi=!1;const at=[];function pn(e){return at.findIndex(t=>t.node===e)}function ju(e){return at[pn(e)]}function Wu(e){return at[at.length-1].node===e}function Ta(){return at.filter(e=>e.isPointerBlocking)}function Xu(){return[...Ta()].slice(-1)[0]}function Ni(){return Ta().length>0}function Ca(e){const t=pn(Xu()?.node);return pn(e)<t}function Ju(e){at.push(e)}function Yu(e){const t=pn(e);t<0||at.splice(t,1)}function Zu(){at.forEach(({node:e})=>{e.style.pointerEvents=Ca(e)?"none":"auto"})}function Qu(e){if(Ni()&&!gi){const t=Be(e);Ea=document.body.style.pointerEvents,t.body.style.pointerEvents="none",gi=!0}}function ed(e){if(Ni())return;const t=Be(e);t.body.style.pointerEvents=Ea,t.body.style.length===0&&t.body.removeAttribute("style"),gi=!1}const Le={layers:at,isTopMostLayer:Wu,hasPointerBlockingLayer:Ni,isBelowPointerBlockingLayer:Ca,addLayer:Ju,removeLayer:Yu,indexOf:pn,find:ju,assignPointerEventToLayers:Zu,disableBodyPointerEvents:Qu,restoreBodyPointerEvents:ed};/*!
 * Portions of this file are based on code from radix-ui-primitives.
 * MIT Licensed, Copyright (c) 2022 WorkOS.
 *
 * Credits to the Radix UI team:
 * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/focus-scope/src/FocusScope.tsx
 *
 * Portions of this file are based on code from zag.
 * MIT Licensed, Copyright (c) 2021 Chakra UI.
 *
 * Credits to the Chakra UI team:
 * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/focus-scope/src/focus-on-child-unmount.ts
 * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/focus-scope/src/focus-containment.ts
 */const Nr="focusScope.autoFocusOnMount",Hr="focusScope.autoFocusOnUnmount",Fo={bubbles:!1,cancelable:!0},Bo={stack:[],active(){return this.stack[0]},add(e){e!==this.active()&&this.active()?.pause(),this.stack=fi(this.stack,e),this.stack.unshift(e)},remove(e){this.stack=fi(this.stack,e),this.active()?.resume()}};function Hi(e,t){const[n,r]=I(!1),i={pause(){r(!0)},resume(){r(!1)}};let o=null;const s=g=>e.onMountAutoFocus?.(g),a=g=>e.onUnmountAutoFocus?.(g),l=()=>Be(t()),c=()=>{const g=l().createElement("span");return g.setAttribute("data-focus-trap",""),g.tabIndex=0,Object.assign(g.style,pr),g},u=()=>{const g=t();return g?ya(g,!0).filter(p=>!p.hasAttribute("data-focus-trap")):[]},d=()=>{const g=u();return g.length>0?g[0]:null},f=()=>{const g=u();return g.length>0?g[g.length-1]:null},m=()=>{const g=t();if(!g)return!1;const p=dn(g);return!p||Re(g,p)?!1:_a(p)};R(()=>{const g=t();if(!g)return;Bo.add(i);const p=dn(g);if(!Re(g,p)){const y=new CustomEvent(Nr,Fo);g.addEventListener(Nr,s),g.dispatchEvent(y),y.defaultPrevented||setTimeout(()=>{pe(d()),dn(g)===p&&pe(g)},0)}$(()=>{g.removeEventListener(Nr,s),setTimeout(()=>{const y=new CustomEvent(Hr,Fo);m()&&y.preventDefault(),g.addEventListener(Hr,a),g.dispatchEvent(y),y.defaultPrevented||pe(p??l().body),g.removeEventListener(Hr,a),Bo.remove(i)},0)})}),R(()=>{const g=t();if(!g||!E(e.trapFocus)||n())return;const p=y=>{const v=y.target;v?.closest(`[${mn}]`)||(Re(g,v)?o=v:pe(o))},b=y=>{const _=y.relatedTarget??dn(g);_?.closest(`[${mn}]`)||Re(g,_)||pe(o)};l().addEventListener("focusin",p),l().addEventListener("focusout",b),$(()=>{l().removeEventListener("focusin",p),l().removeEventListener("focusout",b)})}),R(()=>{const g=t();if(!g||!E(e.trapFocus)||n())return;const p=c();g.insertAdjacentElement("afterbegin",p);const b=c();g.insertAdjacentElement("beforeend",b);function y(_){const w=d(),P=f();_.relatedTarget===w?pe(P):pe(w)}p.addEventListener("focusin",y),b.addEventListener("focusin",y);const v=new MutationObserver(_=>{for(const w of _)w.previousSibling===b&&(b.remove(),g.insertAdjacentElement("beforeend",b)),w.nextSibling===p&&(p.remove(),g.insertAdjacentElement("afterbegin",p))});v.observe(g,{childList:!0,subtree:!1}),$(()=>{p.removeEventListener("focusin",y),b.removeEventListener("focusin",y),p.remove(),b.remove(),v.disconnect()})})}/*!
 * Portions of this file are based on code from zag.
 * MIT Licensed, Copyright (c) 2021 Chakra UI.
 *
 * Credits to the zag team:
 * https://github.com/chakra-ui/zag/blob/c1e6c7689b22bf58741ded7cf224dd9baec2a046/packages/utilities/form-utils/src/form.ts
 */function br(e,t){R(Pe(e,n=>{if(n==null)return;const r=td(n);r!=null&&(r.addEventListener("reset",t,{passive:!0}),$(()=>{r.removeEventListener("reset",t)}))}))}function td(e){return nd(e)?e.form:e.closest("form")}function nd(e){return e.matches("textarea, input, select, button")}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/15e101b74966bd5eb719c6529ce71ce57eaed430/packages/@react-aria/live-announcer/src/LiveAnnouncer.tsx
 */const rd="data-live-announcer";/*!
 * This file is based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/810579b671791f1593108f62cdc1893de3a220e3/packages/@react-aria/overlays/src/ariaHideOutside.ts
 */function Ki(e){R(()=>{E(e.isDisabled)||$(id(E(e.targets),E(e.root)))})}const sn=new WeakMap,Ne=[];function id(e,t=document.body){const n=new Set(e),r=new Set,i=l=>{for(const f of l.querySelectorAll(`[${rd}], [${mn}]`))n.add(f);const c=f=>{if(n.has(f)||f.parentElement&&r.has(f.parentElement)&&f.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(const m of n)if(f.contains(m))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},u=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),d=c(l);if(d===NodeFilter.FILTER_ACCEPT&&o(l),d!==NodeFilter.FILTER_REJECT){let f=u.nextNode();for(;f!=null;)o(f),f=u.nextNode()}},o=l=>{const c=sn.get(l)??0;l.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&l.setAttribute("aria-hidden","true"),r.add(l),sn.set(l,c+1))};Ne.length&&Ne[Ne.length-1].disconnect(),i(t);const s=new MutationObserver(l=>{for(const c of l)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...n,...r].some(u=>u.contains(c.target))){for(const u of c.removedNodes)u instanceof Element&&(n.delete(u),r.delete(u));for(const u of c.addedNodes)(u instanceof HTMLElement||u instanceof SVGElement)&&(u.dataset.liveAnnouncer==="true"||u.dataset.reactAriaTopLayer==="true")?n.add(u):u instanceof Element&&i(u)}});s.observe(t,{childList:!0,subtree:!0});const a={observe(){s.observe(t,{childList:!0,subtree:!0})},disconnect(){s.disconnect()}};return Ne.push(a),()=>{s.disconnect();for(const l of r){const c=sn.get(l);if(c==null)return;c===1?(l.removeAttribute("aria-hidden"),sn.delete(l)):sn.set(l,c-1)}a===Ne[Ne.length-1]?(Ne.pop(),Ne.length&&Ne[Ne.length-1].observe()):Ne.splice(Ne.indexOf(a),1)}}/*!
 * Portions of this file are based on code from radix-ui-primitives.
 * MIT Licensed, Copyright (c) 2022 WorkOS.
 *
 * Credits to the Radix UI team:
 * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/dismissable-layer/src/DismissableLayer.tsx
 *
 * Portions of this file are based on code from zag.
 * MIT Licensed, Copyright (c) 2021 Chakra UI.
 *
 * Credits to the Chakra UI team:
 * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/interact-outside/src/index.ts
 */const $o="interactOutside.pointerDownOutside",No="interactOutside.focusOutside";function od(e,t){let n,r=Vu;const i=()=>Be(t()),o=d=>e.onPointerDownOutside?.(d),s=d=>e.onFocusOutside?.(d),a=d=>e.onInteractOutside?.(d),l=d=>{const f=d.target;return!(f instanceof HTMLElement)||f.closest(`[${mn}]`)||!Re(i(),f)||Re(t(),f)?!1:!e.shouldExcludeElement?.(f)},c=d=>{function f(){const m=t(),g=d.target;if(!m||!g||!l(d))return;const p=me([o,a]);g.addEventListener($o,p,{once:!0});const b=new CustomEvent($o,{bubbles:!1,cancelable:!0,detail:{originalEvent:d,isContextMenu:d.button===2||Mu(d)&&d.button===0}});g.dispatchEvent(b)}d.pointerType==="touch"?(i().removeEventListener("click",f),r=f,i().addEventListener("click",f,{once:!0})):f()},u=d=>{const f=t(),m=d.target;if(!f||!m||!l(d))return;const g=me([s,a]);m.addEventListener(No,g,{once:!0});const p=new CustomEvent(No,{bubbles:!1,cancelable:!0,detail:{originalEvent:d,isContextMenu:!1}});m.dispatchEvent(p)};R(()=>{E(e.isDisabled)||(n=window.setTimeout(()=>{i().addEventListener("pointerdown",c,!0)},0),i().addEventListener("focusin",u,!0),$(()=>{window.clearTimeout(n),i().removeEventListener("click",r),i().removeEventListener("pointerdown",c,!0),i().removeEventListener("focusin",u,!0)}))})}/*!
 * Portions of this file are based on code from radix-ui-primitives.
 * MIT Licensed, Copyright (c) 2022 WorkOS.
 *
 * Credits to the Radix UI team:
 * https://github.com/radix-ui/primitives/blob/21a7c97dc8efa79fecca36428eec49f187294085/packages/react/presence/src/Presence.tsx
 * https://github.com/radix-ui/primitives/blob/21a7c97dc8efa79fecca36428eec49f187294085/packages/react/presence/src/useStateMachine.tsx
 */function Pt(e){const[t,n]=I();let r={},i=e(),o="none";const[s,a]=sd(e()?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R(Pe(s,l=>{const c=Bn(r);o=l==="mounted"?c:"none"})),R(Pe(e,l=>{if(i===l)return;const c=Bn(r);l?a("MOUNT"):r?.display==="none"?a("UNMOUNT"):a(i&&o!==c?"ANIMATION_OUT":"UNMOUNT"),i=l})),R(Pe(t,l=>{if(l){const c=d=>{const m=Bn(r).includes(d.animationName);d.target===l&&m&&a("ANIMATION_END")},u=d=>{d.target===l&&(o=Bn(r))};l.addEventListener("animationstart",u),l.addEventListener("animationcancel",c),l.addEventListener("animationend",c),$(()=>{l.removeEventListener("animationstart",u),l.removeEventListener("animationcancel",c),l.removeEventListener("animationend",c)})}else a("ANIMATION_END")})),{isPresent:()=>["mounted","unmountSuspended"].includes(s()),setRef:l=>{l&&(r=getComputedStyle(l)),n(l)}}}function Bn(e){return e?.animationName||"none"}function sd(e,t){const n=(s,a)=>t[s][a]??s,[r,i]=I(e);return[r,s=>{i(a=>n(a,s))}]}/*!
 * Portions of this file are based on code from floating-ui.
 * MIT Licensed, Copyright (c) 2021 Floating UI contributors.
 *
 * Credits to the Floating UI contributors:
 * https://github.com/floating-ui/floating-ui/blob/f7ce9420aa32c150eb45049f12cf3b5506715341/packages/react/src/components/FloatingOverlay.tsx
 *
 * Portions of this file are based on code from ariakit.
 * MIT Licensed, Copyright (c) Diego Haz.
 *
 * Credits to the Ariakit team:
 * https://github.com/ariakit/ariakit/blob/5d8a1f047fcadcf117073c70359663a3946b73bf/packages/ariakit/src/dialog/__utils/use-prevent-body-scroll.ts
 */const Kr="data-kb-scroll-lock";function Ho(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function ad(e,t,n){if(!e)return()=>{};const r=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{r?e.style.setProperty(t,r):e.style.removeProperty(t)}}function ld(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Vi(e){R(()=>{if(!E(e.ownerRef)||E(e.isDisabled))return;const t=Be(E(e.ownerRef)),n=ga(E(e.ownerRef)),{documentElement:r,body:i}=t;if(i.hasAttribute(Kr))return;i.setAttribute(Kr,"");const s=n.innerWidth-r.clientWidth,a=()=>ad(r,"--scrollbar-width",`${s}px`),l=ld(r),c=()=>Ho(i,{overflow:"hidden",[l]:`${s}px`}),u=()=>{const{scrollX:f,scrollY:m,visualViewport:g}=n,p=g?.offsetLeft??0,b=g?.offsetTop??0,y=Ho(i,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(b))}px`,left:`${-(f-Math.floor(p))}px`,right:"0",[l]:`${s}px`});return()=>{y(),n.scrollTo(f,m)}},d=Ri([a(),ba()?u():c()]);$(()=>{d(),i.removeAttribute(Kr)})})}function fe(e){return t=>(e(t),()=>e(void 0))}/*!
 * Portions of this file are based on code from ariakit.
 * MIT Licensed, Copyright (c) Diego Haz.
 *
 * Credits to the ariakit team:
 * https://github.com/ariakit/ariakit/blob/8a13899ff807bbf39f3d89d2d5964042ba4d5287/packages/ariakit-react-utils/src/hooks.ts
 */function Ui(e,t){const[n,r]=I(Ko(t?.()));return R(()=>{r(e()?.tagName.toLowerCase()||Ko(t?.()))}),n}function Ko(e){return Kt(e)?e:void 0}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/a13802d8be6f83af1450e56f7a88527b10d9cadf/packages/@react-stately/toggle/src/useToggleState.ts
 */function Pa(e={}){const[t,n]=xa({value:()=>E(e.isSelected),defaultValue:()=>!!E(e.defaultIsSelected),onChange:o=>e.onSelectedChange?.(o)});return{isSelected:t,setIsSelected:o=>{!E(e.isReadOnly)&&!E(e.isDisabled)&&n(o)},toggle:()=>{!E(e.isReadOnly)&&!E(e.isDisabled)&&n(!t())}}}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/70e7caf1946c423bc9aa9cb0e50dbdbe953d239b/packages/@react-aria/label/src/useField.ts
 */const vr=["id","name","validationState","required","disabled","readOnly"];function yr(e){const t=`form-control-${ve()}`;e=U({id:t},e);const[n,r]=I(),[i,o]=I(),[s,a]=I(),[l,c]=I(),u=(g,p,b)=>{const y=b!=null||n()!=null;return[b,n(),y&&p!=null?g:void 0].filter(Boolean).join(" ")||void 0},d=g=>[s(),l(),g].filter(Boolean).join(" ")||void 0,f=S(()=>({"data-valid":E(e.validationState)==="valid"?"":void 0,"data-invalid":E(e.validationState)==="invalid"?"":void 0,"data-required":E(e.required)?"":void 0,"data-disabled":E(e.disabled)?"":void 0,"data-readonly":E(e.readOnly)?"":void 0}));return{formControlContext:{name:()=>E(e.name)??E(e.id),dataset:f,validationState:()=>E(e.validationState),isRequired:()=>E(e.required),isDisabled:()=>E(e.disabled),isReadOnly:()=>E(e.readOnly),labelId:n,fieldId:i,descriptionId:s,errorMessageId:l,getAriaLabelledBy:u,getAriaDescribedBy:d,generateId:Me(()=>E(e.id)),registerLabel:fe(r),registerField:fe(o),registerDescription:fe(a),registerErrorMessage:fe(c)}}}const Pn=ue();function tt(){const e=ne(Pn);if(e===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return e}const _r=["id","aria-label","aria-labelledby","aria-describedby"];function wr(e){const t=tt();return e=U({id:t.generateId("field")},e),R(()=>$(t.registerField(E(e.id)))),{fieldProps:{id:()=>E(e.id),ariaLabel:()=>E(e["aria-label"]),ariaLabelledBy:()=>t.getAriaLabelledBy(E(e.id),E(e["aria-label"]),E(e["aria-labelledby"])),ariaDescribedBy:()=>t.getAriaDescribedBy(E(e["aria-describedby"]))}}}function Z(e){const[t,n]=H(e,["asChild","as","children"]);if(!t.asChild)return h(qn,F({get component(){return t.as}},n,{get children(){return t.children}}));const r=Ot(()=>t.children);if(Vo(r())){const i=Uo(n,r()?.props??{});return h(qn,i)}if(Tu(r())){const i=r().find(Vo);if(i){const o=()=>h(zt,{get each(){return r()},children:a=>h(Te,{when:a===i,fallback:a,get children(){return i.props.children}})}),s=Uo(n,i?.props??{});return h(qn,F(s,{children:o}))}}throw new Error("[kobalte]: Component is expected to render `asChild` but no children `As` component was found.")}const cd=Symbol("$$KobalteAsComponent");function Vo(e){return e?.[cd]===!0}function Uo(e,t){return xu([e,t],{reverseEventHandlers:!0})}function Gi(e){let t;const n=tt();e=U({id:n.generateId("label")},e);const[r,i]=H(e,["ref"]),o=Ui(()=>t,()=>"label");return R(()=>$(n.registerLabel(i.id))),h(Z,F({as:"label",ref(s){var a=ae(l=>t=l,r.ref);typeof a=="function"&&a(s)},get for(){return S(()=>o()==="label")()?n.fieldId():void 0}},()=>n.dataset(),i))}const ud={"ar-AE":{dismiss:"تجاهل"},"bg-BG":{dismiss:"Отхвърляне"},"cs-CZ":{dismiss:"Odstranit"},"da-DK":{dismiss:"Luk"},"de-DE":{dismiss:"Schließen"},"el-GR":{dismiss:"Απόρριψη"},"en-US":{dismiss:"Dismiss"},"es-ES":{dismiss:"Descartar"},"et-EE":{dismiss:"Lõpeta"},"fi-FI":{dismiss:"Hylkää"},"fr-FR":{dismiss:"Rejeter"},"he-IL":{dismiss:"התעלם"},"hr-HR":{dismiss:"Odbaci"},"hu-HU":{dismiss:"Elutasítás"},"it-IT":{dismiss:"Ignora"},"ja-JP":{dismiss:"閉じる"},"ko-KR":{dismiss:"무시"},"lt-LT":{dismiss:"Atmesti"},"lv-LV":{dismiss:"Nerādīt"},"nb-NO":{dismiss:"Lukk"},"nl-NL":{dismiss:"Negeren"},"pl-PL":{dismiss:"Zignoruj"},"pt-BR":{dismiss:"Descartar"},"pt-PT":{dismiss:"Dispensar"},"ro-RO":{dismiss:"Revocare"},"ru-RU":{dismiss:"Пропустить"},"sk-SK":{dismiss:"Zrušiť"},"sl-SI":{dismiss:"Opusti"},"sr-SP":{dismiss:"Odbaci"},"sv-SE":{dismiss:"Avvisa"},"tr-TR":{dismiss:"Kapat"},"uk-UA":{dismiss:"Скасувати"},"zh-CN":{dismiss:"取消"},"zh-TW":{dismiss:"關閉"}};/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/utils.ts
 */const dd=new Set(["Avst","Arab","Armi","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),fd=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function hd(e){if(Intl.Locale){const n=new Intl.Locale(e).maximize().script??"";return dd.has(n)}const t=e.split("-")[0];return fd.has(t)}function gd(e){return hd(e)?"rtl":"ltr"}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/useDefaultLocale.ts
 */function Aa(){let e=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:gd(e)}}let mi=Aa();const fn=new Set;function Go(){mi=Aa();for(const e of fn)e(mi)}function md(){const[e,t]=I(mi),n=S(()=>e());return Mt(()=>{fn.size===0&&window.addEventListener("languagechange",Go),fn.add(t),$(()=>{fn.delete(t),fn.size===0&&window.removeEventListener("languagechange",Go)})}),{locale:()=>n().locale,direction:()=>n().direction}}const pd=ue();function Qt(){const e=md();return ne(pd)||e}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/useCollator.ts
 */const Vr=new Map;function Da(e){const{locale:t}=Qt(),n=S(()=>t()+(e?Object.entries(e).sort((r,i)=>r[0]<i[0]?-1:1).join():""));return S(()=>{const r=n();let i;return Vr.has(r)&&(i=Vr.get(r)),i||(i=new Intl.Collator(t(),e),Vr.set(r,i)),i})}var pi=function(e,t){return pi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},pi(e,t)};function xr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pi(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ee=function(){return ee=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ee.apply(this,arguments)};function bd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ur(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Y;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Y||(Y={}));var ce;(function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"})(ce||(ce={}));var Wt;(function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"})(Wt||(Wt={}));function qo(e){return e.type===ce.literal}function vd(e){return e.type===ce.argument}function Ia(e){return e.type===ce.number}function Ma(e){return e.type===ce.date}function Oa(e){return e.type===ce.time}function La(e){return e.type===ce.select}function ka(e){return e.type===ce.plural}function yd(e){return e.type===ce.pound}function Ra(e){return e.type===ce.tag}function Fa(e){return!!(e&&typeof e=="object"&&e.type===Wt.number)}function bi(e){return!!(e&&typeof e=="object"&&e.type===Wt.dateTime)}var Ba=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,_d=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function wd(e){var t={};return e.replace(_d,function(n){var r=n.length;switch(n[0]){case"G":t.era=r===4?"long":r===5?"narrow":"short";break;case"y":t.year=r===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=r===4?"short":r===5?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][r-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][r-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][r-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][r-1];break;case"s":t.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}var xd=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function Sd(e){if(e.length===0)throw new Error("Number skeleton cannot be empty");for(var t=e.split(xd).filter(function(f){return f.length>0}),n=[],r=0,i=t;r<i.length;r++){var o=i[r],s=o.split("/");if(s.length===0)throw new Error("Invalid number skeleton");for(var a=s[0],l=s.slice(1),c=0,u=l;c<u.length;c++){var d=u[c];if(d.length===0)throw new Error("Invalid number skeleton")}n.push({stem:a,options:l})}return n}function Ed(e){return e.replace(/^(.*?)-/,"")}var zo=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,$a=/^(@+)?(\+|#+)?[rs]?$/g,Td=/(\*)(0+)|(#+)(0+)|(0+)/g,Na=/^(0+)$/;function jo(e){var t={};return e[e.length-1]==="r"?t.roundingPriority="morePrecision":e[e.length-1]==="s"&&(t.roundingPriority="lessPrecision"),e.replace($a,function(n,r,i){return typeof i!="string"?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):i==="+"?t.minimumSignificantDigits=r.length:r[0]==="#"?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+(typeof i=="string"?i.length:0)),""}),t}function Ha(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Cd(e){var t;if(e[0]==="E"&&e[1]==="E"?(t={notation:"engineering"},e=e.slice(2)):e[0]==="E"&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if(n==="+!"?(t.signDisplay="always",e=e.slice(2)):n==="+?"&&(t.signDisplay="exceptZero",e=e.slice(2)),!Na.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function Wo(e){var t={},n=Ha(e);return n||t}function Pd(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=Ed(i.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=ee(ee(ee({},t),{notation:"scientific"}),i.options.reduce(function(l,c){return ee(ee({},l),Wo(c))},{}));continue;case"engineering":t=ee(ee(ee({},t),{notation:"engineering"}),i.options.reduce(function(l,c){return ee(ee({},l),Wo(c))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(Td,function(l,c,u,d,f,m){if(c)t.minimumIntegerDigits=u.length;else{if(d&&f)throw new Error("We currently do not support maximum integer digits");if(m)throw new Error("We currently do not support exact integer digits")}return""});continue}if(Na.test(i.stem)){t.minimumIntegerDigits=i.stem.length;continue}if(zo.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(zo,function(l,c,u,d,f,m){return u==="*"?t.minimumFractionDigits=c.length:d&&d[0]==="#"?t.maximumFractionDigits=d.length:f&&m?(t.minimumFractionDigits=f.length,t.maximumFractionDigits=f.length+m.length):(t.minimumFractionDigits=c.length,t.maximumFractionDigits=c.length),""});var o=i.options[0];o==="w"?t=ee(ee({},t),{trailingZeroDisplay:"stripIfInteger"}):o&&(t=ee(ee({},t),jo(o)));continue}if($a.test(i.stem)){t=ee(ee({},t),jo(i.stem));continue}var s=Ha(i.stem);s&&(t=ee(ee({},t),s));var a=Cd(i.stem);a&&(t=ee(ee({},t),a))}return t}var $n={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function Ad(e,t){for(var n="",r=0;r<e.length;r++){var i=e.charAt(r);if(i==="j"){for(var o=0;r+1<e.length&&e.charAt(r+1)===i;)o++,r++;var s=1+(o&1),a=o<2?1:3+(o>>1),l="a",c=Dd(t);for((c=="H"||c=="k")&&(a=0);a-- >0;)n+=l;for(;s-- >0;)n=c+n}else i==="J"?n+="H":n+=i}return n}function Dd(e){var t=e.hourCycle;if(t===void 0&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=e.language,r;n!=="root"&&(r=e.maximize().region);var i=$n[r||""]||$n[n||""]||$n["".concat(n,"-001")]||$n["001"];return i[0]}var Gr,Id=new RegExp("^".concat(Ba.source,"*")),Md=new RegExp("".concat(Ba.source,"*$"));function Q(e,t){return{start:e,end:t}}var Od=!!String.prototype.startsWith&&"_a".startsWith("a",1),Ld=!!String.fromCodePoint,kd=!!Object.fromEntries,Rd=!!String.prototype.codePointAt,Fd=!!String.prototype.trimStart,Bd=!!String.prototype.trimEnd,$d=!!Number.isSafeInteger,Nd=$d?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},vi=!0;try{var Hd=Va("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");vi=((Gr=Hd.exec("a"))===null||Gr===void 0?void 0:Gr[0])==="a"}catch{vi=!1}var Xo=Od?function(t,n,r){return t.startsWith(n,r)}:function(t,n,r){return t.slice(r,r+n.length)===n},yi=Ld?String.fromCodePoint:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=t.length,o=0,s;i>o;){if(s=t[o++],s>1114111)throw RangeError(s+" is not a valid code point");r+=s<65536?String.fromCharCode(s):String.fromCharCode(((s-=65536)>>10)+55296,s%1024+56320)}return r},Jo=kd?Object.fromEntries:function(t){for(var n={},r=0,i=t;r<i.length;r++){var o=i[r],s=o[0],a=o[1];n[s]=a}return n},Ka=Rd?function(t,n){return t.codePointAt(n)}:function(t,n){var r=t.length;if(!(n<0||n>=r)){var i=t.charCodeAt(n),o;return i<55296||i>56319||n+1===r||(o=t.charCodeAt(n+1))<56320||o>57343?i:(i-55296<<10)+(o-56320)+65536}},Kd=Fd?function(t){return t.trimStart()}:function(t){return t.replace(Id,"")},Vd=Bd?function(t){return t.trimEnd()}:function(t){return t.replace(Md,"")};function Va(e,t){return new RegExp(e,t)}var _i;if(vi){var Yo=Va("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");_i=function(t,n){var r;Yo.lastIndex=n;var i=Yo.exec(t);return(r=i[1])!==null&&r!==void 0?r:""}}else _i=function(t,n){for(var r=[];;){var i=Ka(t,n);if(i===void 0||Ua(i)||zd(i))break;r.push(i),n+=i>=65536?2:1}return yi.apply(void 0,r)};var Ud=function(){function e(t,n){n===void 0&&(n={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(t,n,r){for(var i=[];!this.isEOF();){var o=this.char();if(o===123){var s=this.parseArgument(t,r);if(s.err)return s;i.push(s.val)}else{if(o===125&&t>0)break;if(o===35&&(n==="plural"||n==="selectordinal")){var a=this.clonePosition();this.bump(),i.push({type:ce.pound,location:Q(a,this.clonePosition())})}else if(o===60&&!this.ignoreTag&&this.peek()===47){if(r)break;return this.error(Y.UNMATCHED_CLOSING_TAG,Q(this.clonePosition(),this.clonePosition()))}else if(o===60&&!this.ignoreTag&&wi(this.peek()||0)){var s=this.parseTag(t,n);if(s.err)return s;i.push(s.val)}else{var s=this.parseLiteral(t,n);if(s.err)return s;i.push(s.val)}}}return{val:i,err:null}},e.prototype.parseTag=function(t,n){var r=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:ce.literal,value:"<".concat(i,"/>"),location:Q(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(t+1,n,!0);if(o.err)return o;var s=o.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!wi(this.char()))return this.error(Y.INVALID_TAG,Q(a,this.clonePosition()));var l=this.clonePosition(),c=this.parseTagName();return i!==c?this.error(Y.UNMATCHED_CLOSING_TAG,Q(l,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:ce.tag,value:i,children:s,location:Q(r,this.clonePosition())},err:null}:this.error(Y.INVALID_TAG,Q(a,this.clonePosition())))}else return this.error(Y.UNCLOSED_TAG,Q(r,this.clonePosition()))}else return this.error(Y.INVALID_TAG,Q(r,this.clonePosition()))},e.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&qd(this.char());)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(t,n){for(var r=this.clonePosition(),i="";;){var o=this.tryParseQuote(n);if(o){i+=o;continue}var s=this.tryParseUnquoted(t,n);if(s){i+=s;continue}var a=this.tryParseLeftAngleBracket();if(a){i+=a;continue}break}var l=Q(r,this.clonePosition());return{val:{type:ce.literal,value:i,location:l},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!Gd(this.peek()||0))?(this.bump(),"<"):null},e.prototype.tryParseQuote=function(t){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(t==="plural"||t==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(r===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(r);this.bump()}return yi.apply(void 0,n)},e.prototype.tryParseUnquoted=function(t,n){if(this.isEOF())return null;var r=this.char();return r===60||r===123||r===35&&(n==="plural"||n==="selectordinal")||r===125&&t>0?null:(this.bump(),yi(r))},e.prototype.parseArgument=function(t,n){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Y.EXPECT_ARGUMENT_CLOSING_BRACE,Q(r,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(Y.EMPTY_ARGUMENT,Q(r,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(Y.MALFORMED_ARGUMENT,Q(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Y.EXPECT_ARGUMENT_CLOSING_BRACE,Q(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:ce.argument,value:i,location:Q(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Y.EXPECT_ARGUMENT_CLOSING_BRACE,Q(r,this.clonePosition())):this.parseArgumentOptions(t,n,i,r);default:return this.error(Y.MALFORMED_ARGUMENT,Q(r,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),n=this.offset(),r=_i(this.message,n),i=n+r.length;this.bumpTo(i);var o=this.clonePosition(),s=Q(t,o);return{value:r,location:s}},e.prototype.parseArgumentOptions=function(t,n,r,i){var o,s=this.clonePosition(),a=this.parseIdentifierIfPossible().value,l=this.clonePosition();switch(a){case"":return this.error(Y.EXPECT_ARGUMENT_TYPE,Q(s,l));case"number":case"date":case"time":{this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var u=this.clonePosition(),d=this.parseSimpleArgStyleIfPossible();if(d.err)return d;var f=Vd(d.val);if(f.length===0)return this.error(Y.EXPECT_ARGUMENT_STYLE,Q(this.clonePosition(),this.clonePosition()));var m=Q(u,this.clonePosition());c={style:f,styleLocation:m}}var g=this.tryParseArgumentClose(i);if(g.err)return g;var p=Q(i,this.clonePosition());if(c&&Xo(c?.style,"::",0)){var b=Kd(c.style.slice(2));if(a==="number"){var d=this.parseNumberSkeletonFromString(b,c.styleLocation);return d.err?d:{val:{type:ce.number,value:r,location:p,style:d.val},err:null}}else{if(b.length===0)return this.error(Y.EXPECT_DATE_TIME_SKELETON,p);var y=b;this.locale&&(y=Ad(b,this.locale));var f={type:Wt.dateTime,pattern:y,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?wd(y):{}},v=a==="date"?ce.date:ce.time;return{val:{type:v,value:r,location:p,style:f},err:null}}}return{val:{type:a==="number"?ce.number:a==="date"?ce.date:ce.time,value:r,location:p,style:(o=c?.style)!==null&&o!==void 0?o:null},err:null}}case"plural":case"selectordinal":case"select":{var _=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Y.EXPECT_SELECT_ARGUMENT_OPTIONS,Q(_,ee({},_)));this.bumpSpace();var w=this.parseIdentifierIfPossible(),P=0;if(a!=="select"&&w.value==="offset"){if(!this.bumpIf(":"))return this.error(Y.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Q(this.clonePosition(),this.clonePosition()));this.bumpSpace();var d=this.tryParseDecimalInteger(Y.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Y.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(d.err)return d;this.bumpSpace(),w=this.parseIdentifierIfPossible(),P=d.val}var x=this.tryParsePluralOrSelectOptions(t,a,n,w);if(x.err)return x;var g=this.tryParseArgumentClose(i);if(g.err)return g;var L=Q(i,this.clonePosition());return a==="select"?{val:{type:ce.select,value:r,options:Jo(x.val),location:L},err:null}:{val:{type:ce.plural,value:r,options:Jo(x.val),offset:P,pluralType:a==="plural"?"cardinal":"ordinal",location:L},err:null}}default:return this.error(Y.INVALID_ARGUMENT_TYPE,Q(s,l))}},e.prototype.tryParseArgumentClose=function(t){return this.isEOF()||this.char()!==125?this.error(Y.EXPECT_ARGUMENT_CLOSING_BRACE,Q(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,n=this.clonePosition();!this.isEOF();){var r=this.char();switch(r){case 39:{this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Y.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Q(i,this.clonePosition()));this.bump();break}case 123:{t+=1,this.bump();break}case 125:{if(t>0)t-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(t,n){var r=[];try{r=Sd(t)}catch{return this.error(Y.INVALID_NUMBER_SKELETON,n)}return{val:{type:Wt.number,tokens:r,location:n,parsedOptions:this.shouldParseSkeletons?Pd(r):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(t,n,r,i){for(var o,s=!1,a=[],l=new Set,c=i.value,u=i.location;;){if(c.length===0){var d=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var f=this.tryParseDecimalInteger(Y.EXPECT_PLURAL_ARGUMENT_SELECTOR,Y.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;u=Q(d,this.clonePosition()),c=this.message.slice(d.offset,this.offset())}else break}if(l.has(c))return this.error(n==="select"?Y.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Y.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);c==="other"&&(s=!0),this.bumpSpace();var m=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?Y.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Y.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Q(this.clonePosition(),this.clonePosition()));var g=this.parseMessage(t+1,n,r);if(g.err)return g;var p=this.tryParseArgumentClose(m);if(p.err)return p;a.push([c,{value:g.val,location:Q(m,this.clonePosition())}]),l.add(c),this.bumpSpace(),o=this.parseIdentifierIfPossible(),c=o.value,u=o.location}return a.length===0?this.error(n==="select"?Y.EXPECT_SELECT_ARGUMENT_SELECTOR:Y.EXPECT_PLURAL_ARGUMENT_SELECTOR,Q(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(Y.MISSING_OTHER_CLAUSE,Q(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(t,n){var r=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var o=!1,s=0;!this.isEOF();){var a=this.char();if(a>=48&&a<=57)o=!0,s=s*10+(a-48),this.bump();else break}var l=Q(i,this.clonePosition());return o?(s*=r,Nd(s)?{val:s,err:null}:this.error(n,l)):this.error(t,l)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var n=Ka(this.message,t);if(n===void 0)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return n},e.prototype.error=function(t,n){return{val:null,err:{kind:t,message:this.message,location:n}}},e.prototype.bump=function(){if(!this.isEOF()){var t=this.char();t===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},e.prototype.bumpIf=function(t){if(Xo(this.message,t,this.offset())){for(var n=0;n<t.length;n++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(t){var n=this.offset(),r=this.message.indexOf(t,n);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var n=this.offset();if(n===t)break;if(n>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Ua(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),n=this.offset(),r=this.message.charCodeAt(n+(t>=65536?2:1));return r??null},e}();function wi(e){return e>=97&&e<=122||e>=65&&e<=90}function Gd(e){return wi(e)||e===47}function qd(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function Ua(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function zd(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function xi(e){e.forEach(function(t){if(delete t.location,La(t)||ka(t))for(var n in t.options)delete t.options[n].location,xi(t.options[n].value);else Ia(t)&&Fa(t.style)||(Ma(t)||Oa(t))&&bi(t.style)?delete t.style.location:Ra(t)&&xi(t.children)})}function jd(e,t){t===void 0&&(t={}),t=ee({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new Ud(e,t).parse();if(n.err){var r=SyntaxError(Y[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return t?.captureLocation||xi(n.val),n.val}function qr(e,t){var n=t&&t.cache?t.cache:Qd,r=t&&t.serializer?t.serializer:Zd,i=t&&t.strategy?t.strategy:Xd;return i(e,{cache:n,serializer:r})}function Wd(e){return e==null||typeof e=="number"||typeof e=="boolean"}function Ga(e,t,n,r){var i=Wd(r)?r:n(r),o=t.get(i);return typeof o>"u"&&(o=e.call(this,r),t.set(i,o)),o}function qa(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return typeof o>"u"&&(o=e.apply(this,r),t.set(i,o)),o}function qi(e,t,n,r,i){return n.bind(t,e,r,i)}function Xd(e,t){var n=e.length===1?Ga:qa;return qi(e,this,n,t.cache.create(),t.serializer)}function Jd(e,t){return qi(e,this,qa,t.cache.create(),t.serializer)}function Yd(e,t){return qi(e,this,Ga,t.cache.create(),t.serializer)}var Zd=function(){return JSON.stringify(arguments)};function zi(){this.cache=Object.create(null)}zi.prototype.get=function(e){return this.cache[e]};zi.prototype.set=function(e,t){this.cache[e]=t};var Qd={create:function(){return new zi}},zr={variadic:Jd,monadic:Yd},Xt;(function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"})(Xt||(Xt={}));var Sr=function(e){xr(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.code=r,o.originalMessage=i,o}return t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),Zo=function(e){xr(t,e);function t(n,r,i,o){return e.call(this,'Invalid values for "'.concat(n,'": "').concat(r,'". Options are "').concat(Object.keys(i).join('", "'),'"'),Xt.INVALID_VALUE,o)||this}return t}(Sr),ef=function(e){xr(t,e);function t(n,r,i){return e.call(this,'Value for "'.concat(n,'" must be of type ').concat(r),Xt.INVALID_VALUE,i)||this}return t}(Sr),tf=function(e){xr(t,e);function t(n,r){return e.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(r,'"'),Xt.MISSING_VALUE,r)||this}return t}(Sr),Ce;(function(e){e[e.literal=0]="literal",e[e.object=1]="object"})(Ce||(Ce={}));function nf(e){return e.length<2?e:e.reduce(function(t,n){var r=t[t.length-1];return!r||r.type!==Ce.literal||n.type!==Ce.literal?t.push(n):r.value+=n.value,t},[])}function rf(e){return typeof e=="function"}function zn(e,t,n,r,i,o,s){if(e.length===1&&qo(e[0]))return[{type:Ce.literal,value:e[0].value}];for(var a=[],l=0,c=e;l<c.length;l++){var u=c[l];if(qo(u)){a.push({type:Ce.literal,value:u.value});continue}if(yd(u)){typeof o=="number"&&a.push({type:Ce.literal,value:n.getNumberFormat(t).format(o)});continue}var d=u.value;if(!(i&&d in i))throw new tf(d,s);var f=i[d];if(vd(u)){(!f||typeof f=="string"||typeof f=="number")&&(f=typeof f=="string"||typeof f=="number"?String(f):""),a.push({type:typeof f=="string"?Ce.literal:Ce.object,value:f});continue}if(Ma(u)){var m=typeof u.style=="string"?r.date[u.style]:bi(u.style)?u.style.parsedOptions:void 0;a.push({type:Ce.literal,value:n.getDateTimeFormat(t,m).format(f)});continue}if(Oa(u)){var m=typeof u.style=="string"?r.time[u.style]:bi(u.style)?u.style.parsedOptions:r.time.medium;a.push({type:Ce.literal,value:n.getDateTimeFormat(t,m).format(f)});continue}if(Ia(u)){var m=typeof u.style=="string"?r.number[u.style]:Fa(u.style)?u.style.parsedOptions:void 0;m&&m.scale&&(f=f*(m.scale||1)),a.push({type:Ce.literal,value:n.getNumberFormat(t,m).format(f)});continue}if(Ra(u)){var g=u.children,p=u.value,b=i[p];if(!rf(b))throw new ef(p,"function",s);var y=zn(g,t,n,r,i,o),v=b(y.map(function(P){return P.value}));Array.isArray(v)||(v=[v]),a.push.apply(a,v.map(function(P){return{type:typeof P=="string"?Ce.literal:Ce.object,value:P}}))}if(La(u)){var _=u.options[f]||u.options.other;if(!_)throw new Zo(u.value,f,Object.keys(u.options),s);a.push.apply(a,zn(_.value,t,n,r,i));continue}if(ka(u)){var _=u.options["=".concat(f)];if(!_){if(!Intl.PluralRules)throw new Sr(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Xt.MISSING_INTL_API,s);var w=n.getPluralRules(t,{type:u.pluralType}).select(f-(u.offset||0));_=u.options[w]||u.options.other}if(!_)throw new Zo(u.value,f,Object.keys(u.options),s);a.push.apply(a,zn(_.value,t,n,r,i,f-(u.offset||0)));continue}}return nf(a)}function of(e,t){return t?ee(ee(ee({},e||{}),t||{}),Object.keys(e).reduce(function(n,r){return n[r]=ee(ee({},e[r]),t[r]||{}),n},{})):e}function sf(e,t){return t?Object.keys(e).reduce(function(n,r){return n[r]=of(e[r],t[r]),n},ee({},e)):e}function jr(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function af(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:qr(function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((t=Intl.NumberFormat).bind.apply(t,Ur([void 0],n,!1)))},{cache:jr(e.number),strategy:zr.variadic}),getDateTimeFormat:qr(function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((t=Intl.DateTimeFormat).bind.apply(t,Ur([void 0],n,!1)))},{cache:jr(e.dateTime),strategy:zr.variadic}),getPluralRules:qr(function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((t=Intl.PluralRules).bind.apply(t,Ur([void 0],n,!1)))},{cache:jr(e.pluralRules),strategy:zr.variadic})}}var lf=function(){function e(t,n,r,i){n===void 0&&(n=e.defaultLocale);var o=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(l){var c=o.formatToParts(l);if(c.length===1)return c[0].value;var u=c.reduce(function(d,f){return!d.length||f.type!==Ce.literal||typeof d[d.length-1]!="string"?d.push(f.value):d[d.length-1]+=f.value,d},[]);return u.length<=1?u[0]||"":u},this.formatToParts=function(l){return zn(o.ast,o.locales,o.formatters,o.formats,l,void 0,o.message)},this.resolvedOptions=function(){var l;return{locale:((l=o.resolvedLocale)===null||l===void 0?void 0:l.toString())||Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),typeof t=="string"){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var s=i||{};s.formatters;var a=bd(s,["formatters"]);this.ast=e.__parse(t,ee(ee({},a),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=sf(e.formats,r),this.formatters=i&&i.formatters||af(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(t){if(!(typeof Intl.Locale>"u")){var n=Intl.NumberFormat.supportedLocalesOf(t);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof t=="string"?t:t[0])}},e.__parse=jd,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();class cf{getStringForLocale(t,n){let r=this.messages[n];r||(r=uf(n,this.messages,this.defaultLocale),this.messages[n]=r);let i=r[t];if(!i)throw new Error(`Could not find intl message ${t} in ${n} locale`);return i}constructor(t,n="en-US"){this.messages={...t},this.defaultLocale=n}}function uf(e,t,n="en-US"){if(t[e])return t[e];let r=df(e);if(t[r])return t[r];for(let i in t)if(i.startsWith(r+"-"))return t[i];return t[n]}function df(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}class ff{format(t,n){let r=this.cache[t];if(!r){let o=this.messages.getStringForLocale(t,this.locale);if(!o)throw new Error(`Could not find intl message ${t} in ${this.locale} locale`);r=new lf(o,this.locale),this.cache[t]=r}let i;return n&&(i=Object.keys(n).reduce((o,s)=>(o[s]=n[s]==null?!1:n[s],o),{})),r.format(i)}constructor(t,n){this.locale=t,this.messages=n,this.cache={}}}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/23c3a91e7b87952f07da9da115188bd2abd99d77/packages/@react-aria/i18n/src/useMessageFormatter.ts
 */const Qo=new WeakMap;function hf(e){let t=Qo.get(e);return t||(t=new cf(e),Qo.set(e,t)),t}function ji(e){const{locale:t}=Qt(),n=S(()=>new ff(t(),hf(E(e))));return S(()=>({format:(r,i)=>n().format(r,i)}))}let Wr=new Map,Si=!1;try{Si=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let nr=!1;try{nr=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const za={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class gf{format(t){let n="";if(!Si&&this.options.signDisplay!=null?n=pf(this.numberFormatter,this.options.signDisplay,t):n=this.numberFormatter.format(t),this.options.style==="unit"&&!nr){var r;let{unit:i,unitDisplay:o="short",locale:s}=this.resolvedOptions(),a=(r=za[i])===null||r===void 0?void 0:r[o];n+=a[s]||a.default}return n}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,n);if(n<t)throw new RangeError("End date must be >= start date");return`${this.format(t)} – ${this.format(n)}`}formatRangeToParts(t,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,n);if(n<t)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(t),i=this.numberFormatter.formatToParts(n);return[...r.map(o=>({...o,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!Si&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!nr&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,n={}){this.numberFormatter=mf(t,n),this.options=n}}function mf(e,t={}){let{numberingSystem:n}=t;if(n&&e.indexOf("-u-nu-")===-1&&(e=`${e}-u-nu-${n}`),t.style==="unit"&&!nr){var r;let{unit:s,unitDisplay:a="short"}=t;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=za[s])===null||r===void 0)&&r[a]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${a}`);t={...t,style:"decimal"}}let i=e+(t?Object.entries(t).sort((s,a)=>s[0]<a[0]?-1:1).join():"");if(Wr.has(i))return Wr.get(i);let o=new Intl.NumberFormat(e,t);return Wr.set(i,o),o}function pf(e,t,n){if(t==="auto")return e.format(n);if(t==="never")return e.format(Math.abs(n));{let r=!1;if(t==="always"?r=n>0||Object.is(n,0):t==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let i=e.format(-n),o=e.format(n),s=i.replace(o,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(o,"!!!").replace(s,"+").replace("!!!",o)}else return e.format(n)}}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/useNumberFormatter.ts
 */function bf(e){const{locale:t}=Qt();return S(()=>new gf(t(),E(e)))}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/selection/src/Selection.ts
 * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/selection/src/types.ts
 * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-types/shared/src/selection.d.ts
 */class Ke extends Set{anchorKey;currentKey;constructor(t,n,r){super(t),t instanceof Ke?(this.anchorKey=n||t.anchorKey,this.currentKey=r||t.currentKey):(this.anchorKey=n,this.currentKey=r)}}function vf(e){const[t,n]=Tn(e);return[()=>t()??new Ke,n]}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/utils.ts
 */function ja(e){return Au()?e.altKey:e.ctrlKey}function Vt(e){return En()?e.metaKey:e.ctrlKey}function es(e){return new Ke(e)}function yf(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/selection/src/useMultipleSelectionState.ts
 */function _f(e){e=U({selectionMode:"none",selectionBehavior:"toggle"},e);const[t,n]=I(!1),[r,i]=I(),o=S(()=>{const g=E(e.selectedKeys);return g!=null?es(g):g}),s=S(()=>{const g=E(e.defaultSelectedKeys);return g!=null?es(g):new Ke}),[a,l]=vf({value:o,defaultValue:s,onChange:g=>e.onSelectionChange?.(g)}),[c,u]=I(E(e.selectionBehavior)),d=()=>E(e.selectionMode),f=()=>E(e.disallowEmptySelection)??!1,m=g=>{(E(e.allowDuplicateSelectionEvents)||!yf(g,a()))&&l(g)};return R(()=>{const g=a();E(e.selectionBehavior)==="replace"&&c()==="toggle"&&typeof g=="object"&&g.size===0&&u("replace")}),R(()=>{u(E(e.selectionBehavior)??"toggle")}),{selectionMode:d,disallowEmptySelection:f,selectionBehavior:c,setSelectionBehavior:u,isFocused:t,setFocused:n,focusedKey:r,setFocusedKey:i,selectedKeys:a,setSelectedKeys:m}}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/useTypeSelect.ts
 */function Wa(e){const[t,n]=I(""),[r,i]=I(-1);return{typeSelectHandlers:{onKeyDown:s=>{if(E(e.isDisabled))return;const a=E(e.keyboardDelegate),l=E(e.selectionManager);if(!a.getKeyForSearch)return;const c=wf(s.key);if(!c||s.ctrlKey||s.metaKey)return;c===" "&&t().trim().length>0&&(s.preventDefault(),s.stopPropagation());let u=n(f=>f+=c),d=a.getKeyForSearch(u,l.focusedKey())??a.getKeyForSearch(u);d==null&&xf(u)&&(u=u[0],d=a.getKeyForSearch(u,l.focusedKey())??a.getKeyForSearch(u)),d!=null&&(l.setFocusedKey(d),e.onTypeSelect?.(d)),clearTimeout(r()),i(window.setTimeout(()=>n(""),500))}}}}function wf(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function xf(e){return e.split("").every(t=>t===e[0])}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/useSelectableCollection.ts
 */function Sf(e,t,n){e=F({selectOnFocus:()=>E(e.selectionManager).selectionBehavior()==="replace"},e);const i=()=>n?.()??t(),{direction:o}=Qt();let s={top:0,left:0};pu(()=>E(e.isVirtualized)?void 0:i(),"scroll",()=>{const g=i();g&&(s={top:g.scrollTop,left:g.scrollLeft})});const{typeSelectHandlers:a}=Wa({isDisabled:()=>E(e.disallowTypeAhead),keyboardDelegate:()=>E(e.keyboardDelegate),selectionManager:()=>E(e.selectionManager)}),l=g=>{K(g,a.onKeyDown),g.altKey&&g.key==="Tab"&&g.preventDefault();const p=t();if(!p?.contains(g.target))return;const b=E(e.selectionManager),y=E(e.selectOnFocus),v=x=>{x!=null&&(b.setFocusedKey(x),g.shiftKey&&b.selectionMode()==="multiple"?b.extendSelection(x):y&&!ja(g)&&b.replaceSelection(x))},_=E(e.keyboardDelegate),w=E(e.shouldFocusWrap),P=b.focusedKey();switch(g.key){case"ArrowDown":{if(_.getKeyBelow){g.preventDefault();let x;P!=null?x=_.getKeyBelow(P):x=_.getFirstKey?.(),x==null&&w&&(x=_.getFirstKey?.(P)),v(x)}break}case"ArrowUp":{if(_.getKeyAbove){g.preventDefault();let x;P!=null?x=_.getKeyAbove(P):x=_.getLastKey?.(),x==null&&w&&(x=_.getLastKey?.(P)),v(x)}break}case"ArrowLeft":{if(_.getKeyLeftOf){g.preventDefault();const x=o()==="rtl";let L;P!=null?L=_.getKeyLeftOf(P):L=x?_.getFirstKey?.():_.getLastKey?.(),v(L)}break}case"ArrowRight":{if(_.getKeyRightOf){g.preventDefault();const x=o()==="rtl";let L;P!=null?L=_.getKeyRightOf(P):L=x?_.getLastKey?.():_.getFirstKey?.(),v(L)}break}case"Home":if(_.getFirstKey){g.preventDefault();const x=_.getFirstKey(P,Vt(g));x!=null&&(b.setFocusedKey(x),Vt(g)&&g.shiftKey&&b.selectionMode()==="multiple"?b.extendSelection(x):y&&b.replaceSelection(x))}break;case"End":if(_.getLastKey){g.preventDefault();const x=_.getLastKey(P,Vt(g));x!=null&&(b.setFocusedKey(x),Vt(g)&&g.shiftKey&&b.selectionMode()==="multiple"?b.extendSelection(x):y&&b.replaceSelection(x))}break;case"PageDown":if(_.getKeyPageBelow&&P!=null){g.preventDefault();const x=_.getKeyPageBelow(P);v(x)}break;case"PageUp":if(_.getKeyPageAbove&&P!=null){g.preventDefault();const x=_.getKeyPageAbove(P);v(x)}break;case"a":Vt(g)&&b.selectionMode()==="multiple"&&E(e.disallowSelectAll)!==!0&&(g.preventDefault(),b.selectAll());break;case"Escape":g.defaultPrevented||(g.preventDefault(),E(e.disallowEmptySelection)||b.clearSelection());break;case"Tab":if(!E(e.allowsTabNavigation)){if(g.shiftKey)p.focus();else{const x=Ku(p,{tabbable:!0});let L,O;do O=x.lastChild(),O&&(L=O);while(O);L&&!L.contains(document.activeElement)&&pe(L)}break}}},c=g=>{const p=E(e.selectionManager),b=E(e.keyboardDelegate),y=E(e.selectOnFocus);if(p.isFocused()){g.currentTarget.contains(g.target)||p.setFocused(!1);return}if(g.currentTarget.contains(g.target)){if(p.setFocused(!0),p.focusedKey()==null){const v=w=>{w!=null&&(p.setFocusedKey(w),y&&p.replaceSelection(w))},_=g.relatedTarget;_&&g.currentTarget.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?v(p.lastSelectedKey()??b.getLastKey?.()):v(p.firstSelectedKey()??b.getFirstKey?.())}else if(!E(e.isVirtualized)){const v=i();if(v){v.scrollTop=s.top,v.scrollLeft=s.left;const _=v.querySelector(`[data-key="${p.focusedKey()}"]`);_&&(pe(_),Lo(v,_))}}}},u=g=>{const p=E(e.selectionManager);g.currentTarget.contains(g.relatedTarget)||p.setFocused(!1)},d=g=>{i()===g.target&&g.preventDefault()},f=()=>{const g=E(e.autoFocus);if(!g)return;const p=E(e.selectionManager),b=E(e.keyboardDelegate);let y;g==="first"&&(y=b.getFirstKey?.()),g==="last"&&(y=b.getLastKey?.());const v=p.selectedKeys();v.size&&(y=v.values().next().value),p.setFocused(!0),p.setFocusedKey(y);const _=t();_&&y==null&&!E(e.shouldUseVirtualFocus)&&pe(_)};return Mt(()=>{e.deferAutoFocus?setTimeout(f,0):f()}),R(Pe([i,()=>E(e.isVirtualized),()=>E(e.selectionManager).focusedKey()],g=>{const[p,b,y]=g;if(b)y&&e.scrollToKey?.(y);else if(y&&p){const v=p.querySelector(`[data-key="${y}"]`);v&&Lo(p,v)}})),{tabIndex:S(()=>{if(!E(e.shouldUseVirtualFocus))return E(e.selectionManager).focusedKey()==null?0:-1}),onKeyDown:l,onMouseDown:d,onFocusIn:c,onFocusOut:u}}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/useSelectableItem.ts
 */function Xa(e,t){const n=()=>E(e.selectionManager),r=()=>E(e.key),i=()=>E(e.shouldUseVirtualFocus),o=v=>{n().selectionMode()!=="none"&&(n().selectionMode()==="single"?n().isSelected(r())&&!n().disallowEmptySelection()?n().toggleSelection(r()):n().replaceSelection(r()):v&&v.shiftKey?n().extendSelection(r()):n().selectionBehavior()==="toggle"||Vt(v)||"pointerType"in v&&v.pointerType==="touch"?n().toggleSelection(r()):n().replaceSelection(r()))},s=()=>n().isSelected(r()),a=()=>E(e.disabled)||n().isDisabled(r()),l=()=>!a()&&n().canSelectItem(r());let c=null;const u=v=>{l()&&(c=v.pointerType,v.pointerType==="mouse"&&v.button===0&&!E(e.shouldSelectOnPressUp)&&o(v))},d=v=>{l()&&v.pointerType==="mouse"&&v.button===0&&E(e.shouldSelectOnPressUp)&&E(e.allowsDifferentPressOrigin)&&o(v)},f=v=>{l()&&(E(e.shouldSelectOnPressUp)&&!E(e.allowsDifferentPressOrigin)||c!=="mouse")&&o(v)},m=v=>{!l()||!["Enter"," "].includes(v.key)||(ja(v)?n().toggleSelection(r()):o(v))},g=v=>{a()&&v.preventDefault()},p=v=>{const _=t();i()||a()||!_||v.target===_&&n().setFocusedKey(r())},b=S(()=>{if(!(i()||a()))return r()===n().focusedKey()?0:-1}),y=S(()=>E(e.virtualized)?void 0:r());return R(Pe([t,r,i,()=>n().focusedKey(),()=>n().isFocused()],([v,_,w,P,x])=>{v&&_===P&&x&&!w&&document.activeElement!==v&&(e.focus?e.focus():pe(v))})),{isSelected:s,isDisabled:a,allowsSelection:l,tabIndex:b,dataKey:y,onPointerDown:u,onPointerUp:d,onClick:f,onKeyDown:m,onMouseDown:g,onFocus:p}}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/selection/src/SelectionManager.ts
 */class Ef{collection;state;constructor(t,n){this.collection=t,this.state=n}selectionMode(){return this.state.selectionMode()}disallowEmptySelection(){return this.state.disallowEmptySelection()}selectionBehavior(){return this.state.selectionBehavior()}setSelectionBehavior(t){this.state.setSelectionBehavior(t)}isFocused(){return this.state.isFocused()}setFocused(t){this.state.setFocused(t)}focusedKey(){return this.state.focusedKey()}setFocusedKey(t){(t==null||this.collection().getItem(t))&&this.state.setFocusedKey(t)}selectedKeys(){return this.state.selectedKeys()}isSelected(t){if(this.state.selectionMode()==="none")return!1;const n=this.getKey(t);return n==null?!1:this.state.selectedKeys().has(n)}isEmpty(){return this.state.selectedKeys().size===0}isSelectAll(){if(this.isEmpty())return!1;const t=this.state.selectedKeys();return this.getAllSelectableKeys().every(n=>t.has(n))}firstSelectedKey(){let t;for(const n of this.state.selectedKeys()){const r=this.collection().getItem(n),i=r?.index!=null&&t?.index!=null&&r.index<t.index;(!t||i)&&(t=r)}return t?.key}lastSelectedKey(){let t;for(const n of this.state.selectedKeys()){const r=this.collection().getItem(n),i=r?.index!=null&&t?.index!=null&&r.index>t.index;(!t||i)&&(t=r)}return t?.key}extendSelection(t){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"){this.replaceSelection(t);return}const n=this.getKey(t);if(n==null)return;const r=this.state.selectedKeys(),i=r.anchorKey||n,o=new Ke(r,i,n);for(const s of this.getKeyRange(i,r.currentKey||n))o.delete(s);for(const s of this.getKeyRange(n,i))this.canSelectItem(s)&&o.add(s);this.state.setSelectedKeys(o)}getKeyRange(t,n){const r=this.collection().getItem(t),i=this.collection().getItem(n);return r&&i?r.index!=null&&i.index!=null&&r.index<=i.index?this.getKeyRangeInternal(t,n):this.getKeyRangeInternal(n,t):[]}getKeyRangeInternal(t,n){const r=[];let i=t;for(;i!=null;){const o=this.collection().getItem(i);if(o&&o.type==="item"&&r.push(i),i===n)return r;i=this.collection().getKeyAfter(i)}return[]}getKey(t){const n=this.collection().getItem(t);return n?!n||n.type!=="item"?null:n.key:t}toggleSelection(t){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"&&!this.isSelected(t)){this.replaceSelection(t);return}const n=this.getKey(t);if(n==null)return;const r=new Ke(this.state.selectedKeys());r.has(n)?r.delete(n):this.canSelectItem(n)&&(r.add(n),r.anchorKey=n,r.currentKey=n),!(this.disallowEmptySelection()&&r.size===0)&&this.state.setSelectedKeys(r)}replaceSelection(t){if(this.selectionMode()==="none")return;const n=this.getKey(t);if(n==null)return;const r=this.canSelectItem(n)?new Ke([n],n,n):new Ke;this.state.setSelectedKeys(r)}setSelectedKeys(t){if(this.selectionMode()==="none")return;const n=new Ke;for(const r of t){const i=this.getKey(r);if(i!=null&&(n.add(i),this.selectionMode()==="single"))break}this.state.setSelectedKeys(n)}selectAll(){this.selectionMode()==="multiple"&&this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()))}clearSelection(){const t=this.state.selectedKeys();!this.disallowEmptySelection()&&t.size>0&&this.state.setSelectedKeys(new Ke)}toggleSelectAll(){this.isSelectAll()?this.clearSelection():this.selectAll()}select(t,n){this.selectionMode()!=="none"&&(this.selectionMode()==="single"?this.isSelected(t)&&!this.disallowEmptySelection()?this.toggleSelection(t):this.replaceSelection(t):this.selectionBehavior()==="toggle"||n&&n.pointerType==="touch"?this.toggleSelection(t):this.replaceSelection(t))}isSelectionEqual(t){if(t===this.state.selectedKeys())return!0;const n=this.selectedKeys();if(t.size!==n.size)return!1;for(const r of t)if(!n.has(r))return!1;for(const r of n)if(!t.has(r))return!1;return!0}canSelectItem(t){if(this.state.selectionMode()==="none")return!1;const n=this.collection().getItem(t);return n!=null&&!n.disabled}isDisabled(t){const n=this.collection().getItem(t);return!n||n.disabled}getAllSelectableKeys(){const t=[];return(r=>{for(;r!=null;){if(this.canSelectItem(r)){const i=this.collection().getItem(r);if(!i)continue;i.type==="item"&&t.push(r)}r=this.collection().getKeyAfter(r)}})(this.collection().getFirstKey()),t}}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/list/src/ListCollection.ts
 */class ts{keyMap=new Map;iterable;firstKey;lastKey;constructor(t){this.iterable=t;for(const i of t)this.keyMap.set(i.key,i);if(this.keyMap.size===0)return;let n,r=0;for(const[i,o]of this.keyMap)n?(n.nextKey=i,o.prevKey=n.key):(this.firstKey=i,o.prevKey=void 0),o.type==="item"&&(o.index=r++),n=o,n.nextKey=void 0;this.lastKey=n.key}*[Symbol.iterator](){yield*this.iterable}getSize(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){return this.keyMap.get(t)?.prevKey}getKeyAfter(t){return this.keyMap.get(t)?.nextKey}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){return this.keyMap.get(t)}at(t){const n=[...this.getKeys()];return this.getItem(n[t])}}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/list/src/useListState.ts
 */function Wi(e){const t=_f(e),r=Gu({dataSource:()=>E(e.dataSource),getKey:()=>E(e.getKey),getTextValue:()=>E(e.getTextValue),getDisabled:()=>E(e.getDisabled),getSectionChildren:()=>E(e.getSectionChildren),factory:o=>e.filter?new ts(e.filter(o)):new ts(o)},[()=>e.filter]),i=new Ef(r,t);return ai(()=>{const o=t.focusedKey();o!=null&&!r().getItem(o)&&t.setFocusedKey(void 0)}),{collection:r,selectionManager:()=>i}}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/ListKeyboardDelegate.ts
 */class Ja{collection;ref;collator;constructor(t,n,r){this.collection=t,this.ref=n,this.collator=r}getKeyBelow(t){let n=this.collection().getKeyAfter(t);for(;n!=null;){const r=this.collection().getItem(n);if(r&&r.type==="item"&&!r.disabled)return n;n=this.collection().getKeyAfter(n)}}getKeyAbove(t){let n=this.collection().getKeyBefore(t);for(;n!=null;){const r=this.collection().getItem(n);if(r&&r.type==="item"&&!r.disabled)return n;n=this.collection().getKeyBefore(n)}}getFirstKey(){let t=this.collection().getFirstKey();for(;t!=null;){const n=this.collection().getItem(t);if(n&&n.type==="item"&&!n.disabled)return t;t=this.collection().getKeyAfter(t)}}getLastKey(){let t=this.collection().getLastKey();for(;t!=null;){const n=this.collection().getItem(t);if(n&&n.type==="item"&&!n.disabled)return t;t=this.collection().getKeyBefore(t)}}getItem(t){return this.ref?.()?.querySelector(`[data-key="${t}"]`)??null}getKeyPageAbove(t){const n=this.ref?.();let r=this.getItem(t);if(!n||!r)return;const i=Math.max(0,r.offsetTop+r.offsetHeight-n.offsetHeight);let o=t;for(;o&&r&&r.offsetTop>i;)o=this.getKeyAbove(o),r=o!=null?this.getItem(o):null;return o}getKeyPageBelow(t){const n=this.ref?.();let r=this.getItem(t);if(!n||!r)return;const i=Math.min(n.scrollHeight,r.offsetTop-r.offsetHeight+n.offsetHeight);let o=t;for(;o&&r&&r.offsetTop<i;)o=this.getKeyBelow(o),r=o!=null?this.getItem(o):null;return o}getKeyForSearch(t,n){const r=this.collator?.();if(!r)return;let i=n!=null?this.getKeyBelow(n):this.getFirstKey();for(;i!=null;){const o=this.collection().getItem(i);if(o){const s=o.textValue.slice(0,t.length);if(o.textValue&&r.compare(s,t)===0)return i}i=this.getKeyBelow(i)}}}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/useSelectableList.ts
 */function Ya(e,t,n){const r=Da({usage:"search",sensitivity:"base"}),i=S(()=>{const o=E(e.keyboardDelegate);return o||new Ja(e.collection,t,r)});return Sf({selectionManager:()=>E(e.selectionManager),keyboardDelegate:i,autoFocus:()=>E(e.autoFocus),deferAutoFocus:()=>E(e.deferAutoFocus),shouldFocusWrap:()=>E(e.shouldFocusWrap),disallowEmptySelection:()=>E(e.disallowEmptySelection),selectOnFocus:()=>E(e.selectOnFocus),disallowTypeAhead:()=>E(e.disallowTypeAhead),shouldUseVirtualFocus:()=>E(e.shouldUseVirtualFocus),allowsTabNavigation:()=>E(e.allowsTabNavigation),isVirtualized:()=>E(e.isVirtualized),scrollToKey:o=>E(e.scrollToKey)?.(o)},t,n)}const Ei=Symbol("store-raw"),Ut=Symbol("store-node"),it=Symbol("store-has"),Za=Symbol("store-self");function Qa(e){let t=e[Ue];if(!t&&(Object.defineProperty(e,Ue,{value:t=new Proxy(e,Pf)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,o=n.length;i<o;i++){const s=n[i];r[s].get&&Object.defineProperty(e,s,{enumerable:r[s].enumerable,get:r[s].get.bind(t)})}}return t}function rr(e){let t;return e!=null&&typeof e=="object"&&(e[Ue]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function bn(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[Ei])return n;if(!rr(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,a=e.length;s<a;s++)i=e[s],(r=bn(i,t))!==i&&(e[s]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,c=s.length;l<c;l++)o=s[l],!a[o].get&&(i=e[o],(r=bn(i,t))!==i&&(e[o]=r))}return e}function ir(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function vn(e,t,n){if(e[t])return e[t];const[r,i]=I(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function Tf(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Ue||t===Ut||(delete n.value,delete n.writable,n.get=()=>e[Ue][t]),n}function el(e){li()&&vn(ir(e,Ut),Za)()}function Cf(e){return el(e),Reflect.ownKeys(e)}const Pf={get(e,t,n){if(t===Ei)return e;if(t===Ue)return n;if(t===Yn)return el(e),n;const r=ir(e,Ut),i=r[t];let o=i?i():e[t];if(t===Ut||t===it||t==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(e,t);li()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(o=vn(r,t,o)())}return rr(o)?Qa(o):o},has(e,t){return t===Ei||t===Ue||t===Yn||t===Ut||t===it||t==="__proto__"?!0:(li()&&vn(ir(e,it),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Cf,getOwnPropertyDescriptor:Tf};function or(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?(delete e[t],e[it]&&e[it][t]&&i!==void 0&&e[it][t].$()):(e[t]=n,e[it]&&e[it][t]&&i===void 0&&e[it][t].$());let s=ir(e,Ut),a;if((a=vn(s,t,i))&&a.$(()=>n),Array.isArray(e)&&e.length!==o){for(let l=e.length;l<o;l++)(a=s[l])&&a.$();(a=vn(s,"length",o))&&a.$(e.length)}(a=s[Za])&&a.$()}function tl(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];or(e,i,t[i])}}function Af(e,t){if(typeof t=="function"&&(t=t(e)),t=bn(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&or(e,n,i)}or(e,"length",r)}else tl(e,t)}function hn(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const s=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)hn(e,[r[l]].concat(t),n);return}else if(a&&s==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&hn(e,[l].concat(t),n);return}else if(a&&s==="object"){const{from:l=0,to:c=e.length-1,by:u=1}=r;for(let d=l;d<=c;d+=u)hn(e,[d].concat(t),n);return}else if(t.length>1){hn(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=bn(o),r===void 0||rr(i)&&rr(o)&&!Array.isArray(o)?tl(i,o):or(e,r,o))}function Df(...[e,t]){const n=bn(e||{}),r=Array.isArray(n),i=Qa(n);function o(...s){ea(()=>{r&&s.length===1?Af(n,s[0]):hn(n,s)})}return[i,o]}const[Xi,An]=Df({toasts:[]});function If(e){An("toasts",t=>[...t,e])}function Mf(e){return Xi.toasts.find(t=>t.id===e)}function Of(e,t){const n=Xi.toasts.findIndex(r=>r.id===e);n!=-1&&An("toasts",r=>[...r.slice(0,n),t,...r.slice(n+1)])}function Lf(e){An("toasts",t=>t.id===e,"dismiss",!0)}function kf(e){An("toasts",t=>t.filter(n=>n.id!==e))}function Rf(){An("toasts",[])}const At={toasts:()=>Xi.toasts,add:If,get:Mf,update:Of,dismiss:Lf,remove:kf,clear:Rf};let Ff=0;function nl(e,t){const n=Ff++;return At.add({id:n,toastComponent:e,dismiss:!1,update:!1,region:t?.region}),n}function Ti(e,t){At.update(e,{id:e,toastComponent:t,dismiss:!1,update:!0})}function Bf(e,t,n){const r=nl(i=>t({get toastId(){return i.toastId},state:"pending"}),n);return(Zt(e)?e():e).then(i=>Ti(r,o=>t({get toastId(){return o.toastId},state:"fulfilled",data:i}))).catch(i=>Ti(r,o=>t({get toastId(){return o.toastId},state:"rejected",error:i}))),r}function $f(e){return At.dismiss(e),e}function Nf(){At.clear()}const ns={show:nl,update:Ti,promise:Bf,dismiss:$f,clear:Nf},rl=ue();function il(){const e=ne(rl);if(e===void 0)throw new Error("[kobalte]: `useCollapsibleContext` must be used within a `Collapsible.Root` component");return e}function Hf(e){let t;const n=il();e=U({id:n.generateId("content")},e);const[r,i]=H(e,["ref","id","style"]),o=Pt(()=>n.shouldMount()),[s,a]=I(0),[l,c]=I(0);let d=n.isOpen()||o.isPresent(),f;return Mt(()=>{const m=requestAnimationFrame(()=>{d=!1});$(()=>{cancelAnimationFrame(m)})}),R(Pe([()=>o.isPresent()],()=>{if(!t)return;f=f||{transitionDuration:t.style.transitionDuration,animationName:t.style.animationName},t.style.transitionDuration="0s",t.style.animationName="none";const m=t.getBoundingClientRect();a(m.height),c(m.width),d||(t.style.transitionDuration=f.transitionDuration,t.style.animationName=f.animationName)})),R(()=>$(n.registerContentId(r.id))),h(Te,{get when(){return o.isPresent()},get children(){return h(Z,F({as:"div",ref(m){var g=ae(p=>{o.setRef(p),t=p},r.ref);typeof g=="function"&&g(m)},get id(){return r.id},get style(){return{"--kb-collapsible-content-height":s()?`${s()}px`:void 0,"--kb-collapsible-content-width":l()?`${l()}px`:void 0,...r.style}}},()=>n.dataset(),i))}})}function Kf(e){const t=`collapsible-${ve()}`;e=U({id:t},e);const[n,r]=H(e,["open","defaultOpen","onOpenChange","disabled","forceMount"]),[i,o]=I(),s=Cn({open:()=>n.open,defaultOpen:()=>n.defaultOpen,onOpenChange:c=>n.onOpenChange?.(c)}),a=S(()=>({"data-expanded":s.isOpen()?"":void 0,"data-closed":s.isOpen()?void 0:"","data-disabled":n.disabled?"":void 0})),l={dataset:a,isOpen:s.isOpen,disabled:()=>n.disabled??!1,shouldMount:()=>n.forceMount||s.isOpen(),contentId:i,toggle:s.toggle,generateId:Me(()=>r.id),registerContentId:fe(o)};return h(rl.Provider,{value:l,get children(){return h(Z,F({as:"div"},a,r))}})}/*!
 * Portions of this file are based on code from ariakit
 * MIT Licensed, Copyright (c) Diego Haz.
 *
 * Credits to the ariakit team:
 * https://github.com/hope-ui/hope-ui/blob/54125b130195f37161dbeeea0c21dc3b198bc3ac/packages/core/src/button/is-button.ts
 */const Vf=["button","color","file","image","reset","submit"];function Uf(e){const t=e.tagName.toLowerCase();return t==="button"?!0:t==="input"&&e.type?Vf.indexOf(e.type)!==-1:!1}function en(e){let t;e=U({type:"button"},e);const[n,r]=H(e,["ref","type","disabled"]),i=Ui(()=>t,()=>"button"),o=S(()=>{const l=i();return l==null?!1:Uf({tagName:l,type:n.type})}),s=S(()=>i()==="input"),a=S(()=>i()==="a"&&t?.getAttribute("href")!=null);return h(Z,F({as:"button",ref(l){var c=ae(u=>t=u,n.ref);typeof c=="function"&&c(l)},get type(){return o()||s()?n.type:void 0},get role(){return!o()&&!a()?"button":void 0},get tabIndex(){return!o()&&!a()&&!n.disabled?0:void 0},get disabled(){return o()||s()?n.disabled:void 0},get"aria-disabled"(){return!o()&&!s()&&n.disabled?!0:void 0},get"data-disabled"(){return n.disabled?"":void 0}},r))}function Gf(e){const t=il(),[n,r]=H(e,["onClick"]);return h(en,F({get"aria-expanded"(){return t.isOpen()},get"aria-controls"(){return S(()=>!!t.isOpen())()?t.contentId():void 0},get disabled(){return t.disabled()},onClick:o=>{K(o,n.onClick),t.toggle()}},()=>t.dataset(),r))}const ol=ue();function sl(){return ne(ol)}function qf(){const e=sl();if(e===void 0)throw new Error("[kobalte]: `useDomCollectionContext` must be used within a `DomCollectionProvider` component");return e}/*!
 * Portions of this file are based on code from ariakit.
 * MIT Licensed, Copyright (c) Diego Haz.
 *
 * Credits to the Ariakit team:
 * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit/src/collection/collection-state.ts
 */function al(e,t){return!!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}function zf(e,t){const n=t.ref();if(!n)return-1;let r=e.length;if(!r)return-1;for(;r--;){const i=e[r]?.ref();if(i&&al(i,n))return r+1}return 0}function jf(e){const t=e.map((r,i)=>[i,r]);let n=!1;return t.sort(([r,i],[o,s])=>{const a=i.ref(),l=s.ref();return a===l||!a||!l?0:al(a,l)?(r>o&&(n=!0),-1):(r<o&&(n=!0),1)}),n?t.map(([r,i])=>i):e}function ll(e,t){const n=jf(e);e!==n&&t(n)}function Wf(e){const t=e[0],n=e[e.length-1]?.ref();let r=t?.ref()?.parentElement;for(;r;){if(n&&r.contains(n))return r;r=r.parentElement}return Be(r).body}function Xf(e,t){R(()=>{const n=setTimeout(()=>{ll(e(),t)});$(()=>clearTimeout(n))})}function Jf(e,t){if(typeof IntersectionObserver!="function"){Xf(e,t);return}let n=[];R(()=>{const r=()=>{const s=!!n.length;n=e(),s&&ll(e(),t)},i=Wf(e()),o=new IntersectionObserver(r,{root:i});e().forEach(s=>{const a=s.ref();a&&o.observe(a)}),$(()=>o.disconnect())})}/*!
 * Portions of this file are based on code from ariakit.
 * MIT Licensed, Copyright (c) Diego Haz.
 *
 * Credits to the Ariakit team:
 * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit/src/collection/collection.tsx
 * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit/src/collection/collection-state.ts
 * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit/src/collection/collection-item.ts
 */function cl(e={}){const[t,n]=Sa({value:()=>E(e.items),onChange:o=>e.onItemsChange?.(o)});Jf(t,n);const r=o=>(n(s=>{const a=zf(s,o);return Su(s,o,a)}),()=>{n(s=>{const a=s.filter(l=>l.ref()!==o.ref());return s.length===a.length?s:a})});return{DomCollectionProvider:o=>h(ol.Provider,{value:{registerItem:r},get children(){return o.children}})}}function ul(e){const t=qf();e=U({shouldRegisterItem:!0},e),R(()=>{if(!e.shouldRegisterItem)return;const n=t.registerItem(e.getItem());$(n)})}const dl=ue();function tn(){const e=ne(dl);if(e===void 0)throw new Error("[kobalte]: `useDialogContext` must be used within a `Dialog` component");return e}function Yf(e){const t=tn(),[n,r]=H(e,["aria-label","onClick"]),i=ji(()=>ud);return h(en,F({get"aria-label"(){return n["aria-label"]||i().format("dismiss")},onClick:s=>{K(s,n.onClick),t.close()}},r))}const fl=ue();function Zf(){return ne(fl)}function Ji(e){let t;const n=Zf(),[r,i]=H(e,["ref","disableOutsidePointerEvents","excludedElements","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","bypassTopMostLayerCheck"]),o=new Set([]),s=d=>{o.add(d);const f=n?.registerNestedLayer(d);return()=>{o.delete(d),f?.()}};od({shouldExcludeElement:d=>t?r.excludedElements?.some(f=>Re(f(),d))||[...o].some(f=>Re(f,d)):!1,onPointerDownOutside:d=>{!t||Le.isBelowPointerBlockingLayer(t)||!r.bypassTopMostLayerCheck&&!Le.isTopMostLayer(t)||(r.onPointerDownOutside?.(d),r.onInteractOutside?.(d),d.defaultPrevented||r.onDismiss?.())},onFocusOutside:d=>{r.onFocusOutside?.(d),r.onInteractOutside?.(d),d.defaultPrevented||r.onDismiss?.()}},()=>t),zu({ownerDocument:()=>Be(t),onEscapeKeyDown:d=>{!t||!Le.isTopMostLayer(t)||(r.onEscapeKeyDown?.(d),!d.defaultPrevented&&r.onDismiss&&(d.preventDefault(),r.onDismiss()))}}),Mt(()=>{if(!t)return;Le.addLayer({node:t,isPointerBlocking:r.disableOutsidePointerEvents,dismiss:r.onDismiss});const d=n?.registerNestedLayer(t);Le.assignPointerEventToLayers(),Le.disableBodyPointerEvents(t),$(()=>{t&&(Le.removeLayer(t),d?.(),Le.assignPointerEventToLayers(),Le.restoreBodyPointerEvents(t))})}),R(Pe([()=>t,()=>r.disableOutsidePointerEvents],([d,f])=>{if(!d)return;const m=Le.find(d);m&&m.isPointerBlocking!==f&&(m.isPointerBlocking=f,Le.assignPointerEventToLayers()),f&&Le.disableBodyPointerEvents(d),$(()=>{Le.restoreBodyPointerEvents(d)})},{defer:!0}));const u={registerNestedLayer:s};return h(fl.Provider,{value:u,get children(){return h(Z,F({as:"div",ref(d){var f=ae(m=>t=m,r.ref);typeof f=="function"&&f(d)}},i))}})}function hl(e){let t;const n=tn();e=U({id:n.generateId("content")},e);const[r,i]=H(e,["ref","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]);let o=!1,s=!1;const a=d=>{r.onPointerDownOutside?.(d),n.modal()&&d.detail.isContextMenu&&d.preventDefault()},l=d=>{r.onFocusOutside?.(d),n.modal()&&d.preventDefault()},c=d=>{r.onInteractOutside?.(d),!n.modal()&&(d.defaultPrevented||(o=!0,d.detail.originalEvent.type==="pointerdown"&&(s=!0)),Re(n.triggerRef(),d.target)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&s&&d.preventDefault())},u=d=>{r.onCloseAutoFocus?.(d),n.modal()?(d.preventDefault(),pe(n.triggerRef())):(d.defaultPrevented||(o||pe(n.triggerRef()),d.preventDefault()),o=!1,s=!1)};return Ki({isDisabled:()=>!(n.isOpen()&&n.modal()),targets:()=>t?[t]:[]}),Vi({ownerRef:()=>t,isDisabled:()=>!(n.isOpen()&&(n.modal()||n.preventScroll()))}),Hi({trapFocus:()=>n.isOpen()&&n.modal(),onMountAutoFocus:r.onOpenAutoFocus,onUnmountAutoFocus:u},()=>t),R(()=>$(n.registerContentId(i.id))),h(Te,{get when(){return n.contentPresence.isPresent()},get children(){return h(Ji,F({ref(d){var f=ae(m=>{n.contentPresence.setRef(m),t=m},r.ref);typeof f=="function"&&f(d)},role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return S(()=>!!n.modal())()&&n.isOpen()},get excludedElements(){return[n.triggerRef]},get"aria-labelledby"(){return n.titleId()},get"aria-describedby"(){return n.descriptionId()},get"data-expanded"(){return n.isOpen()?"":void 0},get"data-closed"(){return n.isOpen()?void 0:""},onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,get onDismiss(){return n.close}},i))}})}function gl(e){const t=tn();e=U({id:t.generateId("description")},e);const[n,r]=H(e,["id"]);return R(()=>$(t.registerDescriptionId(n.id))),h(Z,F({as:"p",get id(){return n.id}},r))}function ml(e){const t=tn(),[n,r]=H(e,["ref","style","onPointerDown"]),i=o=>{K(o,n.onPointerDown),o.target===o.currentTarget&&o.preventDefault()};return h(Te,{get when(){return t.overlayPresence.isPresent()},get children(){return h(Z,F({as:"div",ref(o){var s=ae(t.overlayPresence.setRef,n.ref);typeof s=="function"&&s(o)},get style(){return{"pointer-events":"auto",...n.style}},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onPointerDown:i},r))}})}function Qf(e){const t=tn();return h(Te,{get when(){return t.contentPresence.isPresent()||t.overlayPresence.isPresent()},get children(){return h(gr,e)}})}function e0(e){const t=`dialog-${ve()}`;e=U({id:t,modal:!0,preventScroll:!1},e);const[n,r]=I(),[i,o]=I(),[s,a]=I(),[l,c]=I(),u=Cn({open:()=>e.open,defaultOpen:()=>e.defaultOpen,onOpenChange:p=>e.onOpenChange?.(p)}),d=()=>e.forceMount||u.isOpen(),f=Pt(d),m=Pt(d),g={isOpen:u.isOpen,modal:()=>e.modal??!0,preventScroll:()=>e.preventScroll??!1,contentId:n,titleId:i,descriptionId:s,triggerRef:l,overlayPresence:f,contentPresence:m,close:u.close,toggle:u.toggle,setTriggerRef:c,generateId:Me(()=>e.id),registerContentId:fe(r),registerTitleId:fe(o),registerDescriptionId:fe(a)};return h(dl.Provider,{value:g,get children(){return e.children}})}function t0(e){const t=tn();e=U({id:t.generateId("title")},e);const[n,r]=H(e,["id"]);return R(()=>$(t.registerTitleId(n.id))),h(Z,F({as:"h2",get id(){return n.id}},r))}const pl=ue();function n0(){const e=ne(pl);if(e===void 0)throw new Error("[kobalte]: `usePopperContext` must be used within a `Popper` component");return e}function bl(e){const t=n0(),[n,r]=H(e,["ref","style"]);return h(Z,F({as:"div",ref(i){var o=ae(t.setPositionerRef,n.ref);typeof o=="function"&&o(i)},"data-popper-positioner":"",get style(){return{position:"absolute",top:0,left:0,"min-width":"max-content",...n.style}}},r))}const r0=["top","right","bottom","left"],dt=Math.min,ke=Math.max,sr=Math.round,Nn=Math.floor,ft=e=>({x:e,y:e}),i0={left:"right",right:"left",bottom:"top",top:"bottom"},o0={start:"end",end:"start"};function Ci(e,t,n){return ke(e,dt(t,n))}function kt(e,t){return typeof e=="function"?e(t):e}function ht(e){return e.split("-")[0]}function nn(e){return e.split("-")[1]}function vl(e){return e==="x"?"y":"x"}function Yi(e){return e==="y"?"height":"width"}function Dn(e){return["top","bottom"].includes(ht(e))?"y":"x"}function Zi(e){return vl(Dn(e))}function s0(e,t,n){n===void 0&&(n=!1);const r=nn(e),i=Zi(e),o=Yi(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=ar(s)),[s,ar(s)]}function a0(e){const t=ar(e);return[Pi(e),t,Pi(t)]}function Pi(e){return e.replace(/start|end/g,t=>o0[t])}function l0(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function c0(e,t,n,r){const i=nn(e);let o=l0(ht(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(Pi)))),o}function ar(e){return e.replace(/left|right|bottom|top/g,t=>i0[t])}function u0(e){return{top:0,right:0,bottom:0,left:0,...e}}function yl(e){return typeof e!="number"?u0(e):{top:e,right:e,bottom:e,left:e}}function lr(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function rs(e,t,n){let{reference:r,floating:i}=e;const o=Dn(t),s=Zi(t),a=Yi(s),l=ht(t),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(nn(t)){case"start":m[s]-=f*(n&&c?-1:1);break;case"end":m[s]+=f*(n&&c?-1:1);break}return m}const d0=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=rs(c,r,l),f=r,m={},g=0;for(let p=0;p<a.length;p++){const{name:b,fn:y}=a[p],{x:v,y:_,data:w,reset:P}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:c,platform:s,elements:{reference:e,floating:t}});if(u=v??u,d=_??d,m={...m,[b]:{...m[b],...w}},P&&g<=50){g++,typeof P=="object"&&(P.placement&&(f=P.placement),P.rects&&(c=P.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:u,y:d}=rs(c,f,l)),p=-1;continue}}return{x:u,y:d,placement:f,strategy:i,middlewareData:m}};async function yn(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=kt(t,e),g=yl(m),b=a[f?d==="floating"?"reference":"floating":d],y=lr(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=d==="floating"?{...s.floating,x:r,y:i}:s.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),w=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},P=lr(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:_,strategy:l}):v);return{top:(y.top-P.top+g.top)/w.y,bottom:(P.bottom-y.bottom+g.bottom)/w.y,left:(y.left-P.left+g.left)/w.x,right:(P.right-y.right+g.right)/w.x}}const f0=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=kt(e,t)||{};if(c==null)return{};const d=yl(u),f={x:n,y:r},m=Zi(i),g=Yi(m),p=await s.getDimensions(c),b=m==="y",y=b?"top":"left",v=b?"bottom":"right",_=b?"clientHeight":"clientWidth",w=o.reference[g]+o.reference[m]-f[m]-o.floating[g],P=f[m]-o.reference[m],x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let L=x?x[_]:0;(!L||!await(s.isElement==null?void 0:s.isElement(x)))&&(L=a.floating[_]||o.floating[g]);const O=w/2-P/2,T=L/2-p[g]/2-1,M=dt(d[y],T),k=dt(d[v],T),V=M,W=L-p[g]-k,C=L/2-p[g]/2+O,B=Ci(V,C,W),q=!l.arrow&&nn(i)!=null&&C!=B&&o.reference[g]/2-(C<V?M:k)-p[g]/2<0,X=q?C<V?C-V:C-W:0;return{[m]:f[m]+X,data:{[m]:B,centerOffset:C-B-X,...q&&{alignmentOffset:X}},reset:q}}}),h0=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...b}=kt(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=ht(i),v=ht(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=f||(v||!p?[ar(a)]:a0(a));!f&&g!=="none"&&w.push(...c0(a,p,g,_));const P=[a,...w],x=await yn(t,b),L=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&L.push(x[y]),d){const V=s0(i,s,_);L.push(x[V[0]],x[V[1]])}if(O=[...O,{placement:i,overflows:L}],!L.every(V=>V<=0)){var T,M;const V=(((T=o.flip)==null?void 0:T.index)||0)+1,W=P[V];if(W)return{data:{index:V,overflows:O},reset:{placement:W}};let C=(M=O.filter(B=>B.overflows[0]<=0).sort((B,q)=>B.overflows[1]-q.overflows[1])[0])==null?void 0:M.placement;if(!C)switch(m){case"bestFit":{var k;const B=(k=O.map(q=>[q.placement,q.overflows.filter(X=>X>0).reduce((X,he)=>X+he,0)]).sort((q,X)=>q[1]-X[1])[0])==null?void 0:k[0];B&&(C=B);break}case"initialPlacement":C=a;break}if(i!==C)return{reset:{placement:C}}}return{}}}};function is(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function os(e){return r0.some(t=>e[t]>=0)}const g0=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=kt(e,t);switch(r){case"referenceHidden":{const o=await yn(t,{...i,elementContext:"reference"}),s=is(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:os(s)}}}case"escaped":{const o=await yn(t,{...i,altBoundary:!0}),s=is(o,n.floating);return{data:{escapedOffsets:s,escaped:os(s)}}}default:return{}}}}};async function m0(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ht(n),a=nn(n),l=Dn(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=kt(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*u,y:f*c}:{x:f*c,y:m*u}}const p0=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await m0(t,e);return{x:n+i.x,y:r+i.y,data:i}}}},b0=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:y,y:v}=b;return{x:y,y:v}}},...l}=kt(e,t),c={x:n,y:r},u=await yn(t,l),d=Dn(ht(i)),f=vl(d);let m=c[f],g=c[d];if(o){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=m+u[b],_=m-u[y];m=Ci(v,m,_)}if(s){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=g+u[b],_=g-u[y];g=Ci(v,g,_)}const p=a.fn({...t,[f]:m,[d]:g});return{...p,data:{x:p.x-n,y:p.y-r}}}}},v0=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=kt(e,t),l=await yn(t,a),c=ht(n),u=nn(n),d=Dn(n)==="y",{width:f,height:m}=r.floating;let g,p;c==="top"||c==="bottom"?(g=c,p=u===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(p=c,g=u==="end"?"top":"bottom");const b=m-l[g],y=f-l[p],v=!t.middlewareData.shift;let _=b,w=y;if(d){const x=f-l.left-l.right;w=u||v?dt(y,x):x}else{const x=m-l.top-l.bottom;_=u||v?dt(b,x):x}if(v&&!u){const x=ke(l.left,0),L=ke(l.right,0),O=ke(l.top,0),T=ke(l.bottom,0);d?w=f-2*(x!==0||L!==0?x+L:ke(l.left,l.right)):_=m-2*(O!==0||T!==0?O+T:ke(l.top,l.bottom))}await s({...t,availableWidth:w,availableHeight:_});const P=await i.getDimensions(o.floating);return f!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function gt(e){return _l(e)?(e.nodeName||"").toLowerCase():"#document"}function Fe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ct(e){var t;return(t=(_l(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _l(e){return e instanceof Node||e instanceof Fe(e).Node}function lt(e){return e instanceof Element||e instanceof Fe(e).Element}function Qe(e){return e instanceof HTMLElement||e instanceof Fe(e).HTMLElement}function ss(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fe(e).ShadowRoot}function In(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ge(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function y0(e){return["table","td","th"].includes(gt(e))}function Qi(e){const t=eo(),n=Ge(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _0(e){let t=Jt(e);for(;Qe(t)&&!Er(t);){if(Qi(t))return t;t=Jt(t)}return null}function eo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Er(e){return["html","body","#document"].includes(gt(e))}function Ge(e){return Fe(e).getComputedStyle(e)}function Tr(e){return lt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Jt(e){if(gt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ss(e)&&e.host||ct(e);return ss(t)?t.host:t}function wl(e){const t=Jt(e);return Er(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qe(t)&&In(t)?t:wl(t)}function _n(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=wl(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Fe(i);return o?t.concat(s,s.visualViewport||[],In(i)?i:[],s.frameElement&&n?_n(s.frameElement):[]):t.concat(i,_n(i,[],n))}function xl(e){const t=Ge(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Qe(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=sr(n)!==o||sr(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function to(e){return lt(e)?e:e.contextElement}function Gt(e){const t=to(e);if(!Qe(t))return ft(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=xl(t);let s=(o?sr(n.width):n.width)/r,a=(o?sr(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const w0=ft(0);function Sl(e){const t=Fe(e);return!eo()||!t.visualViewport?w0:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function x0(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fe(e)?!1:t}function Dt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=to(e);let s=ft(1);t&&(r?lt(r)&&(s=Gt(r)):s=Gt(e));const a=x0(o,n,r)?Sl(o):ft(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const f=Fe(o),m=r&&lt(r)?Fe(r):r;let g=f.frameElement;for(;g&&r&&m!==f;){const p=Gt(g),b=g.getBoundingClientRect(),y=Ge(g),v=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*p.x,_=b.top+(g.clientTop+parseFloat(y.paddingTop))*p.y;l*=p.x,c*=p.y,u*=p.x,d*=p.y,l+=v,c+=_,g=Fe(g).frameElement}}return lr({width:u,height:d,x:l,y:c})}function S0(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Qe(n),o=ct(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0},a=ft(1);const l=ft(0);if((i||!i&&r!=="fixed")&&((gt(n)!=="body"||In(o))&&(s=Tr(n)),Qe(n))){const c=Dt(n);a=Gt(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+l.x,y:t.y*a.y-s.scrollTop*a.y+l.y}}function E0(e){return Array.from(e.getClientRects())}function El(e){return Dt(ct(e)).left+Tr(e).scrollLeft}function T0(e){const t=ct(e),n=Tr(e),r=e.ownerDocument.body,i=ke(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ke(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+El(e);const a=-n.scrollTop;return Ge(r).direction==="rtl"&&(s+=ke(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function C0(e,t){const n=Fe(e),r=ct(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=eo();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function P0(e,t){const n=Dt(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Qe(e)?Gt(e):ft(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function as(e,t,n){let r;if(t==="viewport")r=C0(e,n);else if(t==="document")r=T0(ct(e));else if(lt(t))r=P0(t,n);else{const i=Sl(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return lr(r)}function Tl(e,t){const n=Jt(e);return n===t||!lt(n)||Er(n)?!1:Ge(n).position==="fixed"||Tl(n,t)}function A0(e,t){const n=t.get(e);if(n)return n;let r=_n(e,[],!1).filter(a=>lt(a)&&gt(a)!=="body"),i=null;const o=Ge(e).position==="fixed";let s=o?Jt(e):e;for(;lt(s)&&!Er(s);){const a=Ge(s),l=Qi(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||In(s)&&!l&&Tl(e,s))?r=r.filter(u=>u!==s):i=a,s=Jt(s)}return t.set(e,r),r}function D0(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?A0(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=as(t,u,i);return c.top=ke(d.top,c.top),c.right=dt(d.right,c.right),c.bottom=dt(d.bottom,c.bottom),c.left=ke(d.left,c.left),c},as(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function I0(e){return xl(e)}function M0(e,t,n){const r=Qe(t),i=ct(t),o=n==="fixed",s=Dt(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=ft(0);if(r||!r&&!o)if((gt(t)!=="body"||In(i))&&(a=Tr(t)),r){const c=Dt(t,!0,o,t);l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}else i&&(l.x=El(i));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function ls(e,t){return!Qe(e)||Ge(e).position==="fixed"?null:t?t(e):e.offsetParent}function Cl(e,t){const n=Fe(e);if(!Qe(e))return n;let r=ls(e,t);for(;r&&y0(r)&&Ge(r).position==="static";)r=ls(r,t);return r&&(gt(r)==="html"||gt(r)==="body"&&Ge(r).position==="static"&&!Qi(r))?n:r||_0(e)||n}const O0=async function(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||Cl,o=this.getDimensions;return{reference:M0(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}};function L0(e){return Ge(e).direction==="rtl"}const Pl={convertOffsetParentRelativeRectToViewportRelativeRect:S0,getDocumentElement:ct,getClippingRect:D0,getOffsetParent:Cl,getElementRects:O0,getClientRects:E0,getDimensions:I0,getScale:Gt,isElement:lt,isRTL:L0};function k0(e,t){let n=null,r;const i=ct(e);function o(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const m=Nn(u),g=Nn(i.clientWidth-(c+d)),p=Nn(i.clientHeight-(u+f)),b=Nn(c),v={rootMargin:-m+"px "+-g+"px "+-p+"px "+-b+"px",threshold:ke(0,dt(1,l))||1};let _=!0;function w(P){const x=P[0].intersectionRatio;if(x!==l){if(!_)return s();x?s(!1,x):r=setTimeout(()=>{s(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(w,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,v)}n.observe(e)}return s(!0),o}function R0(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=to(e),u=i||o?[...c?_n(c):[],..._n(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=c&&a?k0(c,n):null;let f=-1,m=null;s&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let g,p=l?Dt(e):null;l&&b();function b(){const y=Dt(e);p&&(y.x!==p.x||y.y!==p.y||y.width!==p.width||y.height!==p.height)&&n(),p=y,g=requestAnimationFrame(b)}return n(),()=>{u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),d&&d(),m&&m.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const F0=(e,t,n)=>{const r=new Map,i={platform:Pl,...n},o={...i.platform,_c:r};return d0(e,t,{...i,platform:o})};function cs(e){const{x:t=0,y:n=0,width:r=0,height:i=0}=e??{};if(typeof DOMRect=="function")return new DOMRect(t,n,r,i);const o={x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:n+i,left:t};return{...o,toJSON:()=>o}}function B0(e,t){return{contextElement:e,getBoundingClientRect:()=>{const r=t(e);return r?cs(r):e?e.getBoundingClientRect():cs()}}}function $0(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}const N0={top:"bottom",right:"left",bottom:"top",left:"right"};function H0(e,t){const[n,r]=e.split("-"),i=N0[n];return r?n==="left"||n==="right"?`${i} ${r==="start"?"top":"bottom"}`:r==="start"?`${i} ${t==="rtl"?"right":"left"}`:`${i} ${t==="rtl"?"left":"right"}`:`${i} center`}function Al(e){e=U({getAnchorRect:d=>d?.getBoundingClientRect(),placement:"bottom",gutter:0,shift:0,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,hideWhenDetached:!1,detachedPadding:0,arrowPadding:4,overflowPadding:8},e);const[t,n]=I(),[r,i]=I(),[o,s]=I(e.placement),a=()=>B0(e.anchorRef(),e.getAnchorRect),{direction:l}=Qt();async function c(){const d=a(),f=t(),m=r();if(!d||!f)return;const g=(m?.clientHeight||0)/2,p=typeof e.gutter=="number"?e.gutter+g:e.gutter??g;f.style.setProperty("--kb-popper-content-overflow-padding",`${e.overflowPadding}px`),d.getBoundingClientRect();const b=[p0(({placement:P})=>{const x=!!P.split("-")[1];return{mainAxis:p,crossAxis:x?void 0:e.shift,alignmentAxis:e.shift}})];if(e.flip!==!1){const P=typeof e.flip=="string"?e.flip.split(" "):void 0;if(P!==void 0&&!P.every($0))throw new Error("`flip` expects a spaced-delimited list of placements");b.push(h0({padding:e.overflowPadding,fallbackPlacements:P}))}(e.slide||e.overlap)&&b.push(b0({mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding})),b.push(v0({padding:e.overflowPadding,apply({availableWidth:P,availableHeight:x,rects:L}){const O=Math.round(L.reference.width);P=Math.floor(P),x=Math.floor(x),f.style.setProperty("--kb-popper-anchor-width",`${O}px`),f.style.setProperty("--kb-popper-content-available-width",`${P}px`),f.style.setProperty("--kb-popper-content-available-height",`${x}px`),e.sameWidth&&(f.style.width=`${O}px`),e.fitViewport&&(f.style.maxWidth=`${P}px`,f.style.maxHeight=`${x}px`)}})),e.hideWhenDetached&&b.push(g0({padding:e.detachedPadding})),m&&b.push(f0({element:m,padding:e.arrowPadding}));const y=await F0(d,f,{placement:e.placement,strategy:"absolute",middleware:b,platform:{...Pl,isRTL:()=>l()==="rtl"}});if(s(y.placement),e.onCurrentPlacementChange?.(y.placement),!f)return;f.style.setProperty("--kb-popper-content-transform-origin",H0(y.placement,l()));const v=Math.round(y.x),_=Math.round(y.y);let w;if(e.hideWhenDetached&&(w=y.middlewareData.hide?.referenceHidden?"hidden":"visible"),Object.assign(f.style,{top:"0",left:"0",transform:`translate3d(${v}px, ${_}px, 0)`,visibility:w}),m&&y.middlewareData.arrow){const{x:P,y:x}=y.middlewareData.arrow,L=y.placement.split("-")[0];Object.assign(m.style,{left:P!=null?`${P}px`:"",top:x!=null?`${x}px`:"",[L]:"100%"})}}R(()=>{const d=a(),f=t();if(!d||!f)return;const m=R0(d,f,c,{elementResize:typeof ResizeObserver=="function"});$(m)}),R(()=>{const d=t(),f=e.contentRef();!d||!f||queueMicrotask(()=>{d.style.zIndex=getComputedStyle(f).zIndex})});const u={currentPlacement:o,contentRef:()=>e.contentRef(),setPositionerRef:n,setArrowRef:i};return h(pl.Provider,{value:u,get children(){return e.children}})}const Dl=ue();function K0(){const e=ne(Dl);if(e===void 0)throw new Error("[kobalte]: `useListboxContext` must be used within a `Listbox` component");return e}const Il=ue();function Ml(){const e=ne(Il);if(e===void 0)throw new Error("[kobalte]: `useListboxItemContext` must be used within a `Listbox.Item` component");return e}function V0(e){let t;const n=K0(),r=`${n.generateId("item")}-${ve()}`;e=U({id:r},e);const[i,o]=H(e,["ref","item","aria-label","aria-labelledby","aria-describedby","onPointerMove","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[s,a]=I(),[l,c]=I(),u=()=>n.listState().selectionManager(),d=()=>u().focusedKey()===i.item.key,f=Xa({key:()=>i.item.key,selectionManager:u,shouldSelectOnPressUp:n.shouldSelectOnPressUp,allowsDifferentPressOrigin:()=>n.shouldSelectOnPressUp()&&n.shouldFocusOnHover(),shouldUseVirtualFocus:n.shouldUseVirtualFocus,disabled:()=>i.item.disabled},()=>t),m=()=>{if(u().selectionMode()!=="none")return f.isSelected()},g=S(()=>!(En()&&Du())),p=()=>g()?i["aria-label"]:void 0,b=()=>g()?s():void 0,y=()=>g()?l():void 0,v=()=>{if(!n.isVirtualized())return;const L=n.listState().collection().getItem(i.item.key)?.index;return L!=null?L+1:void 0},_=()=>{if(n.isVirtualized())return qu(n.listState().collection())},w=L=>{K(L,i.onPointerMove),L.pointerType==="mouse"&&!f.isDisabled()&&n.shouldFocusOnHover()&&(pe(L.currentTarget),u().setFocused(!0),u().setFocusedKey(i.item.key))},P=S(()=>({"data-disabled":f.isDisabled()?"":void 0,"data-selected":f.isSelected()?"":void 0,"data-highlighted":d()?"":void 0})),x={isSelected:f.isSelected,dataset:P,generateId:Me(()=>o.id),registerLabelId:fe(a),registerDescriptionId:fe(c)};return h(Il.Provider,{value:x,get children(){return h(Z,F({as:"li",ref(L){var O=ae(T=>t=T,i.ref);typeof O=="function"&&O(L)},role:"option",get tabIndex(){return f.tabIndex()},get"aria-disabled"(){return f.isDisabled()},get"aria-selected"(){return m()},get"aria-label"(){return p()},get"aria-labelledby"(){return b()},get"aria-describedby"(){return y()},get"aria-posinset"(){return v()},get"aria-setsize"(){return _()},get"data-key"(){return f.dataKey()},get onPointerDown(){return me([i.onPointerDown,f.onPointerDown])},get onPointerUp(){return me([i.onPointerUp,f.onPointerUp])},get onClick(){return me([i.onClick,f.onClick])},get onKeyDown(){return me([i.onKeyDown,f.onKeyDown])},get onMouseDown(){return me([i.onMouseDown,f.onMouseDown])},get onFocus(){return me([i.onFocus,f.onFocus])},onPointerMove:w},P,o))}})}function U0(e){const t=Ml();e=U({id:t.generateId("indicator")},e);const[n,r]=H(e,["forceMount"]);return h(Te,{get when(){return n.forceMount||t.isSelected()},get children(){return h(Z,F({as:"div","aria-hidden":"true"},()=>t.dataset(),r))}})}function G0(e){const t=Ml();e=U({id:t.generateId("label")},e);const[n,r]=H(e,["id"]);return R(()=>$(t.registerLabelId(n.id))),h(Z,F({as:"div",get id(){return n.id}},()=>t.dataset(),r))}function q0(e){let t;const n=`listbox-${ve()}`;e=U({id:n,selectionMode:"single",virtualized:!1},e);const[r,i]=H(e,["ref","children","renderItem","renderSection","value","defaultValue","onChange","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","state","keyboardDelegate","autoFocus","selectionMode","shouldFocusWrap","shouldUseVirtualFocus","shouldSelectOnPressUp","shouldFocusOnHover","allowDuplicateSelectionEvents","disallowEmptySelection","selectionBehavior","selectOnFocus","disallowTypeAhead","allowsTabNavigation","virtualized","scrollToItem","scrollRef","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]),o=S(()=>r.state?r.state:Wi({selectedKeys:()=>r.value,defaultSelectedKeys:()=>r.defaultValue,onSelectionChange:r.onChange,allowDuplicateSelectionEvents:()=>E(r.allowDuplicateSelectionEvents),disallowEmptySelection:()=>E(r.disallowEmptySelection),selectionBehavior:()=>E(r.selectionBehavior),selectionMode:()=>E(r.selectionMode),dataSource:()=>r.options??[],getKey:()=>r.optionValue,getTextValue:()=>r.optionTextValue,getDisabled:()=>r.optionDisabled,getSectionChildren:()=>r.optionGroupChildren})),s=Ya({selectionManager:()=>o().selectionManager(),collection:()=>o().collection(),autoFocus:()=>E(r.autoFocus),shouldFocusWrap:()=>E(r.shouldFocusWrap),keyboardDelegate:()=>r.keyboardDelegate,disallowEmptySelection:()=>E(r.disallowEmptySelection),selectOnFocus:()=>E(r.selectOnFocus),disallowTypeAhead:()=>E(r.disallowTypeAhead),shouldUseVirtualFocus:()=>E(r.shouldUseVirtualFocus),allowsTabNavigation:()=>E(r.allowsTabNavigation),isVirtualized:()=>r.virtualized,scrollToKey:()=>r.scrollToItem},()=>t,()=>r.scrollRef?.()),a={listState:o,generateId:Me(()=>i.id),shouldUseVirtualFocus:()=>e.shouldUseVirtualFocus,shouldSelectOnPressUp:()=>e.shouldSelectOnPressUp,shouldFocusOnHover:()=>e.shouldFocusOnHover,isVirtualized:()=>r.virtualized};return h(Dl.Provider,{value:a,get children(){return h(Z,F({as:"ul",ref(l){var c=ae(u=>t=u,r.ref);typeof c=="function"&&c(l)},role:"listbox",get tabIndex(){return s.tabIndex()},get"aria-multiselectable"(){return o().selectionManager().selectionMode()==="multiple"?!0:void 0},get onKeyDown(){return me([r.onKeyDown,s.onKeyDown])},get onMouseDown(){return me([r.onMouseDown,s.onMouseDown])},get onFocusIn(){return me([r.onFocusIn,s.onFocusIn])},get onFocusOut(){return me([r.onFocusOut,s.onFocusOut])}},i,{get children(){return h(Te,{get when(){return!r.virtualized},get fallback(){return r.children?.(o().collection)},get children(){return h(vu,{get each(){return[...o().collection()]},by:"key",children:l=>h(Uc,{get children(){return[h(xo,{get when(){return l().type==="section"},get children(){return r.renderSection?.(l())}}),h(xo,{get when(){return l().type==="item"},get children(){return r.renderItem?.(l())}})]}})})}})}}))}})}const Ol=ue();function Ll(){return ne(Ol)}function Rt(){const e=Ll();if(e===void 0)throw new Error("[kobalte]: `useMenuContext` must be used within a `Menu` component");return e}const kl=ue();function mt(){const e=ne(kl);if(e===void 0)throw new Error("[kobalte]: `useMenuRootContext` must be used within a `MenuRoot` component");return e}/*!
 * Portions of this file are based on code from radix-ui-primitives.
 * MIT Licensed, Copyright (c) 2022 WorkOS.
 *
 * Credits to the Radix UI team:
 * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/menu/src/Menu.tsx
 */function z0(e,t){return t?Uu([e.clientX,e.clientY],t):!1}function j0(e){const t=mt(),n=sl(),r=Ll();e=U({placement:"bottom-start"},e);const[i,o]=H(e,["open","defaultOpen","onOpenChange"]);let s=0,a=null,l="right";const[c,u]=I(),[d,f]=I(),[m,g]=I(),[p,b]=I(),[y,v]=I(!0),[_,w]=I(o.placement),[P,x]=I([]),[L,O]=I([]),{DomCollectionProvider:T}=cl({items:L,onItemsChange:O}),M=Cn({open:()=>i.open,defaultOpen:()=>i.defaultOpen,onOpenChange:z=>i.onOpenChange?.(z)}),k=Pt(()=>t.forceMount()||M.isOpen()),V=Wi({selectionMode:"none",dataSource:L}),W=z=>{v(z),M.open()},C=(z=!1)=>{M.close(),z&&r&&r.close(!0)},B=z=>{v(z),M.toggle()},q=()=>{const z=p();z&&(pe(z),V.selectionManager().setFocused(!0),V.selectionManager().setFocusedKey(void 0))},X=z=>{x(G=>[...G,z]);const Ee=r?.registerNestedMenu(z);return()=>{x(G=>fi(G,z)),Ee?.()}},he=z=>l===a?.side&&z0(z,a?.area),ge=z=>{he(z)&&z.preventDefault()},_e=z=>{he(z)||q()},nt=z=>{he(z)&&z.preventDefault()};Ki({isDisabled:()=>!(r==null&&M.isOpen()&&t.isModal()),targets:()=>[p(),...P()].filter(Boolean)}),R(()=>{const z=p();if(!z||!r)return;const Ee=r.registerNestedMenu(z);$(()=>{Ee()})});const Oe={dataset:S(()=>({"data-expanded":M.isOpen()?"":void 0,"data-closed":M.isOpen()?void 0:""})),isOpen:M.isOpen,contentPresence:k,currentPlacement:_,pointerGraceTimeoutId:()=>s,autoFocus:y,listState:()=>V,parentMenuContext:()=>r,triggerRef:m,contentRef:p,triggerId:c,contentId:d,setTriggerRef:g,setContentRef:b,open:W,close:C,toggle:B,focusContent:q,onItemEnter:ge,onItemLeave:_e,onTriggerLeave:nt,setPointerDir:z=>l=z,setPointerGraceTimeoutId:z=>s=z,setPointerGraceIntent:z=>a=z,registerNestedMenu:X,registerItemToParentDomCollection:n?.registerItem,registerTriggerId:fe(u),registerContentId:fe(f)};return h(T,{get children(){return h(Ol.Provider,{value:Oe,get children(){return h(Al,F({anchorRef:m,contentRef:p,onCurrentPlacementChange:w},o))}})}})}const W0=ue();function Rl(e){let t;const n=mt(),r=Rt();e=U({id:n.generateId(`item-${ve()}`)},e);const[i,o]=H(e,["ref","textValue","disabled","closeOnSelect","checked","indeterminate","onSelect","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[s,a]=I(),[l,c]=I(),[u,d]=I(),f=()=>r.listState().selectionManager(),m=()=>o.id,g=()=>f().focusedKey()===m(),p=()=>{i.onSelect?.(),i.closeOnSelect&&r.close(!0)};ul({getItem:()=>({ref:()=>t,type:"item",key:m(),textValue:i.textValue??u()?.textContent??t?.textContent??"",disabled:i.disabled??!1})});const b=Xa({key:m,selectionManager:f,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>i.disabled},()=>t),y=O=>{K(O,i.onPointerMove),O.pointerType==="mouse"&&(i.disabled?r.onItemLeave(O):(r.onItemEnter(O),O.defaultPrevented||(pe(O.currentTarget),r.listState().selectionManager().setFocused(!0),r.listState().selectionManager().setFocusedKey(m()))))},v=O=>{K(O,i.onPointerLeave),O.pointerType==="mouse"&&r.onItemLeave(O)},_=O=>{K(O,i.onPointerUp),!i.disabled&&O.button===0&&p()},w=O=>{if(K(O,i.onKeyDown),!O.repeat&&!i.disabled)switch(O.key){case"Enter":case" ":p();break}},P=S(()=>{if(i.indeterminate)return"mixed";if(i.checked!=null)return i.checked}),x=S(()=>({"data-indeterminate":i.indeterminate?"":void 0,"data-checked":i.checked&&!i.indeterminate?"":void 0,"data-disabled":i.disabled?"":void 0,"data-highlighted":g()?"":void 0})),L={isChecked:()=>i.checked,dataset:x,setLabelRef:d,generateId:Me(()=>o.id),registerLabel:fe(a),registerDescription:fe(c)};return h(W0.Provider,{value:L,get children(){return h(Z,F({as:"div",ref(O){var T=ae(M=>t=M,i.ref);typeof T=="function"&&T(O)},get tabIndex(){return b.tabIndex()},get"aria-checked"(){return P()},get"aria-disabled"(){return i.disabled},get"aria-labelledby"(){return s()},get"aria-describedby"(){return l()},get"data-key"(){return b.dataKey()},get onPointerDown(){return me([i.onPointerDown,b.onPointerDown])},get onPointerUp(){return me([_,b.onPointerUp])},get onClick(){return me([i.onClick,b.onClick])},get onKeyDown(){return me([w,b.onKeyDown])},get onMouseDown(){return me([i.onMouseDown,b.onMouseDown])},get onFocus(){return me([i.onFocus,b.onFocus])},onPointerMove:y,onPointerLeave:v},x,o))}})}function X0(e){let t;const n=mt(),r=Rt();e=U({id:n.generateId(`content-${ve()}`)},e);const[i,o]=H(e,["ref","id","style","onOpenAutoFocus","onCloseAutoFocus","onEscapeKeyDown","onFocusOutside","onPointerEnter","onPointerMove","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]);let s=0;const a=()=>r.parentMenuContext()==null&&n.isModal(),l=Ya({selectionManager:r.listState().selectionManager,collection:r.listState().collection,autoFocus:r.autoFocus,deferAutoFocus:!0,shouldFocusWrap:!0,disallowTypeAhead:()=>!r.listState().selectionManager().isFocused()},()=>t);Hi({trapFocus:()=>a()&&r.isOpen(),onMountAutoFocus:i.onOpenAutoFocus,onUnmountAutoFocus:i.onCloseAutoFocus},()=>t);const c=g=>{Re(g.currentTarget,g.target)&&g.key==="Tab"&&r.isOpen()&&g.preventDefault()},u=g=>{i.onEscapeKeyDown?.(g),r.close(!0)},d=g=>{i.onFocusOutside?.(g),n.isModal()&&g.preventDefault()},f=g=>{K(g,i.onPointerEnter),r.isOpen()&&(r.parentMenuContext()?.listState().selectionManager().setFocused(!1),r.parentMenuContext()?.listState().selectionManager().setFocusedKey(void 0))},m=g=>{if(K(g,i.onPointerMove),g.pointerType!=="mouse")return;const p=g.target,b=s!==g.clientX;Re(g.currentTarget,p)&&b&&(r.setPointerDir(g.clientX>s?"right":"left"),s=g.clientX)};return R(()=>$(r.registerContentId(i.id))),h(Te,{get when(){return r.contentPresence.isPresent()},get children(){return h(bl,{get children(){return h(Ji,F({ref(g){var p=ae(b=>{r.setContentRef(b),r.contentPresence.setRef(b),t=b},i.ref);typeof p=="function"&&p(g)},role:"menu",get id(){return i.id},get tabIndex(){return l.tabIndex()},get disableOutsidePointerEvents(){return S(()=>!!a())()&&r.isOpen()},get excludedElements(){return[r.triggerRef]},bypassTopMostLayerCheck:!0,get style(){return{"--kb-menu-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative",...i.style}},get"aria-labelledby"(){return r.triggerId()},onEscapeKeyDown:u,onFocusOutside:d,get onDismiss(){return r.close},get onKeyDown(){return me([i.onKeyDown,l.onKeyDown,c])},get onMouseDown(){return me([i.onMouseDown,l.onMouseDown])},get onFocusIn(){return me([i.onFocusIn,l.onFocusIn])},get onFocusOut(){return me([i.onFocusOut,l.onFocusOut])},onPointerEnter:f,onPointerMove:m},()=>r.dataset(),o))}})}})}function J0(e){let t;const n=mt(),r=Rt(),[i,o]=H(e,["ref"]);return Vi({ownerRef:()=>t,isDisabled:()=>!(r.isOpen()&&(n.isModal()||n.preventScroll()))}),h(X0,F({ref(s){var a=ae(l=>t=l,i.ref);typeof a=="function"&&a(s)}},o))}const Fl=ue();function Y0(){const e=ne(Fl);if(e===void 0)throw new Error("[kobalte]: `useMenuGroupContext` must be used within a `Menu.Group` component");return e}function Bl(e){const t=mt();e=U({id:t.generateId(`group-${ve()}`)},e);const[n,r]=I(),i={generateId:Me(()=>e.id),registerLabelId:fe(r)};return h(Fl.Provider,{value:i,get children(){return h(Z,F({as:"div",role:"group",get"aria-labelledby"(){return n()}},e))}})}function Z0(e){const t=Y0();e=U({id:t.generateId("label")},e);const[n,r]=H(e,["id"]);return R(()=>$(t.registerLabelId(n.id))),h(Z,F({as:"span",get id(){return n.id},"aria-hidden":"true"},r))}function Q0(e){const t=Rt();return e=U({children:"▼"},e),h(Z,F({as:"span","aria-hidden":"true"},()=>t.dataset(),e))}function us(e){return h(Rl,F({role:"menuitem",closeOnSelect:!0},e))}function eh(e){const t=Rt();return h(Te,{get when(){return t.contentPresence.isPresent()},get children(){return h(gr,e)}})}const $l=ue();function th(){const e=ne($l);if(e===void 0)throw new Error("[kobalte]: `useMenuRadioGroupContext` must be used within a `Menu.RadioGroup` component");return e}function nh(e){const n=mt().generateId(`radiogroup-${ve()}`);e=U({id:n},e);const[r,i]=H(e,["value","defaultValue","onChange","disabled"]),[o,s]=Tn({value:()=>r.value,defaultValue:()=>r.defaultValue,onChange:l=>r.onChange?.(l)}),a={isDisabled:()=>r.disabled,isSelectedValue:l=>l===o(),setSelectedValue:s};return h($l.Provider,{value:a,get children(){return h(Bl,i)}})}function rh(e){const t=th();e=U({closeOnSelect:!1},e);const[n,r]=H(e,["value","onSelect"]);return h(Rl,F({role:"menuitemradio",get checked(){return t.isSelectedValue(n.value)},onSelect:()=>{n.onSelect?.(),t.setSelectedValue(n.value)}},r))}function ih(e){const t=`menu-${ve()}`;e=U({id:t,modal:!0,preventScroll:!1},e);const[n,r]=H(e,["id","modal","preventScroll","forceMount","open","defaultOpen","onOpenChange"]),i=Cn({open:()=>n.open,defaultOpen:()=>n.defaultOpen,onOpenChange:s=>n.onOpenChange?.(s)}),o={isModal:()=>n.modal??!0,preventScroll:()=>n.preventScroll??!1,forceMount:()=>n.forceMount??!1,generateId:Me(()=>n.id)};return h(kl.Provider,{value:o,get children(){return h(j0,F({get open(){return i.isOpen()},get onOpenChange(){return i.setIsOpen}},r))}})}function oh(e){const t=mt(),n=Rt();e=U({id:t.generateId("trigger")},e);const[r,i]=H(e,["ref","id","disabled","onPointerDown","onClick","onKeyDown"]),o=l=>{K(l,r.onPointerDown),l.currentTarget.dataset.pointerType=l.pointerType,!r.disabled&&l.pointerType!=="touch"&&l.button===0&&n.toggle(!0)},s=l=>{K(l,r.onClick),!r.disabled&&l.currentTarget.dataset.pointerType==="touch"&&n.toggle(!0)},a=l=>{if(K(l,r.onKeyDown),!r.disabled)switch(l.key){case"Enter":case" ":case"ArrowDown":l.stopPropagation(),l.preventDefault(),n.toggle("first");break;case"ArrowUp":l.stopPropagation(),l.preventDefault(),n.toggle("last");break}};return R(()=>$(n.registerTriggerId(r.id))),h(en,F({ref(l){var c=ae(n.setTriggerRef,r.ref);typeof c=="function"&&c(l)},get id(){return r.id},get disabled(){return r.disabled},"aria-haspopup":"true",get"aria-expanded"(){return n.isOpen()},get"aria-controls"(){return S(()=>!!n.isOpen())()?n.contentId():void 0},onPointerDown:o,onClick:s,onKeyDown:a},()=>n.dataset(),i))}function sh(e){let t;e=U({orientation:"horizontal"},e);const[n,r]=H(e,["ref","orientation"]),i=Ui(()=>t,()=>"hr");return h(Z,F({as:"hr",ref(o){var s=ae(a=>t=a,n.ref);typeof s=="function"&&s(o)},get role(){return i()!=="hr"?"separator":void 0},get"aria-orientation"(){return n.orientation==="vertical"?"vertical":void 0},get"data-orientation"(){return n.orientation}},r))}function ah(e){const t=mt(),n=Rt(),[r,i]=H(e,["onCloseAutoFocus","onInteractOutside"]);let o=!1;return h(J0,F({onCloseAutoFocus:l=>{r.onCloseAutoFocus?.(l),o||pe(n.triggerRef()),o=!1,l.preventDefault()},onInteractOutside:l=>{r.onInteractOutside?.(l),(!t.isModal()||l.detail.isContextMenu)&&(o=!0)}},i))}function lh(e){const t=`dropdownmenu-${ve()}`;return e=U({id:t},e),h(ih,e)}const Nl=ue();function Hl(){const e=ne(Nl);if(e===void 0)throw new Error("[kobalte]: `useRadioGroupContext` must be used within a `RadioGroup` component");return e}const Kl=ue();function Cr(){const e=ne(Kl);if(e===void 0)throw new Error("[kobalte]: `useRadioGroupItemContext` must be used within a `RadioGroup.Item` component");return e}function xt(e){const t=tt(),n=Hl(),r=`${t.generateId("item")}-${ve()}`;e=U({id:r},e);const[i,o]=H(e,["value","disabled","onPointerDown"]),[s,a]=I(),[l,c]=I(),[u,d]=I(),[f,m]=I(),[g,p]=I(!1),b=S(()=>n.isSelectedValue(i.value)),y=S(()=>i.disabled||t.isDisabled()||!1),v=P=>{K(P,i.onPointerDown),g()&&P.preventDefault()},_=S(()=>({...t.dataset(),"data-disabled":y()?"":void 0,"data-checked":b()?"":void 0})),w={value:()=>i.value,dataset:_,isSelected:b,isDisabled:y,inputId:s,labelId:l,descriptionId:u,inputRef:f,select:()=>n.setSelectedValue(i.value),generateId:Me(()=>o.id),registerInput:fe(a),registerLabel:fe(c),registerDescription:fe(d),setIsFocused:p,setInputRef:m};return h(Kl.Provider,{value:w,get children(){return h(Z,F({as:"div",role:"group",onPointerDown:v},_,o))}})}function St(e){const t=Cr();e=U({id:t.generateId("control")},e);const[n,r]=H(e,["onClick","onKeyDown"]);return h(Z,F({as:"div",onClick:s=>{K(s,n.onClick),t.select(),t.inputRef()?.focus()},onKeyDown:s=>{K(s,n.onKeyDown),s.key===mr.Space&&(t.select(),t.inputRef()?.focus())}},()=>t.dataset(),r))}function Et(e){const t=Cr();e=U({id:t.generateId("indicator")},e);const[n,r]=H(e,["ref","forceMount"]),i=Pt(()=>n.forceMount||t.isSelected());return h(Te,{get when(){return i.isPresent()},get children(){return h(Z,F({as:"div",ref(o){var s=ae(i.setRef,n.ref);typeof s=="function"&&s(o)}},()=>t.dataset(),r))}})}var ch=A("<input type=radio>");function Tt(e){const t=tt(),n=Hl(),r=Cr();e=U({id:r.generateId("input")},e);const[i,o]=H(e,["ref","style","aria-labelledby","aria-describedby","onChange","onFocus","onBlur"]),s=()=>[i["aria-labelledby"],r.labelId(),i["aria-labelledby"]!=null&&o["aria-label"]!=null?o.id:void 0].filter(Boolean).join(" ")||void 0,a=()=>[i["aria-describedby"],r.descriptionId(),n.ariaDescribedBy()].filter(Boolean).join(" ")||void 0,l=d=>{K(d,i.onChange),d.stopPropagation(),n.setSelectedValue(r.value());const f=d.target;f.checked=r.isSelected()},c=d=>{K(d,i.onFocus),r.setIsFocused(!0)},u=d=>{K(d,i.onBlur),r.setIsFocused(!1)};return R(()=>$(r.registerInput(o.id))),(()=>{var d=ch();d.addEventListener("blur",u),d.addEventListener("focus",c),d.addEventListener("change",l);var f=ae(r.setInputRef,i.ref);return typeof f=="function"&&Ae(f,d),re(d,F({get name(){return t.name()},get value(){return r.value()},get checked(){return r.isSelected()},get required(){return t.isRequired()},get disabled(){return r.isDisabled()},get readonly(){return t.isReadOnly()},get style(){return{...pr,...i.style}},get"aria-labelledby"(){return s()},get"aria-describedby"(){return a()}},()=>r.dataset(),o),!1,!1),d})()}var uh=A("<label>");function Xr(e){const t=Cr();return e=U({id:t.generateId("label")},e),R(()=>$(t.registerLabel(e.id))),(()=>{var n=uh();return re(n,F({get for(){return t.inputId()}},()=>t.dataset(),e),!1,!1),n})()}function Vl(e){return h(Gi,F({as:"span"},e))}function Ul(e){let t;const n=`radiogroup-${ve()}`;e=U({id:n,orientation:"vertical"},e);const[r,i,o]=H(e,["ref","value","defaultValue","onChange","orientation","aria-labelledby","aria-describedby"],vr),[s,a]=Tn({value:()=>r.value,defaultValue:()=>r.defaultValue,onChange:m=>r.onChange?.(m)}),{formControlContext:l}=yr(i);br(()=>t,()=>a(r.defaultValue??""));const c=()=>l.getAriaLabelledBy(E(i.id),o["aria-label"],r["aria-labelledby"]),u=()=>l.getAriaDescribedBy(r["aria-describedby"]),d=m=>m===s(),f={ariaDescribedBy:u,isSelectedValue:d,setSelectedValue:m=>{l.isReadOnly()||l.isDisabled()||(a(m),t?.querySelectorAll("[type='radio']").forEach(g=>{const p=g;p.checked=d(p.value)}))}};return h(Pn.Provider,{value:l,get children(){return h(Nl.Provider,{value:f,get children(){return h(Z,F({as:"div",ref(m){var g=ae(p=>t=p,r.ref);typeof g=="function"&&g(m)},role:"radiogroup",get id(){return E(i.id)},get"aria-invalid"(){return l.validationState()==="invalid"||void 0},get"aria-required"(){return l.isRequired()||void 0},get"aria-disabled"(){return l.isDisabled()||void 0},get"aria-readonly"(){return l.isReadOnly()||void 0},get"aria-orientation"(){return r.orientation},get"aria-labelledby"(){return c()},get"aria-describedby"(){return u()}},()=>l.dataset(),o))}})}})}const Gl=ue();function rn(){const e=ne(Gl);if(e===void 0)throw new Error("[kobalte]: `useSelectContext` must be used within a `Select` component");return e}function dh(e){let t;const n=rn(),[r,i]=H(e,["ref","id","style","onCloseAutoFocus","onFocusOutside"]),o=a=>{n.close()},s=a=>{r.onFocusOutside?.(a),n.isOpen()&&n.isModal()&&a.preventDefault()};return Ki({isDisabled:()=>!(n.isOpen()&&n.isModal()),targets:()=>t?[t]:[]}),Vi({ownerRef:()=>t,isDisabled:()=>!(n.isOpen()&&(n.isModal()||n.preventScroll()))}),Hi({trapFocus:()=>n.isOpen()&&n.isModal(),onMountAutoFocus:a=>{a.preventDefault()},onUnmountAutoFocus:a=>{r.onCloseAutoFocus?.(a),a.defaultPrevented||(pe(n.triggerRef()),a.preventDefault())}},()=>t),h(Te,{get when(){return n.contentPresence.isPresent()},get children(){return h(bl,{get children(){return h(Ji,F({ref(a){var l=ae(c=>{n.setContentRef(c),n.contentPresence.setRef(c),t=c},r.ref);typeof l=="function"&&l(a)},get disableOutsidePointerEvents(){return S(()=>!!n.isModal())()&&n.isOpen()},get excludedElements(){return[n.triggerRef]},get style(){return{"--kb-select-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative",...r.style}},onEscapeKeyDown:o,onFocusOutside:s,get onDismiss(){return n.close}},()=>n.dataset(),i))}})}})}function fh(e){const t=rn();return e=U({children:"▼"},e),h(Z,F({as:"span","aria-hidden":"true"},()=>t.dataset(),e))}function hh(e){const t=rn();e=U({id:t.generateId("listbox")},e);const[n,r]=H(e,["ref","id","onKeyDown"]);return R(()=>$(t.registerListboxId(n.id))),h(q0,F({ref(o){var s=ae(t.setListboxRef,n.ref);typeof s=="function"&&s(o)},get id(){return n.id},get state(){return t.listState()},get virtualized(){return t.isVirtualized()},get autoFocus(){return t.autoFocus()},shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,get shouldFocusWrap(){return t.shouldFocusWrap()},get disallowTypeAhead(){return t.disallowTypeAhead()},get"aria-labelledby"(){return t.listboxAriaLabelledBy()},get renderItem(){return t.renderItem},get renderSection(){return t.renderSection},onKeyDown:o=>{K(o,n.onKeyDown),o.key==="Escape"&&o.preventDefault()}},r))}function gh(e){const t=rn();return h(Te,{get when(){return t.contentPresence.isPresent()},get children(){return h(gr,e)}})}function mh(e){const t=`select-${ve()}`;e=U({id:t,selectionMode:"single",disallowEmptySelection:!1,allowDuplicateSelectionEvents:!0,gutter:8,sameWidth:!0,modal:!1,preventScroll:!1},e);const[n,r,i,o]=H(e,["itemComponent","sectionComponent","open","defaultOpen","onOpenChange","value","defaultValue","onChange","placeholder","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","keyboardDelegate","allowDuplicateSelectionEvents","disallowEmptySelection","disallowTypeAhead","shouldFocusWrap","selectionBehavior","selectionMode","virtualized","modal","preventScroll","forceMount"],["getAnchorRect","placement","gutter","shift","flip","slide","overlap","sameWidth","fitViewport","hideWhenDetached","detachedPadding","arrowPadding","overflowPadding"],vr),[s,a]=I(),[l,c]=I(),[u,d]=I(),[f,m]=I(),[g,p]=I(),[b,y]=I(),[v,_]=I(),[w,P]=I(!0),x=G=>{const de=n.optionValue;return de==null?String(G):String(Zt(de)?de(G):G[de])},L=S(()=>{const G=n.optionGroupChildren;return G==null?n.options:n.options.flatMap(de=>de[G]??de)}),O=S(()=>L().map(G=>x(G))),T=G=>[...G].map(de=>L().find($t=>x($t)===de)).filter(de=>de!=null),M=Cn({open:()=>n.open,defaultOpen:()=>n.defaultOpen,onOpenChange:G=>n.onOpenChange?.(G)}),k=Wi({selectedKeys:()=>n.value!=null?n.value.map(x):n.value,defaultSelectedKeys:()=>n.defaultValue!=null?n.defaultValue.map(x):n.defaultValue,onSelectionChange:G=>{n.onChange?.(T(G)),n.selectionMode==="single"&&X()},allowDuplicateSelectionEvents:()=>E(n.allowDuplicateSelectionEvents),disallowEmptySelection:()=>E(n.disallowEmptySelection),selectionBehavior:()=>E(n.selectionBehavior),selectionMode:()=>n.selectionMode,dataSource:()=>n.options??[],getKey:()=>n.optionValue,getTextValue:()=>n.optionTextValue,getDisabled:()=>n.optionDisabled,getSectionChildren:()=>n.optionGroupChildren}),V=S(()=>T(k.selectionManager().selectedKeys())),W=G=>{k.selectionManager().toggleSelection(x(G))},C=Pt(()=>n.forceMount||M.isOpen()),B=()=>{const G=b();G&&pe(G)},q=G=>{if(n.options.length<=0)return;P(G),M.open();let de=k.selectionManager().firstSelectedKey();de==null&&(G==="first"?de=k.collection().getFirstKey():G==="last"&&(de=k.collection().getLastKey())),B(),k.selectionManager().setFocused(!0),k.selectionManager().setFocusedKey(de)},X=()=>{M.close(),k.selectionManager().setFocused(!1),k.selectionManager().setFocusedKey(void 0)},he=G=>{M.isOpen()?X():q(G)},{formControlContext:ge}=yr(i);br(f,()=>{const G=n.defaultValue?[...n.defaultValue].map(x):new Ke;k.selectionManager().setSelectedKeys(G)});const _e=Da({usage:"search",sensitivity:"base"}),nt=S(()=>{const G=E(n.keyboardDelegate);return G||new Ja(k.collection,void 0,_e)}),qe=G=>n.itemComponent?.({item:G}),Oe=G=>n.sectionComponent?.({section:G});R(Pe([O],([G])=>{const $t=[...k.selectionManager().selectedKeys()].filter(On=>G.includes(On));k.selectionManager().setSelectedKeys($t)},{defer:!0}));const z=S(()=>({"data-expanded":M.isOpen()?"":void 0,"data-closed":M.isOpen()?void 0:""})),Ee={dataset:z,isOpen:M.isOpen,isDisabled:()=>ge.isDisabled()??!1,isMultiple:()=>E(n.selectionMode)==="multiple",isVirtualized:()=>n.virtualized??!1,isModal:()=>n.modal??!1,preventScroll:()=>n.preventScroll??!1,disallowTypeAhead:()=>n.disallowTypeAhead??!1,shouldFocusWrap:()=>n.shouldFocusWrap??!1,selectedOptions:V,contentPresence:C,autoFocus:w,triggerRef:f,listState:()=>k,keyboardDelegate:nt,triggerId:s,valueId:l,listboxId:u,listboxAriaLabelledBy:v,setListboxAriaLabelledBy:_,setTriggerRef:m,setContentRef:p,setListboxRef:y,open:q,close:X,toggle:he,placeholder:()=>n.placeholder,renderItem:qe,renderSection:Oe,removeOptionFromSelection:W,generateId:Me(()=>E(i.id)),registerTriggerId:fe(a),registerValueId:fe(c),registerListboxId:fe(d)};return h(Pn.Provider,{value:ge,get children(){return h(Gl.Provider,{value:Ee,get children(){return h(Al,F({anchorRef:f,contentRef:g},r,{get children(){return h(Z,F({as:"div",role:"group",get id(){return E(i.id)}},()=>ge.dataset(),z,o))}}))}})}})}function ph(e){const[t,n]=H(e,["value","defaultValue","onChange","multiple"]),r=S(()=>t.value!=null?t.multiple?t.value:[t.value]:t.value),i=S(()=>t.defaultValue!=null?t.multiple?t.defaultValue:[t.defaultValue]:t.defaultValue);return h(mh,F({get value(){return r()},get defaultValue(){return i()},onChange:s=>{t.multiple?t.onChange?.(s):t.onChange?.(s[0]??null)},get selectionMode(){return t.multiple?"multiple":"single"}},n))}function bh(e){const t=tt(),n=rn();e=U({id:n.generateId("trigger")},e);const[r,i,o]=H(e,["ref","disabled","onPointerDown","onClick","onKeyDown","onFocus","onBlur"],_r),s=()=>n.listState().selectionManager(),a=()=>n.keyboardDelegate(),l=()=>r.disabled||n.isDisabled(),{fieldProps:c}=wr(i),{typeSelectHandlers:u}=Wa({keyboardDelegate:a,selectionManager:s,onTypeSelect:y=>s().select(y)}),d=()=>[n.listboxAriaLabelledBy(),n.valueId()].filter(Boolean).join(" ")||void 0,f=y=>{K(y,r.onPointerDown),y.currentTarget.dataset.pointerType=y.pointerType,!l()&&y.pointerType!=="touch"&&y.button===0&&(y.preventDefault(),n.toggle(!0))},m=y=>{K(y,r.onClick),!l()&&y.currentTarget.dataset.pointerType==="touch"&&n.toggle(!0)},g=y=>{if(K(y,r.onKeyDown),!l())switch(K(y,u.onKeyDown),y.key){case"Enter":case" ":case"ArrowDown":y.stopPropagation(),y.preventDefault(),n.toggle("first");break;case"ArrowUp":y.stopPropagation(),y.preventDefault(),n.toggle("last");break;case"ArrowLeft":{if(y.preventDefault(),n.isMultiple())return;const v=s().firstSelectedKey(),_=v!=null?a().getKeyAbove?.(v):a().getFirstKey?.();_!=null&&s().select(_);break}case"ArrowRight":{if(y.preventDefault(),n.isMultiple())return;const v=s().firstSelectedKey(),_=v!=null?a().getKeyBelow?.(v):a().getFirstKey?.();_!=null&&s().select(_);break}}},p=y=>{K(y,r.onFocus),!s().isFocused()&&s().setFocused(!0)},b=y=>{K(y,r.onBlur),!n.isOpen()&&s().setFocused(!1)};return R(()=>$(n.registerTriggerId(c.id()))),R(()=>{n.setListboxAriaLabelledBy([c.ariaLabelledBy(),c.ariaLabel()&&!c.ariaLabelledBy()?c.id():null].filter(Boolean).join(" ")||void 0)}),h(en,F({ref(y){var v=ae(n.setTriggerRef,r.ref);typeof v=="function"&&v(y)},get id(){return c.id()},get disabled(){return l()},"aria-haspopup":"listbox",get"aria-expanded"(){return n.isOpen()},get"aria-controls"(){return S(()=>!!n.isOpen())()?n.listboxId():void 0},get"aria-label"(){return c.ariaLabel()},get"aria-labelledby"(){return d()},get"aria-describedby"(){return c.ariaDescribedBy()},onPointerDown:f,onClick:m,onKeyDown:g,onFocus:p,onBlur:b},()=>n.dataset(),()=>t.dataset(),o))}var vh=A("<span>");function yh(e){const t=tt(),n=rn();e=U({id:n.generateId("value")},e);const[r,i]=H(e,["id","children"]),o=()=>n.listState().selectionManager(),s=()=>{const a=o().selectedKeys();return a.size===1&&a.has("")?!0:o().isEmpty()};return R(()=>$(n.registerValueId(r.id))),(()=>{var a=vh();return re(a,F({get id(){return r.id},get"data-placeholder-shown"(){return s()?"":void 0}},()=>t.dataset(),i),!1,!0),D(a,h(Te,{get when(){return!s()},get fallback(){return n.placeholder()},get children(){return h(_h,{state:{selectedOption:()=>n.selectedOptions()[0],selectedOptions:()=>n.selectedOptions(),remove:l=>n.removeOptionFromSelection(l),clear:()=>o().clearSelection()},get children(){return r.children}})}})),a})()}function _h(e){const t=Ot(()=>{const n=e.children;return Zt(n)?n(e.state):n});return S(t)}const ql=ue();function Pr(){const e=ne(ql);if(e===void 0)throw new Error("[kobalte]: `useSliderContext` must be used within a `Slider.Root` component");return e}function wh(e){const t=Pr(),[n,r]=H(e,["style"]),i=()=>t.state.values().map(a=>t.state.getValuePercent(a)*100),o=()=>t.state.values().length>1?Math.min(...i()):0,s=()=>100-Math.max(...i());return h(Z,F({as:"div",get style(){return{[t.startEdge()]:`${o()}%`,[t.endEdge()]:`${s()}%`,...n.style}}},()=>t.dataset(),r))}function xh(e){let t;const n=Pr();e=U({id:n.generateId(`thumb-${ve()}`)},e);const[r,i,o]=H(e,["ref","style","onKeyDown","onPointerDown","onPointerMove","onPointerUp","onFocus","onBlur"],_r),{fieldProps:s}=wr(i);ul({getItem:()=>({ref:()=>t,disabled:n.state.isDisabled(),key:s.id(),textValue:"",type:"item"})});const a=()=>t?n.thumbs().findIndex(v=>v.ref()===t):-1,l=()=>n.state.getThumbValue(a()),c=()=>n.state.getThumbPercent(a()),u=()=>n.state.orientation()==="vertical"?"translateY(50%)":"translateX(-50%)";let d=0;const f=v=>{K(v,r.onKeyDown),n.onStepKeyDown(v,a())},m=v=>{K(v,r.onPointerDown);const _=v.currentTarget;v.preventDefault(),v.stopPropagation(),_.setPointerCapture(v.pointerId),_.focus(),d=n.state.orientation()==="horizontal"?v.clientX:v.clientY,l()!==void 0&&n.onSlideStart?.(a(),l())},g=v=>{if(v.stopPropagation(),K(v,r.onPointerMove),v.currentTarget.hasPointerCapture(v.pointerId)){const w={deltaX:v.clientX-d,deltaY:v.clientY-d};n.onSlideMove?.(w),d=n.state.orientation()==="horizontal"?v.clientX:v.clientY}},p=v=>{v.stopPropagation(),K(v,r.onPointerUp);const _=v.currentTarget;_.hasPointerCapture(v.pointerId)&&(_.releasePointerCapture(v.pointerId),n.onSlideEnd?.())},b=v=>{K(v,r.onFocus),n.state.setFocusedThumb(a())},y=v=>{K(v,r.onBlur),n.state.setFocusedThumb(void 0)};return Mt(()=>{n.state.setThumbEditable(a(),!n.state.isDisabled())}),h(zl.Provider,{value:{index:a},get children(){return h(Z,F({as:"span",ref(v){var _=ae(w=>t=w,r.ref);typeof _=="function"&&_(v)},role:"slider",get id(){return s.id()},get tabIndex(){return n.state.isDisabled()?void 0:0},get style(){return{display:l()===void 0?"none":void 0,position:"absolute",[n.startEdge()]:`calc(${c()*100}%)`,transform:u(),"touch-action":"none",...r.style}},get"aria-valuetext"(){return n.state.getThumbValueLabel(a())},get"aria-valuemin"(){return n.minValue()},get"aria-valuenow"(){return l()},get"aria-valuemax"(){return n.maxValue()},get"aria-orientation"(){return n.state.orientation()},get"aria-label"(){return s.ariaLabel()},get"aria-labelledby"(){return s.ariaLabelledBy()},get"aria-describedby"(){return s.ariaDescribedBy()},onKeyDown:f,onPointerDown:m,onPointerMove:g,onPointerUp:p,onFocus:b,onBlur:y},()=>n.dataset(),o))}})}const zl=ue();function Sh(){const e=ne(zl);if(e===void 0)throw new Error("[kobalte]: `useThumbContext` must be used within a `Slider.Thumb` component");return e}var Eh=A("<input type=range>");function Th(e){const t=tt(),n=Pr(),r=Sh();e=U({id:n.generateId("input")},e);const[i,o,s]=H(e,["ref","style","onChange"],_r),{fieldProps:a}=wr(o),[l,c]=I(""),u=d=>{K(d,i.onChange);const f=d.target;n.state.setThumbValue(r.index(),parseFloat(f.value)),f.value=String(n.state.values()[r.index()])??""};return R(()=>{c(r.index()===-1?"":n.state.getThumbValueLabel(r.index()))}),(()=>{var d=Eh();d.addEventListener("change",u);var f=ae(m=>m,i.ref);return typeof f=="function"&&Ae(f,d),re(d,F({get id(){return a.id()},get name(){return t.name()},get tabIndex(){return n.state.isDisabled()?void 0:0},get min(){return n.state.getThumbMinValue(r.index())},get max(){return n.state.getThumbMaxValue(r.index())},get step(){return n.state.step()},get value(){return n.state.values()[r.index()]},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readonly(){return t.isReadOnly()},get style(){return{...pr,...i.style}},get"aria-orientation"(){return n.state.orientation()},get"aria-valuetext"(){return l()},get"aria-label"(){return a.ariaLabel()},get"aria-labelledby"(){return a.ariaLabelledBy()},get"aria-describedby"(){return a.ariaDescribedBy()},get"aria-invalid"(){return t.validationState()==="invalid"||void 0},get"aria-required"(){return t.isRequired()||void 0},get"aria-disabled"(){return t.isDisabled()||void 0},get"aria-readonly"(){return t.isReadOnly()||void 0}},()=>n.dataset(),s),!1,!1),d})()}function jn(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,o)=>i-o)}function Ch(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function Ph(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Wn(e,t){if(t>0){const n=Ph(e);return Math.min(...n)>=t}return!0}function Ah(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/1ddcde7b4fef9af7f08e11bb78d71fe60bbcc64b/packages/@react-stately/slider/src/useSliderState.ts
 */function Dh(e){e=U({minValue:()=>0,maxValue:()=>100,step:()=>1,minStepsBetweenThumbs:()=>0,orientation:()=>"horizontal",isDisabled:()=>!1},e);const t=S(()=>{let T=(e.maxValue()-e.minValue())/10;return T=Fn(T,0,T+e.step(),e.step()),Math.max(T,e.step())}),n=S(()=>e.defaultValue()??[e.minValue()]),[r,i]=Sa({value:()=>e.value(),defaultValue:n,onChange:T=>e.onChange?.(T)}),[o,s]=I(new Array(r().length).fill(!1)),[a,l]=I(new Array(r().length).fill(!1)),[c,u]=I(void 0),d=()=>{i(n())},f=T=>(T-e.minValue())/(e.maxValue()-e.minValue()),m=T=>T===0?e.minValue():r()[T-1],g=T=>T===r().length-1?e.maxValue():r()[T+1],p=T=>a()[T],b=T=>{l(M=>(M[T]=!0,M))},y=(T,M)=>{if(e.isDisabled()||!p(T))return;M=Fn(M,m(T),g(T),e.step());const k=jn(r(),M,T);Wn(k,e.minStepsBetweenThumbs()*e.step())&&i(V=>[...ds(V,T,M)])},v=(T,M)=>{if(e.isDisabled()||!p(T))return;const k=o()[T];s(V=>[...ds(V,T,M)]),k&&!o().some(Boolean)&&e.onChangeEnd?.(r())},_=T=>e.numberFormatter.format(T),w=(T,M)=>{y(T,x(M))},P=T=>Math.round((T-e.minValue())/e.step())*e.step()+e.minValue(),x=T=>{const M=T*(e.maxValue()-e.minValue())+e.minValue();return wa(P(M),e.minValue(),e.maxValue())};return{values:r,getThumbValue:T=>r()[T],setThumbValue:y,setThumbPercent:w,isThumbDragging:T=>o()[T],setThumbDragging:v,focusedThumb:c,setFocusedThumb:u,getThumbPercent:T=>f(r()[T]),getValuePercent:f,getThumbValueLabel:T=>_(r()[T]),getFormattedValue:_,getThumbMinValue:m,getThumbMaxValue:g,getPercentValue:x,isThumbEditable:p,setThumbEditable:b,incrementThumb:(T,M=1)=>{const k=Math.max(M,e.step()),V=r()[T]+k,W=jn(r(),V,T);Wn(W,e.minStepsBetweenThumbs()*e.step())&&y(T,Fn(V,e.minValue(),e.maxValue(),e.step()))},decrementThumb:(T,M=1)=>{const k=Math.max(M,e.step()),V=r()[T]-k,W=jn(r(),V,T);Wn(W,e.minStepsBetweenThumbs()*e.step())&&y(T,Fn(V,e.minValue(),e.maxValue(),e.step()))},step:e.step,pageSize:t,orientation:e.orientation,isDisabled:e.isDisabled,setValues:i,resetValues:d}}function ds(e,t,n){return e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)]}function Ih(e){let t;const n=`slider-${ve()}`;e=U({id:n,minValue:0,maxValue:100,step:1,minStepsBetweenThumbs:0,orientation:"horizontal",disabled:!1,inverted:!1,getValueLabel:C=>C.values.join(", ")},e);const[r,i,o]=H(e,["ref","value","defaultValue","onChange","onChangeEnd","inverted","minValue","maxValue","step","minStepsBetweenThumbs","getValueLabel","orientation"],vr),{formControlContext:s}=yr(i),a=bf(()=>({style:"decimal"})),{direction:l}=Qt(),c=Dh({value:()=>r.value,defaultValue:()=>r.defaultValue??[r.minValue],maxValue:()=>r.maxValue,minValue:()=>r.minValue,minStepsBetweenThumbs:()=>r.minStepsBetweenThumbs,isDisabled:()=>s.isDisabled()??!1,orientation:()=>r.orientation,step:()=>r.step,numberFormatter:a(),onChange:r.onChange,onChangeEnd:r.onChangeEnd}),[u,d]=I([]),{DomCollectionProvider:f}=cl({items:u,onItemsChange:d});br(()=>t,()=>c.resetValues());const m=()=>l()==="ltr",g=()=>m()&&!r.inverted||!m()&&r.inverted,p=()=>!r.inverted,b=()=>c.orientation()==="vertical",y=S(()=>({...s.dataset(),"data-orientation":r.orientation})),[v,_]=I();let w=null;const P=(C,B)=>{c.setFocusedThumb(C),c.setThumbDragging(C,!0),c.setThumbValue(C,B),w=null},x=({deltaX:C,deltaY:B})=>{const q=c.focusedThumb();if(q===void 0)return;const{width:X,height:he}=v().getBoundingClientRect(),ge=b()?he:X;w===null&&(w=c.getThumbPercent(c.focusedThumb())*ge);let _e=b()?B:C;(!b()&&r.inverted||b()&&p())&&(_e=-_e),w+=_e;const nt=wa(w/ge,0,1),qe=jn(c.values(),w,q);Wn(qe,r.minStepsBetweenThumbs*c.step())&&(c.setThumbPercent(c.focusedThumb(),nt),r.onChange?.(c.values()))},L=()=>{const C=c.focusedThumb();C!==void 0&&(c.setThumbDragging(C,!1),r.onChangeEnd?.(c.values()))},O=()=>{!s.isDisabled()&&c.focusedThumb()!==void 0&&c.setThumbValue(0,c.getThumbMinValue(0))},T=()=>{!s.isDisabled()&&c.focusedThumb()!==void 0&&c.setThumbValue(c.values().length-1,c.getThumbMaxValue(c.values().length-1))},M=(C,B)=>{if(!s.isDisabled())switch(C.key){case"Left":case"ArrowLeft":C.preventDefault(),C.stopPropagation(),m()?c.decrementThumb(B,C.shiftKey?c.pageSize():c.step()):c.incrementThumb(B,C.shiftKey?c.pageSize():c.step());break;case"Right":case"ArrowRight":C.preventDefault(),C.stopPropagation(),m()?c.incrementThumb(B,C.shiftKey?c.pageSize():c.step()):c.decrementThumb(B,C.shiftKey?c.pageSize():c.step());break;case"Up":case"ArrowUp":C.preventDefault(),C.stopPropagation(),m()?c.incrementThumb(B,C.shiftKey?c.pageSize():c.step()):c.decrementThumb(B,C.shiftKey?c.pageSize():c.step());break;case"Down":case"ArrowDown":C.preventDefault(),C.stopPropagation(),m()?c.decrementThumb(B,C.shiftKey?c.pageSize():c.step()):c.incrementThumb(B,C.shiftKey?c.pageSize():c.step());break;case"Home":O();break;case"End":T();break;case"PageUp":c.incrementThumb(B,c.pageSize());break;case"PageDown":c.decrementThumb(B,c.pageSize());break}},k=S(()=>b()?p()?"bottom":"top":g()?"left":"right"),V=S(()=>b()?p()?"top":"bottom":g()?"right":"left"),W={dataset:y,state:c,thumbs:u,setThumbs:d,onSlideStart:P,onSlideMove:x,onSlideEnd:L,onStepKeyDown:M,isSlidingFromLeft:g,isSlidingFromBottom:p,trackRef:v,minValue:()=>r.minValue,maxValue:()=>r.maxValue,inverted:()=>r.inverted,startEdge:k,endEdge:V,registerTrack:C=>_(C),generateId:Me(()=>E(i.id)),getValueLabel:r.getValueLabel};return h(f,{get children(){return h(Pn.Provider,{value:s,get children(){return h(ql.Provider,{value:W,get children(){return h(Z,F({as:"div",ref(C){var B=ae(q=>t=q,r.ref);typeof B=="function"&&B(C)},role:"group",get id(){return E(i.id)}},y,o))}})}})}})}function Mh(e){const t=Pr(),[n,r]=H(e,["onPointerDown","onPointerMove","onPointerUp"]),[i,o]=I();function s(d){const f=i()||t.trackRef().getBoundingClientRect(),m=[0,t.state.orientation()==="vertical"?f.height:f.width];let g=t.isSlidingFromLeft()?[t.minValue(),t.maxValue()]:[t.maxValue(),t.minValue()];t.state.orientation()==="vertical"&&(g=t.isSlidingFromBottom()?[t.maxValue(),t.minValue()]:[t.minValue(),t.maxValue()]);const p=Ah(m,g);return o(f),p(d-(t.state.orientation()==="vertical"?f.top:f.left))}let a=0;return h(Z,F({as:"div",ref(d){var f=ae(t.registerTrack,e.ref);typeof f=="function"&&f(d)},onPointerDown:d=>{K(d,n.onPointerDown),d.target.setPointerCapture(d.pointerId),d.preventDefault();const m=s(t.state.orientation()==="horizontal"?d.clientX:d.clientY);a=t.state.orientation()==="horizontal"?d.clientX:d.clientY;const g=Ch(t.state.values(),m);t.onSlideStart?.(g,m)},onPointerMove:d=>{K(d,n.onPointerMove),d.target.hasPointerCapture(d.pointerId)&&(t.onSlideMove?.({deltaX:d.clientX-a,deltaY:d.clientY-a}),a=t.state.orientation()==="horizontal"?d.clientX:d.clientY)},onPointerUp:d=>{K(d,n.onPointerUp);const f=d.target;f.hasPointerCapture(d.pointerId)&&(f.releasePointerCapture(d.pointerId),o(void 0),t.onSlideEnd?.())}},()=>t.dataset(),r))}const jl=ue();function Ar(){const e=ne(jl);if(e===void 0)throw new Error("[kobalte]: `useSwitchContext` must be used within a `Switch` component");return e}function Oh(e){const t=tt(),n=Ar();e=U({id:n.generateId("control")},e);const[r,i]=H(e,["onClick","onKeyDown"]);return h(Z,F({as:"div",onClick:a=>{K(a,r.onClick),n.toggle(),n.inputRef()?.focus()},onKeyDown:a=>{K(a,r.onKeyDown),a.key===mr.Space&&(n.toggle(),n.inputRef()?.focus())}},()=>t.dataset(),()=>n.dataset(),i))}var Lh=A("<input type=checkbox role=switch>");function kh(e){const t=tt(),n=Ar();e=U({id:n.generateId("input")},e);const[r,i,o]=H(e,["ref","style","onChange","onFocus","onBlur"],_r),{fieldProps:s}=wr(i),a=u=>{K(u,r.onChange),u.stopPropagation();const d=u.target;n.setIsChecked(d.checked),d.checked=n.checked()},l=u=>{K(u,r.onFocus),n.setIsFocused(!0)},c=u=>{K(u,r.onBlur),n.setIsFocused(!1)};return(()=>{var u=Lh();u.addEventListener("blur",c),u.addEventListener("focus",l),u.addEventListener("change",a);var d=ae(n.setInputRef,r.ref);return typeof d=="function"&&Ae(d,u),re(u,F({get id(){return s.id()},get name(){return t.name()},get value(){return n.value()},get checked(){return n.checked()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readonly(){return t.isReadOnly()},get style(){return{...pr,...r.style}},get"aria-label"(){return s.ariaLabel()},get"aria-labelledby"(){return s.ariaLabelledBy()},get"aria-describedby"(){return s.ariaDescribedBy()},get"aria-invalid"(){return t.validationState()==="invalid"||void 0},get"aria-required"(){return t.isRequired()||void 0},get"aria-disabled"(){return t.isDisabled()||void 0},get"aria-readonly"(){return t.isReadOnly()||void 0}},()=>t.dataset(),()=>n.dataset(),o),!1,!1),u})()}function Rh(e){const t=Ar();return h(Gi,F(()=>t.dataset(),e))}function Fh(e){let t;const n=`switch-${ve()}`;e=U({value:"on",id:n},e);const[r,i,o]=H(e,["ref","children","value","checked","defaultChecked","onChange","onPointerDown"],vr),[s,a]=I(),[l,c]=I(!1),{formControlContext:u}=yr(i),d=Pa({isSelected:()=>r.checked,defaultIsSelected:()=>r.defaultChecked,onSelectedChange:p=>r.onChange?.(p),isDisabled:()=>u.isDisabled(),isReadOnly:()=>u.isReadOnly()});br(()=>t,()=>d.setIsSelected(r.defaultChecked??!1));const f=p=>{K(p,r.onPointerDown),l()&&p.preventDefault()},m=S(()=>({"data-checked":d.isSelected()?"":void 0})),g={value:()=>r.value,dataset:m,checked:()=>d.isSelected(),inputRef:s,generateId:Me(()=>E(i.id)),toggle:()=>d.toggle(),setIsChecked:p=>d.setIsSelected(p),setIsFocused:c,setInputRef:a};return h(Pn.Provider,{value:u,get children(){return h(jl.Provider,{value:g,get children(){return h(Z,F({as:"div",ref(p){var b=ae(y=>t=y,r.ref);typeof b=="function"&&b(p)},role:"group",get id(){return E(i.id)},onPointerDown:f},()=>u.dataset(),m,o,{get children(){return h(Bh,{state:g,get children(){return r.children}})}}))}})}})}function Bh(e){const t=Ot(()=>{const n=e.children;return Zt(n)?n(e.state):n});return S(t)}function $h(e){const t=tt(),n=Ar();return e=U({id:n.generateId("thumb")},e),h(Z,F({as:"div"},()=>t.dataset(),()=>n.dataset(),e))}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/tree/main/packages/%40react-aria/toast/intl
 */const J="{hotkey}",Wl={"ar-AE":{close:"إغلاق",notifications:`(${J}) إشعارات`},"bg-BG":{close:"Затвори",notifications:`Известия (${J})`},"cs-CZ":{close:"Zavřít",notifications:`Upozornění (${J})`},"da-DK":{close:"Luk",notifications:`Påmindelser (${J})`},"de-DE":{close:"Schließen",notifications:`Benachrichtigungen (${J})`},"el-GR":{close:"Κλείσιμο",notifications:`Ειδοποιήσεις (${J})`},"en-US":{close:"Close",notifications:`Notifications (${J})`},"es-ES":{close:"Cerrar",notifications:`Notificaciones (${J})`},"et-EE":{close:"Sule",notifications:`Teated (${J})`},"fi-FI":{close:"Sulje",notifications:`Ilmoitukset (${J})`},"fr-FR":{close:"Fermer",notifications:`Notifications (${J})`},"he-IL":{close:"סגור",notifications:`(${J}) התראות`},"hr-HR":{close:"Zatvori",notifications:`Obavijesti (${J})`},"hu-HU":{close:"Bezárás",notifications:`Értesítések (${J})`},"it-IT":{close:"Chiudi",notifications:`Notifiche (${J})`},"ja-JP":{close:"閉じる",notifications:`通知 (${J})`},"ko-KR":{close:"닫기",notifications:`알림 (${J})`},"lt-LT":{close:"Uždaryti",notifications:`Pranešimai (${J})`},"lv-LV":{close:"Aizvērt",notifications:`Paziņojumi (${J})`},"nb-NO":{close:"Lukk",notifications:`Varsler (${J})`},"nl-NL":{close:"Sluiten",notifications:`Meldingen (${J})`},"pl-PL":{close:"Zamknij",notifications:`Powiadomienia (${J})`},"pt-BR":{close:"Fechar",notifications:`Notificações (${J})`},"pt-PT":{close:"Fechar",notifications:`Notificações (${J})`},"ro-RO":{close:"Închideţi",notifications:`Notificări (${J})`},"ru-RU":{close:"Закрыть",notifications:`Уведомления (${J})`},"sk-SK":{close:"Zatvoriť",notifications:`Oznámenia (${J})`},"sl-SI":{close:"Zapri",notifications:`Obvestila (${J})`},"sr-SP":{close:"Zatvori",notifications:`Obaveštenja (${J})`},"sv-SE":{close:"Stäng",notifications:`Aviseringar (${J})`},"tr-TR":{close:"Kapat",notifications:`Bildirimler (${J})`},"uk-UA":{close:"Закрити",notifications:`Сповіщення (${J})`},"zh-CN":{close:"关闭",notifications:`通知 (${J})`},"zh-TW":{close:"關閉",notifications:`通知 (${J})`}},Xl=ue();function Dr(){const e=ne(Xl);if(e===void 0)throw new Error("[kobalte]: `useToastContext` must be used within a `Toast.Root` component");return e}function Nh(e){const t=Dr(),[n,r]=H(e,["aria-label","onClick"]),i=ji(()=>Wl);return h(en,F({get"aria-label"(){return n["aria-label"]||i().format("close")},onClick:s=>{K(s,n.onClick),t.close()}},r))}function Hh(e){const t=Dr();e=U({id:t.generateId("description")},e);const[n,r]=H(e,["id"]);return R(()=>$(t.registerDescriptionId(n.id))),h(Z,F({as:"div",get id(){return n.id}},r))}const Jl=ue();function no(){const e=ne(Jl);if(e===void 0)throw new Error("[kobalte]: `useToastRegionContext` must be used within a `Toast.Region` component");return e}var Kh=A("<ol tabindex=-1>");function Vh(e){let t;const n=no(),[r,i]=H(e,["ref","onFocusIn","onFocusOut","onPointerMove","onPointerLeave"]),o=c=>{K(c,r.onFocusIn),n.pauseOnInteraction()&&!n.isPaused()&&n.pauseAllTimer()},s=c=>{K(c,r.onFocusOut),Re(t,c.relatedTarget)||n.resumeAllTimer()},a=c=>{K(c,r.onPointerMove),n.pauseOnInteraction()&&!n.isPaused()&&n.pauseAllTimer()},l=c=>{K(c,r.onPointerLeave),Re(t,Be(t).activeElement)||n.resumeAllTimer()};return R(Pe([()=>t,()=>n.hotkey()],([c,u])=>{if(!c)return;const d=Be(c),f=m=>{u.every(p=>m[p]||m.code===p)&&pe(c)};d.addEventListener("keydown",f),$(()=>d.removeEventListener("keydown",f))})),R(()=>{if(!n.pauseOnPageIdle())return;const c=ga(t);c.addEventListener("blur",n.pauseAllTimer),c.addEventListener("focus",n.resumeAllTimer),$(()=>{c.removeEventListener("blur",n.pauseAllTimer),c.removeEventListener("focus",n.resumeAllTimer)})}),(()=>{var c=Kh();c.addEventListener("pointerleave",l),c.$$pointermove=a,c.$$focusout=s,c.$$focusin=o;var u=ae(d=>t=d,r.ref);return typeof u=="function"&&Ae(u,c),re(c,i,!1,!0),D(c,h(zt,{get each(){return n.toasts()},children:d=>d.toastComponent({get toastId(){return d.id}})})),c})()}$e(["focusin","focusout","pointermove"]);function Uh(e){const t=no(),n=Dr(),[r,i]=H(e,["style"]),[o,s]=I(100);let a=0;return R(()=>{if(t.isPaused()||n.isPersistent())return;const l=setInterval(()=>{const c=new Date().getTime()-n.closeTimerStartTime()+a,u=Math.trunc(100-c/n.duration()*100);s(u<0?0:u)});$(()=>{a+=new Date().getTime()-n.closeTimerStartTime(),clearInterval(l)})}),h(Z,F({as:"div",get style(){return{"--kb-toast-progress-fill-width":`${o()}%`,...r.style}}},i))}function Gh(e){return h(Z,F({as:"div","aria-hidden":"true",role:"presentation"},e))}var qh=A("<div role=region tabindex=-1>");function zh(e){const t=`toast-region-${ve()}`;e=U({id:t,hotkey:["altKey","KeyT"],duration:5e3,limit:3,swipeDirection:"right",swipeThreshold:50,pauseOnInteraction:!0,pauseOnPageIdle:!0,topLayer:!0},e);const[n,r]=H(e,["style","hotkey","duration","limit","swipeDirection","swipeThreshold","pauseOnInteraction","pauseOnPageIdle","topLayer","aria-label","regionId"]),i=S(()=>At.toasts().filter(m=>m.region===n.regionId).slice(0,n.limit)),[o,s]=I(!1),a=ji(()=>Wl),l=()=>i().length>0,c=()=>n.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,""),u=()=>(n["aria-label"]||a().format("notifications",{hotkey:c()})).replace(J,c()),d=()=>({[mn]:n.topLayer?"":void 0}),f={isPaused:o,toasts:i,hotkey:()=>n.hotkey,duration:()=>n.duration,swipeDirection:()=>n.swipeDirection,swipeThreshold:()=>n.swipeThreshold,pauseOnInteraction:()=>n.pauseOnInteraction,pauseOnPageIdle:()=>n.pauseOnPageIdle,pauseAllTimer:()=>s(!0),resumeAllTimer:()=>s(!1),generateId:Me(()=>r.id)};return h(Jl.Provider,{value:f,get children(){var m=qh();return re(m,F({get"aria-label"(){return u()},get style(){return{"pointer-events":l()?n.topLayer?"auto":void 0:"none",...n.style}}},d,r),!1,!1),m}})}var jh=A("<li role=status tabindex=0 aria-atomic=true>");const Wh="toast.swipeStart",Xh="toast.swipeMove",Jh="toast.swipeCancel",Yh="toast.swipeEnd";function Zh(e){const t=`toast-${ve()}`,n=no();e=U({id:t,priority:"high"},e);const[r,i]=H(e,["ref","toastId","style","priority","duration","persistent","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd","onEscapeKeyDown","onKeyDown","onPointerDown","onPointerMove","onPointerUp"]),[o,s]=I(!0),[a,l]=I(),[c,u]=I(),[d,f]=I(!0),m=Pt(o),g=S(()=>r.duration||n.duration());let p,b=0,y=g(),v=null,_=null;const w=()=>{s(!1),f(!0)},P=()=>{At.remove(r.toastId)},x=C=>{!C||r.persistent||(window.clearTimeout(p),b=new Date().getTime(),p=window.setTimeout(w,C))},L=()=>{x(y),r.onResume?.()},O=()=>{const C=new Date().getTime()-b;y=y-C,window.clearTimeout(p),r.onPause?.()},T=C=>{K(C,r.onKeyDown),C.key==="Escape"&&(r.onEscapeKeyDown?.(C),C.defaultPrevented||w())},M=C=>{K(C,r.onPointerDown),C.button===0&&(v={x:C.clientX,y:C.clientY})},k=C=>{if(K(C,r.onPointerMove),!v)return;const B=C.clientX-v.x,q=C.clientY-v.y,X=!!_,he=["left","right"].includes(n.swipeDirection()),ge=["left","up"].includes(n.swipeDirection())?Math.min:Math.max,_e=he?ge(0,B):0,nt=he?0:ge(0,q),qe=C.pointerType==="touch"?10:2,Oe={x:_e,y:nt},z={originalEvent:C,delta:Oe};if(X){_=Oe,Hn(Xh,r.onSwipeMove,z);const{x:Ee,y:G}=Oe;C.currentTarget.setAttribute("data-swipe","move"),C.currentTarget.style.setProperty("--kb-toast-swipe-move-x",`${Ee}px`),C.currentTarget.style.setProperty("--kb-toast-swipe-move-y",`${G}px`)}else fs(Oe,n.swipeDirection(),qe)?(_=Oe,Hn(Wh,r.onSwipeStart,z),C.currentTarget.setAttribute("data-swipe","start"),C.target.setPointerCapture(C.pointerId)):(Math.abs(B)>qe||Math.abs(q)>qe)&&(v=null)},V=C=>{K(C,r.onPointerUp);const B=_,q=C.target;if(q.hasPointerCapture(C.pointerId)&&q.releasePointerCapture(C.pointerId),_=null,v=null,B){const X=C.currentTarget,he={originalEvent:C,delta:B};if(fs(B,n.swipeDirection(),n.swipeThreshold())){Hn(Yh,r.onSwipeEnd,he);const{x:ge,y:_e}=B;C.currentTarget.setAttribute("data-swipe","end"),C.currentTarget.style.removeProperty("--kb-toast-swipe-move-x"),C.currentTarget.style.removeProperty("--kb-toast-swipe-move-y"),C.currentTarget.style.setProperty("--kb-toast-swipe-end-x",`${ge}px`),C.currentTarget.style.setProperty("--kb-toast-swipe-end-y",`${_e}px`),w()}else Hn(Jh,r.onSwipeCancel,he),C.currentTarget.setAttribute("data-swipe","cancel"),C.currentTarget.style.removeProperty("--kb-toast-swipe-move-x"),C.currentTarget.style.removeProperty("--kb-toast-swipe-move-y"),C.currentTarget.style.removeProperty("--kb-toast-swipe-end-x"),C.currentTarget.style.removeProperty("--kb-toast-swipe-end-y");X.addEventListener("click",ge=>ge.preventDefault(),{once:!0})}};Mt(()=>{n.toasts().find(C=>C.id===r.toastId&&C.update)&&f(!1)}),R(Pe(()=>n.isPaused(),C=>{C?O():L()},{defer:!0})),R(Pe([o,g],([C,B])=>{C&&!n.isPaused()&&x(B)})),R(Pe(()=>At.get(r.toastId)?.dismiss,C=>C&&w())),R(Pe(()=>m.isPresent(),C=>!C&&P()));const W={close:w,duration:g,isPersistent:()=>r.persistent??!1,closeTimerStartTime:()=>b,generateId:Me(()=>i.id),registerTitleId:fe(l),registerDescriptionId:fe(u)};return h(Te,{get when(){return m.isPresent()},get children(){return h(Xl.Provider,{value:W,get children(){var C=jh();C.$$pointerup=V,C.$$pointermove=k,C.$$pointerdown=M,C.$$keydown=T;var B=ae(m.setRef,r.ref);return typeof B=="function"&&Ae(B,C),re(C,F({get style(){return{animation:d()?void 0:"none","user-select":"none","touch-action":"none",...r.style}},get"aria-live"(){return r.priority==="high"?"assertive":"polite"},get"aria-labelledby"(){return a()},get"aria-describedby"(){return c()},get"data-opened"(){return o()?"":void 0},get"data-closed"(){return o()?void 0:""},get"data-swipe-direction"(){return n.swipeDirection()}},i),!1,!1),C}})}})}function fs(e,t,n=0){const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n}function Hn(e,t,n){const r=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(i)}$e(["keydown","pointerdown","pointermove","pointerup"]);function Qh(e){const t=Dr();e=U({id:t.generateId("title")},e);const[n,r]=H(e,["id"]);return R(()=>$(t.registerTitleId(n.id))),h(Z,F({as:"div",get id(){return n.id}},r))}function e1(e){const[t,n]=H(e,["children","pressed","defaultPressed","onChange","onClick"]),r=Pa({isSelected:()=>t.pressed,defaultIsSelected:()=>t.defaultPressed,onSelectedChange:o=>t.onChange?.(o),isDisabled:()=>n.disabled});return h(en,F({get"aria-pressed"(){return r.isSelected()},get"data-pressed"(){return r.isSelected()?"":void 0},onClick:o=>{K(o,t.onClick),r.toggle()}},n,{get children(){return h(t1,{get state(){return{pressed:r.isSelected}},get children(){return t.children}})}}))}function t1(e){const t=Ot(()=>{const n=e.children;return Zt(n)?n(e.state):n});return S(t)}var n1=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M14 19V5h4v14zm-8 0V5h4v14z">');const r1=e=>(()=>{var t=n1();return re(t,e,!0,!0),t})();var i1=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M8 19V5l11 7z">');const o1=e=>(()=>{var t=i1();return re(t,e,!0,!0),t})();var s1=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M10.6 16q0-2.025.363-2.912T12.5 11.15q1.025-.9 1.563-1.562t.537-1.513q0-1.025-.687-1.7T12 5.7q-1.275 0-1.937.775T9.125 8.05L6.55 6.95q.525-1.6 1.925-2.775T12 3q2.625 0 4.038 1.463t1.412 3.512q0 1.25-.537 2.138t-1.688 2.012Q14 13.3 13.738 13.913T13.475 16zm1.4 6q-.825 0-1.412-.587T10 20q0-.825.588-1.412T12 18q.825 0 1.413.588T14 20q0 .825-.587 1.413T12 22">');const a1=e=>(()=>{var t=s1();return re(t,e,!0,!0),t})();var l1=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="m7 22l-4-4l4-4l1.4 1.45L6.85 17H17v-4h2v6H6.85l1.55 1.55zM5 11V5h12.15L15.6 3.45L17 2l4 4l-4 4l-1.4-1.45L17.15 7H7v4z">');const c1=e=>(()=>{var t=l1();return re(t,e,!0,!0),t})();var u1=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M2 18V6h2v12zm14 0l-1.425-1.4l3.6-3.6H6v-2h12.175L14.6 7.4L16 6l6 6z">');const d1=e=>(()=>{var t=u1();return re(t,e,!0,!0),t})(),f1=`#version 300 es
precision lowp float;
precision lowp int;

uniform mat4 u_matrix;
uniform float u_radius;

layout(location = 0) in vec2 offset;
layout(location = 1) in vec4 color;

// Input vertex position from the vertex buffer
in vec2 rect_corner;

out vec2 pos;
out vec2 uv;
out vec4 b_color;

void main() {
    gl_Position = u_matrix * vec4(((rect_corner - vec2(0.5, 0.5)) * 2.0 * u_radius) + offset, 0.0, 1.0);
    pos = ((rect_corner - vec2(0.5, 0.5)) * 2.0 * u_radius);
    uv = rect_corner;
    b_color = color;
}`,h1=`#version 300 es
precision lowp float;
precision lowp int;

uniform sampler2D diffuse;
uniform float u_radius;
uniform vec4 grid_color;
uniform vec4 grid_fill;
uniform float u_scale;

uniform vec2 u_imageSize;

in vec2 pos;
in vec2 uv;
in vec4 b_color;
out vec4 color;

vec4 alphaBlend(vec4 source, vec4 destination) {
    // Calculate the blended color.
    vec3 blendedColor = source.a * source.rgb + (1.0 - source.a) * destination.rgb;
    // Determine the alpha of the resulting color.
    // This line assumes the destination is opaque; modify if destination can be transparent.
    float alpha = source.a + (1.0 - source.a) * destination.a;
    // Return the blended color as a vec4.
    return vec4(blendedColor, alpha);
}

void main()
{
    //float scale = u_radius / 20.0;
    float dist = distance(pos, vec2(0, 0));
    float edge_width = 4.0 / u_scale;

    float radius_value = u_radius * 2.0 * 0.4;
    float r0 = radius_value + edge_width / 2.0;
    float r1 = radius_value;
    float r2 = radius_value - edge_width / 2.0;

    float res_alpha = smoothstep(r0, r1, dist);

    if(dist > r0) {
        discard;
    }else{
        vec4 white = vec4(1.0, 1.0, 1.0, 1.0);
        vec4 bg = alphaBlend(grid_fill, white);

        float circle_alpha = grid_color.a ;
        circle_alpha = smoothstep(r2, r1, dist) * smoothstep(r0, r1, dist) * circle_alpha;

        bg = alphaBlend(vec4(grid_color.rgb, circle_alpha), bg);
        vec4 image_color = alphaBlend(texture(diffuse, uv) * vec4(1.0, 1.0, 1.0, b_color.a), bg);
        vec4 blended_color = image_color * b_color;
        color = mix(bg, alphaBlend(blended_color, image_color), res_alpha);
        // using alpha here is being weird? rgba(1.0,1.0,1.0,0.5) makes shadows from other windows
        // and screen darkening from cmd shift 4 not work on that region
    }
}`,g1="/app-dev/assets/tap_icon-CMp2WEtS.png",Mn=document.createElement("img");Mn.src=g1;let Ir=!1;Mn.onload=()=>Ir=!0;const eb=new Promise(e=>Ir?e():Mn.addEventListener("load",()=>e()));var m1=A('<div class="h-full relative">');function hs(e,t,n){const r=e.createShader(n);if(r==null)throw new Error("shader null");e.shaderSource(r,t),e.compileShader(r);const i=e.getShaderInfoLog(r);if(i)throw console.log(i),new Error("vs error");return r}function p1(e,t,n){const r=e.createProgram();if(r==null)throw new Error("program null");const i=hs(e,t,e.VERTEX_SHADER),o=hs(e,n,e.FRAGMENT_SHADER);e.attachShader(r,i),e.deleteShader(i),e.attachShader(r,o),e.deleteShader(o),e.linkProgram(r);const s=e.getProgramInfoLog(r);return s&&console.log(s),r}class b1{constructor(t,n){this.ctx=t,this.gl_canvas=n,n.addEventListener("contextlost",r=>{r.preventDefault(),console.log("/","lost context with notification"),this.handleContextLost()}),n.addEventListener("contextrestored",()=>{this._context_available=!0,console.log("/","restored context")}),this.gl=this.gl_canvas.getContext("webgl2")}handleContextLost(){this._context_available=!1,console.log("/","lost context"),this._tapper_program=null,this._tapper_texture_active=null}_context_available=!0;_tapper_program=null;_tapper_texture_active=null;activateTapperTexture(){if(!this._context_available)return null;if(this.gl.isContextLost())return this.handleContextLost(),null;if(this._tapper_texture_active!=null)return this._tapper_texture_active;if(!Ir)return null;const t=this.gl,n=t.createTexture();return t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,Mn),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this._tapper_texture_active=0}getTapperProgram(){if(!this._context_available)return null;if(this.gl.isContextLost())return this.handleContextLost(),null;if(this._tapper_program!=null)return this._tapper_program;const t=this.gl,n=p1(t,f1,h1);return this._tapper_program={program:n,uniforms:{diffuse_sampler2d:t.getUniformLocation(n,"diffuse"),matrix_mat3:t.getUniformLocation(n,"u_matrix"),radius_float:t.getUniformLocation(n,"u_radius"),grid_color_vec4:t.getUniformLocation(n,"grid_color"),grid_fill_vec4:t.getUniformLocation(n,"grid_fill"),scale_float:t.getUniformLocation(n,"u_scale")},attributes:{rect_corner_vec2:t.getAttribLocation(n,"rect_corner")},instance_attributes:{vertex_offset_vec2:0,vertex_color_vec4:1}}}roundRect(t,n,r,i,o){r<2*o&&(o=r/2),i<2*o&&(o=i/2),this.beginPath(),this.moveTo(t+o,n),this.arcTo(t+r,n,t+r,n+i,o),this.arcTo(t+r,n+i,t,n+i,o),this.arcTo(t,n+i,t,n,o),this.arcTo(t,n,t+r,n,o),this.closePath()}drawRoundedRects(t,n){this.ctx.save(),this.ctx.fillStyle=t.fillStyle,this.ctx.strokeStyle=t.strokeStyle,this.ctx.lineWidth=t.lineWidth,this.ctx.beginPath();for(const{pos:r,size:i}of n)this.ctx.roundRect(r[0],r[1],i[0],i[1],t.borderRadius);this.ctx.fill(),this.ctx.stroke(),this.ctx.restore()}set fillStyle(t){this.ctx.fillStyle=t}set strokeStyle(t){this.ctx.strokeStyle=t}set lineWidth(t){this.ctx.lineWidth=t}set globalAlpha(t){this.ctx.globalAlpha=t}set globalCompositeOperation(t){this.ctx.globalCompositeOperation=t}set filter(t){this.ctx.filter=t}beginPath(){this.ctx.beginPath()}stroke(){this.ctx.stroke()}fill(){this.ctx.fill()}clip(){this.ctx.clip()}closePath(){this.ctx.closePath()}fillRect(t,n,r,i){this.ctx.fillRect(t,n,r,i)}drawImage(t,n,r,i,o){this.ctx.drawImage(t,n,r,i,o)}moveTo(t,n){this.ctx.moveTo(t,n)}lineTo(t,n){this.ctx.lineTo(t,n)}arc(t,n,r,i,o,s){this.ctx.arc(t,n,r,i,o,s)}arcTo(t,n,r,i,o){this.ctx.arcTo(t,n,r,i,o)}createRadialGradient(t,n,r,i,o,s){return this.ctx.createRadialGradient(t,n,r,i,o,s)}save(){this.ctx.save()}restore(){this.ctx.restore()}getTransform(){return this.ctx.getTransform()}setTransform(t){this.ctx.setTransform(t)}clearRect(t,n,r,i){this.ctx.clearRect(t,n,r,i)}scale(t,n){this.setTransform(this.getTransform().scale(t,n))}transform(t){this.setTransform(this.getTransform().multiply(t))}}function v1(e,t,n,r){const i=document.createElement("canvas");i.style.width="100%",i.style.height="100%",i.style.objectPosition="top left";const o=document.createElement("canvas");o.style.position="absolute",o.style.inset="0",o.style.width="100%",o.style.height="100%",o.style.pointerEvents="none";const s=document.createElement("div");s.tabIndex=0,i.appendChild(s),e.appendChild(i),e.appendChild(o),$(()=>{i.remove()});let a=!1;$(()=>{a=!0});const l=k=>{};let c=null,u=null,d=null;const f=k=>{if(a)return;if(c!=null){u=null;return}const V=Kn(x,k);u=V,L.onmove(V)},m=()=>{a||(u=null)},g=k=>ot(V=>{if(a)return;k.preventDefault();const C=(d??L.onclick)(Kn(x,k),x),B=X=>{a||C.onmove(Kn(x,X))},q=X=>{a||(C.onrelease(Kn(x,X)),V(),x.setstate())};document.addEventListener("mousemove",B,{capture:!0}),$(()=>document.removeEventListener("mousemove",B,{capture:!0})),document.addEventListener("mouseup",q,{once:!0,capture:!0}),$(()=>document.removeEventListener("mouseup",q,{capture:!0})),c!=null&&(c(k),c=null),c=q,$(()=>{c===q&&(c=null)}),x.setstate()}),p=k=>{if(!a)return k.preventDefault(),!1};i.addEventListener("pointerdown",l),$(()=>i.removeEventListener("pointerdown",l)),i.addEventListener("mousedown",g),$(()=>i.removeEventListener("mousedown",g)),i.addEventListener("mousemove",f),$(()=>i.removeEventListener("mousemove",f)),i.addEventListener("mouseleave",m),$(()=>i.removeEventListener("mouseexit",m)),i.addEventListener("contextmenu",p,{passive:!1}),$(()=>i.removeEventListener("contextmenu",p));const b=i.getContext("2d"),y=o;if(b==null)throw new Error("missing canvas or webgl2 support");const v=new b1(b,y);let _=!0;$(()=>_=!1);let w=null;$(()=>{w?.()}),window.addEventListener("focus",()=>{w?.(),P()});function P(){if(w!=null||!_)return;{const _e=requestAnimationFrame(()=>{w=null,P()});w=()=>{cancelAnimationFrame(_e),w=null}}v.save();const k=i.clientWidth,V=i.clientHeight;x.canvas_w=k,x.canvas_h=V;let W=window.devicePixelRatio;const C=k*W*V*W,B=1920*1080;if(C>B){const _e=B/C;W*=Math.sqrt(_e)}const q=Math.round(k*W),X=Math.round(V*W);i.width!==q&&(i.width=q),i.width!==X&&(i.height=X),y.width!==q&&(y.width=q),y.width!==X&&(y.height=X),v.scale(W,W);const he=v,ge=v.gl;ge.viewport(0,0,he.gl_canvas.width,he.gl_canvas.height),ge.clearColor(0,0,0,0),ge.clear(ge.COLOR_BUFFER_BIT),T(),v.restore()}const x={ctx:v,canvas:i,setstate:n,el:s,canvas_w:0,canvas_h:0},L=r(x,oe(()=>t()));let O=0;const T=()=>{const k={mouse:{pos:u??void 0,captured:!!c},rh:v,ctx:v.ctx,frame_index:O++};L.render(k),k.mouse.action!=null?(i.style.cursor=k.mouse.action.cursor,d=k.mouse.action.callback):(c==null?i.style.cursor="":i.style.cursor==="grab"&&(i.style.cursor="grabbing"),d=null)};"requestIdleCallback"in window||(window.requestIdleCallback=k=>(k({didTimeout:!1,timeRemaining:()=>0}),0),window.cancelIdleCallback=()=>{});let M;new ResizeObserver(k=>{k.forEach(V=>{V.target===i&&(M!=null&&cancelIdleCallback(M),M=requestIdleCallback(()=>{P()},{timeout:500}))})}).observe(i),P()}function Kn(e,t){const n=e.canvas.getBoundingClientRect();return[t.clientX-n.left,t.clientY-n.top]}function gs(e,t){var n=t.x*e.a+t.y*e.c+0,r=t.x*e.b+t.y*e.d+0;return{x:n,y:r}}function y1(e){var t=gs(e,{x:0,y:1}),n=gs(e,{x:1,y:0}),r=180/Math.PI*Math.atan2(t.y,t.x)-90,i=180/Math.PI*Math.atan2(n.y,n.x);return{translateX:e.e,translateY:e.f,scaleX:Math.sqrt(e.a*e.a+e.b*e.b),scaleY:Math.sqrt(e.c*e.c+e.d*e.d),skewX:r,skewY:i,rotation:r}}function ms(e){const n=e.canvas.getBoundingClientRect();return{target_rect:[[0,0],[n.width,n.height]]}}function _1(e){return(()=>{var t=m1();return Ae(n=>v1(n,()=>e.state,e.setState,e.renderChild),t),t})()}var w1=A("<div><div></div><div>");function ps(e,t,n,r,i){const o=e.getBoundingClientRect();t.setAttribute("class","hidden"),n.setAttribute("class","contents");const s=e.getBoundingClientRect(),a=o.width!==s.width,l=o.height!==s.height;let c=r?t:n,u=r?o.width:s.width,d=r?o.height:s.height,f=r?n:t;e.setAttribute("class","overflow-clip"),f.setAttribute("class","hidden"),c.setAttribute("class","block w-full h-full"),c.style.width=a?u+"px":"",c.style.height=l?d+"px":"";const m=e.animate([{...a?{width:o.width+"px"}:{},...l?{height:o.height+"px"}:{}},{...a?{width:s.width+"px"}:{},...l?{height:s.height+"px"}:{}}],{duration:200,easing:r?"ease-in":"ease-out"});return m.onfinish=()=>{e.setAttribute("class",""),c.style.width="",c.style.height="",t.setAttribute("class","hidden"),n.setAttribute("class","contents"),i?.()},{cancel:()=>m.cancel()}}const x1=1e3;function Ai(e){const t=Date.now();let n,r,i,o=null,[s,a]=I(!1),[l,c]=I(!1),u=e.if;return R(()=>{if(e.if===u)return;u=e.if,o!=null&&(o.cancel(),o=null),ea(()=>{a(!1),c(!1)}),Date.now()-t<x1?u?(i.setAttribute("class","contents"),r.setAttribute("class","hidden")):(i.setAttribute("class","hidden"),r.setAttribute("class","contents")):requestAnimationFrame(()=>{u?o=ps(n,r,i,!1,()=>a(!0)):o=ps(n,i,r,!0,()=>c(!0))})}),(()=>{var d=w1(),f=d.firstChild,m=f.nextSibling,g=n;typeof g=="function"?Ae(g,d):n=d;var p=r;typeof p=="function"?Ae(p,f):r=f,se(f,u?"hidden":"contents"),D(f,()=>s()?null:e.fallback);var b=i;return typeof b=="function"?Ae(b,m):i=m,se(m,u?"contents":"hidden"),D(m,()=>l()?null:e.children),j(()=>se(d,"block "+(e.class??""))),d})()}var S1=A("<span>");function je(e){return(()=>{var t=S1();return D(t,()=>e.tag),j(n=>{var r="material-symbols-outlined "+e.class,i=e.label;return r!==n.e&&se(t,n.e=r),i!==n.t&&Ve(t,"title",n.t=i),n},{e:void 0,t:void 0}),t})()}var E1=A('<div class="flex items-start w-full p-4 pb-2"><div>'),T1=A("<div class=h-2>");let Jr=[];function Yt(e,t,n={}){if(Jr.length>=3){const i=Jr.shift();ns.dismiss(i)}const r=n.display==="error";Jr.push(ns.show(i=>h(Zh,{get toastId(){return i.toastId},get class(){return"toast-anim w-full flex flex-col items-center justify-between pointer-events-all rounded-xl overflow-hidden border-2 text-[#272727] "+(n.display==="error"?"bg-[#FCEEEE] !border-red-600 !shadow-red-600 ":"bg-ui-bg-0 !border-ui-bg-900 !shadow-ui-bg-900 ")+Mr},persistent:r,get children(){return[(()=>{var o=E1(),s=o.firstChild;return D(s,h(Qh,{get class(){return"pb-2 flex items-center gap-2 "+(n.display==="error"?"text-red-600":"text-black")},get children(){return[S(()=>S(()=>n.display==="error")()?h(je,{class:"text-xl",tag:"error",label:"Error"}):h(je,{class:"text-xl",tag:"info",label:"Info"}))," ",e]}}),null),D(s,h(Hh,{class:"toast__description",children:t}),null),D(o,h(Nh,{class:"shrink-0 ml-auto",get children(){return h(je,{class:"text-xl",label:"Close",tag:"close"})}}),null),o})(),S(()=>r?T1():h(Gh,{class:"mt-2 h-1 w-full",get children(){return h(Uh,{class:"transform origin-left scale-x-[var(--kb-toast-progress-fill-width)] w-full h-full transition-all duration-50 bg-ui-hl-500"})}}))]}})))}function De(e){console.log("/","error",e),Yt("Error Detected",e.toString(),{display:"error"})}const C1="modulepreload",P1=function(e){return"/app-dev/"+e},bs={},we=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link");i=Promise.all(n.map(s=>{if(s=P1(s),s in bs)return;bs[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===s&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":C1,a||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),a)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})}))}return i.then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})},Di=Object.assign({"./default_shapesets/objd_default.tapset.json":()=>we(()=>import("./objd_default.tapset-7UogHLDu.js"),__vite__mapDeps([])),"./default_shapesets/objd_simplified.tapset.json":()=>we(()=>import("./objd_simplified.tapset-aYTBEwus.js"),__vite__mapDeps([])),"./default_shapesets/other_testing.tapset.json":()=>we(()=>import("./other_testing.tapset-SwJleUow.js"),__vite__mapDeps([])),"./default_shapesets/text_caps.tapset.json":()=>we(()=>import("./text_caps.tapset-pj0WFwf2.js"),__vite__mapDeps([])),"./default_shapesets/text_graffiti.tapset.json":()=>we(()=>import("./text_graffiti.tapset-KY95p9mf.js"),__vite__mapDeps([])),"./default_shapesets/text_spaciotemporal.tapset.json":()=>we(()=>import("./text_spaciotemporal.tapset-BrwX6TaK.js"),__vite__mapDeps([]))}),cr=new Map;async function A1(e){const t=await D1(e);return cr.set(e,{stage:"loaded",value:t}),t}async function D1(e){if(Object.hasOwn(Di,e)){const t=Di[e];return JSON.parse(JSON.stringify(await t()))}else{if(Object.hasOwn(io,e))return JSON.parse(localStorage.getItem(e)??'{"shapes":{}}');throw new Error("Missing shapeset: "+e)}}function tb(e){const t=cr.get(e);return t==null?(cr.set(e,{stage:"loading"}),A1(e).catch(De),null):t.stage==="loading"?null:t.value}async function I1(e,t){const n=yt(e);if(n.from==="local"||n.from==="import")localStorage.setItem(e,JSON.stringify(t)),cr.clear();else throw new Error("Cannot save to shapeset: "+n.from)}function ro(){return JSON.parse(localStorage.getItem("tt-shapesets")??"{}")}function Yl(e){io=e,localStorage.setItem("tt-shapesets",JSON.stringify(e)),L1(Zl())}async function vs(e,t,n={imported:!1}){const r=ro(),i="tt-shapeset"+(n.imported?"-imported":"")+":"+e+":"+crypto.randomUUID()+":"+t;return r[i]={name:t},Yl(r),i}async function nb(e){const t=ro();if(Object.hasOwn(t,e))delete t[e];else throw new Error("cannot delete shapeset that is already deleted");localStorage.removeItem(e),Yl(t)}function yt(e){if(e.startsWith("tt-shapeset:")||e.startsWith("tt-shapeset-imported:")){let[t,n,r,...i]=e.split(":");return n??="other",{name:i.join(":"),tag:n,from:t==="tt-shapeset-imported"?"import":"local"}}else if(e.startsWith("./default_shapesets/")){let t=e.replace(/^\.\/default_shapesets\/(.+)\.tapset\.json$/,"$1");const n=t.split("_");let r=n.shift()??"other";return t=n.join(" "),t=t.replaceAll(/\b([a-z])/g,(i,o)=>o.toUpperCase()),{name:t,tag:r,from:"sample"}}else return{name:e,tag:"error",from:"error"}}function M1(e){return e==="objd"?"Object Detection":e==="text"?"Text":e.replaceAll(/\b([a-z])/g,(t,n)=>n.toUpperCase())}function rb(e,t){const n=Object.keys(t.shapes).sort();return e==="objd"?[...new Set([...Object.keys(F1).map(r=>"obj_"+r),...n])]:e==="text"?[...new Set([...k1,...n])]:n.length===0?["Default"]:n}function Zl(){return[...Object.keys(Di),...Object.keys(io)]}let io=ro();const[O1,L1]=I(Zl()),k1=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZ","Space"],R1={airplane:"Airplane",apple:"Apple",backpack:"Backpack",banana:"Banana","baseball bat":"Baseball Bat","baseball glove":"Baseball Glove",bear:"Bear",bed:"Bed",bench:"Bench",bicycle:"Bicycle",bird:"Bird",boat:"Boat",book:"Book",bottle:"Bottle",bowl:"Bowl",broccoli:"Broccoli",bus:"Bus",cake:"Cake",car:"Car",carrot:"Carrot",cat:"Cat","cell phone":"Cell Phone",chair:"Chair",clock:"Clock",couch:"Couch",cow:"Cow",cup:"Cup","dining table":"Dining Table",dog:"Dog",donut:"Donut",elephant:"Elephant","fire hydrant":"Fire Hydrant",fork:"Fork",frisbee:"Frisbee",giraffe:"Giraffe","hair drier":"Hair Drier",handbag:"Handbag",horse:"Horse","hot dog":"Hot Dog",keyboard:"Keyboard",kite:"Kite",knife:"Knife",laptop:"Laptop",microwave:"Microwave",motorcycle:"Motorcycle",mouse:"Mouse",orange:"Orange",oven:"Oven","parking meter":"Parking Meter",person:"Person",pizza:"Pizza","potted plant":"Potted Plant",refrigerator:"Refrigerator",remote:"Remote",sandwich:"Sandwich",scissors:"Scissors",sheep:"Sheep",sink:"Sink",skateboard:"Skateboard",skis:"Skis",snowboard:"Snowboard",spoon:"Spoon","sports ball":"Sports Ball","stop sign":"Stop Sign",suitcase:"Suitcase",surfboard:"Surfboard","teddy bear":"Teddy Bear","tennis racket":"Tennis Racket",tie:"Tie",toaster:"Toaster",toilet:"Toilet",toothbrush:"Toothbrush","traffic light":"Traffic Light",train:"Train",truck:"Truck",tv:"Tv",umbrella:"Umbrella",vase:"Vase","wine glass":"Wine Glass",zebra:"Zebra"},F1={hand:"Hand",face:"Face",...R1};async function oo(e){return new Promise(t=>{const n=document.createElement("div");document.body.appendChild(n);const r=aa(()=>{const i=o=>{r(),n.remove(),t(o)};return h(e0,{defaultOpen:!0,onOpenChange:o=>{o||i(null)},get children(){return h(Qf,{get children(){return oe(()=>e({close:i}))}})}})},n)})}var B1=A('<div><div class="p-5 flex flex-col gap-4">'),$1=A('<div class="flex items-center justify-end gap-3">'),N1=A('<label><div></div><input class="appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline"type=text>'),H1=A('<button class="bg-[#f2f2f5] text-[#60646C] py-1 px-4 rounded inline-flex items-center"><span>'),K1=A('<button class="bg-[#3E63DD] text-white py-1 px-4 rounded"><span>'),V1=A('<button class="bg-red-600 text-white py-1 px-4 rounded"><span>');function so(e){return[h(ml,{class:"fixed inset-0 bg-white/50"}),h(hl,{class:"fixed inset-0 flex items-center justify-center !pointer-events-none",get children(){var t=B1(),n=t.firstChild;return t.$$click=r=>{r.preventDefault(),r.stopPropagation()},se(t,"pointer-events-auto max-w-full w-96 relative bg-white rounded-xl "+Mr),D(n,()=>e.children),t}})]}function ao(e){return h(t0,{class:"block text-xl font-bold mb-2",get children(){return e.label}})}function lo(e){return(()=>{var t=$1();return D(t,()=>e.children),t})()}function Ql(e){return(()=>{var t=N1(),n=t.firstChild,r=n.nextSibling;return D(n,()=>e.label),r.$$keydown=i=>{i.code==="Enter"&&e.onEnter()},r.$$input=i=>e.setValue(i.currentTarget.value),Ae(i=>{e.autoselect&&setTimeout(()=>{i.focus(),i.select()},100)},r),j(()=>Ve(r,"placeholder",e.placeholder)),j(()=>r.value=e.value),t})()}function co(e){return(()=>{var t=H1(),n=t.firstChild;return Sn(t,"click",e.onClick,!0),D(n,()=>e.label),t})()}function ec(e){return(()=>{var t=K1(),n=t.firstChild;return Sn(t,"click",e.onClick,!0),D(n,()=>e.label),j(()=>t.disabled=e.disabled),t})()}function U1(e){return(()=>{var t=V1(),n=t.firstChild;return Sn(t,"click",e.onClick,!0),D(n,()=>e.label),j(()=>t.disabled=e.disabled),t})()}function ib(e){return({close:t})=>{const[n,r]=I(e.default_value??""),i=S(()=>{const o=n();return o.trim()?o:null});return h(so,{get children(){return[h(ao,{get label(){return e.title}}),h(Ql,{get value(){return n()},autoselect:!0,setValue:o=>r(o),onEnter:()=>{const o=i();o!=null&&t(o)},get placeholder(){return e.placeholder},get label(){return e.label}}),h(lo,{get children(){return[h(co,{label:"Cancel",onClick:()=>t(null)}),h(ec,{get label(){return e.action_label},get disabled(){return i()==null},onClick:()=>t(i())})]}})]}})}}function G1(e){return({close:t})=>h(so,{get children(){return[h(ao,{get label(){return e.title}}),h(gl,{get children(){return e.description}}),h(lo,{get children(){return[h(co,{label:"Cancel",onClick:()=>t(null)}),h(U1,{get label(){return e.action_label},onClick:()=>t(!0)})]}})]}})}$e(["click","input","keydown"]);var q1=A('<div class="bg-ui-bg-0 pointer-events-auto w-full rounded-xl flex flex-col gap-4 p-4 text-sm font-light relative border-2 border-ui-bg-900 shadow-[2px_2px] shadow-ui-bg-900">'),z1=A('<div class="w-full flex flex-col gap-4 pt-4">'),j1=A('<div><button class="w-full text-left cursor-pointer flex flex-row items-center"><span class="flex-1 font-bold">'),W1=A("<button><span>"),X1=A("<span class=flex-1>"),J1=A("<label>"),Y1=A('<div class="absolute w-full h-full box-border border border-[#c8c9d3] ui-group-checked:border-[#3353bf] bg-ui-bg-300 ui-group-checked:bg-ui-hl-600 rounded-md ">'),Ii=A("<div>"),Z1=A("<div class=flex>"),Q1=A("<div class=flex-1>"),eg=A("<div><span></span> <span class=opacity-50>"),tg=A("<input type=number>"),ys=A("<span class=opacity-50>"),ng=A('<div class="flex flex-row gap-4"><div class="flex-1 flex flex-col">'),rg=A("<div><div>"),ig=A("<div><select>"),og=A("<option value=*SELECT*>"),sg=A("<option value=*NONE*>"),ag=A("<option>"),lg=A("<option value=*LOAD*>*Loading…*"),cg=A('<span class="flex-1 overflow-hidden whitespace-nowrap text-ellipsis">'),ug=A('<div class="flex flex-row items-center gap-4">'),dg=A("<div class=contents>"),fg=A("<div><div>Patternset"),hg=A('<div class="flex flex-row flex-wrap items-baseline gap-1">');const Mr="border-2 border-ui-bg-900 shadow-[2px_2px] shadow-ui-bg-900";function ob(e){let[t,n]=I(!e.defaultClosed);return(()=>{var r=q1();return D(r,(()=>{var i=S(()=>e.collapsible!=null);return()=>i()?(()=>{var o=j1(),s=o.firstChild,a=s.firstChild;return s.$$click=()=>n(l=>!l),D(a,()=>e.collapsible),D(s,h(je,{get tag(){return t()?"expand_less":"expand_more"},label:"",class:"text-xl"}),null),D(o,h(Ai,{get if(){return t()},fallback:null,get children(){var l=z1();return D(l,()=>e.children),l}}),null),j(()=>Ve(s,"aria-expanded",t())),o})():e.children})()),r})()}const tc=e=>"flex px-3 items-center justify-center h-8 rounded border  "+(e.active?"border-ui-hl-600 bg-ui-hl-600 text-ui-bg-0":e.view==="destructive"?"border-red-300 bg-red-100 text-red-600":"border-ui-bg-300 bg-ui-bg-100 text-ui-hl-600");function ur(e){return(()=>{var t=W1(),n=t.firstChild;return Sn(t,"click",e.onClick,!0),D(n,(()=>{var r=S(()=>e.icon!=null);return()=>r()?h(je,{class:"text-xl",get tag(){return e.icon},get label(){return e.hide_label?e.label:""}}):null})()),D(t,(()=>{var r=S(()=>!e.hide_label);return()=>r()?(()=>{var i=X1();return D(i,()=>e.label),i})():null})(),null),j(r=>{var i=e.disabled,o=tc({active:e.active??!1,view:e.view});return i!==r.e&&(t.disabled=r.e=i),o!==r.t&&se(t,r.t=o),r},{e:void 0,t:void 0}),t})()}const uo="grid items-center min-h-[30px] ",fo=uo+"grid-cols-[8rem_1fr]",nc=uo+"grid-cols-[1fr_max-content] gap-4",gg=uo+"grid-cols-[max-content_1fr] gap-4";function _s(e){return(()=>{var t=J1();return se(t,fo),D(t,()=>e.children),t})()}function sb(e){return h(Fh,{get class(){return nc+" relative "+(e.disabled?"opacity-50 ":"")},get disabled(){return e.disabled},get checked(){return e.value},onChange:t=>e.setValue(t),get children(){return[h(Rh,{get children(){return e.label}}),h(kh,{class:"peer"}),h(Oh,{class:"flex items-center ui-checked:justify-end group w-9 h-5 relative peer-focus-visible:ring-2 rounded ring-offset-1 ring-blue-500",get children(){return[Y1(),h($h,{class:"relative aspect-square h-full border border-[#b9bbc6] ui-group-checked:border-[#2f4db0] bg-ui-bg-0 rounded-[5px] transform"})]}})]}})}function mg(e){return(()=>{var t=Ii();return D(t,()=>e.children),j(()=>se(t,"bg-ui-bg-0 border border-ui-bg-300 rounded flex items-center focus-within:ring-2 ring-offset-1 ring-blue-500 "+(e.pr?"pr-2 ":"")+(e.pl?"pl-2 ":""))),t})()}function ws(e){const t=e.vmap??(r=>r),n=e.vunmap??(r=>r);return h(Ih,{get class(){return" select-none touch-none "+(e.newline?"flex flex-col gap-2":fo)},get minValue(){return e.min},get maxValue(){return e.max},get step(){return e.step},get value(){return[n(e.value)]},onChange:r=>{e.setValue(t(r[0]??e.max))},get children(){return[(()=>{var r=Z1();return D(r,h(Gi,{get children(){return e.label}}),null),D(r,(()=>{var i=S(()=>!!e.newline);return()=>i()?[Q1(),(()=>{var o=eg(),s=o.firstChild,a=s.nextSibling,l=a.nextSibling;return D(s,()=>e.value.toLocaleString()),D(l,()=>e.unit),o})()]:null})(),null),r})(),h(Mh,{class:"bg-figma-grey-200 relative rounded-full h-2 w-full",get children(){return[h(wh,{class:"absolute bg-figma-primary rounded-full h-full"}),h(xh,{class:"block w-4 h-4 shadow bg-figma-white border border-figma-grey-300 rounded-full -top-1",get children(){return h(Th,{})}})]}})]}})}const pg="w-full h-7 px-2 bg-transparent focus:outline-none";function xs(e){return h(mg,{get pl(){return e.unit_left!=null},get pr(){return e.unit!=null},get children(){return[S(()=>S(()=>e.unit_left!=null)()?(()=>{var t=ys();return D(t,()=>e.unit_left),t})():null),(()=>{var t=tg();return Ae(n=>{const r=S(()=>e.value),i=a=>{e.setValue(a)};n.addEventListener("input",()=>{if(e.skip_set_value_on_input)return;const a=+n.value;!isNaN(a)&&a!==e.value&&(s=!1,i(a))}),n.addEventListener("change",()=>{if(e.skip_set_value_on_input)return;let a=+n.value;!isNaN(a)&&a!==e.value&&i(a),s=!0,o()}),n.addEventListener("focusout",()=>{if(e.skip_set_value_on_input){let a=+n.value;!isNaN(a)&&a!==e.value&&i(a)}s=!0,o()});const o=()=>{const a=r();if(s){const l=""+a.toFixed(e.decimals);n.value=l}s=!0};let s=!0;R(()=>{o()})},t),j(n=>{var r=e.min,i=e.max,o=e.step,s=pg+(e.unit_left!=null?" pl-0":"")+(e.unit!=null?" pr-0":"");return r!==n.e&&Ve(t,"min",n.e=r),i!==n.t&&Ve(t,"max",n.t=i),o!==n.a&&Ve(t,"step",n.a=o),s!==n.o&&se(t,n.o=s),n},{e:void 0,t:void 0,a:void 0,o:void 0}),t})(),S(()=>S(()=>e.unit!=null)()?(()=>{var t=ys();return D(t,()=>e.unit),t})():null)]}})}function ab(){const{state:e,setState:t}=ne(Xe),n=S(()=>e().play);return S(()=>e().repeat),(()=>{var r=ng(),i=r.firstChild;return D(i,h(ur,{onClick:()=>{t(),n()?(e().play=!1,t()):(e().play=!0,t())},get icon(){return n()?"stop":"play_arrow"},get label(){return n()?"Stop":"Play"}})),D(r,h(ur,{onClick:()=>{t(),e().repeat?(e().repeat=!1,e().play=!1):(e().repeat=!0,e().play=!0),t()},icon:"repeat",label:"Loop",hide_label:!0,get active(){return e().repeat}}),null),r})()}function lb(e){return(()=>{var t=rg(),n=t.firstChild;return se(t,fo),D(n,()=>e.label),D(t,h(bg,e),null),j(()=>se(n,e.disabled?"opacity-50":"")),t})()}function bg(e){const t=new Map,n=S(()=>e.choices?.map(r=>{let i=t.get(r[0]);return i==null&&(i=[r[0],r[1]],t.set(r[0],i)),i[1]=r[1],i}));if(!e.noAutoSelect){let r=e.value!=null;R(()=>{if(r)return;const i=e.choices;oe(()=>e.value)==null&&i!=null&&i.length!==0&&e.value==null&&(r=!0,e.setValue(i[0][0]))})}return(()=>{var r=ig(),i=r.firstChild;return i.$$input=o=>{let s=o.currentTarget.value??null;s==="*SELECT*"&&(s=null),s==="*NONE*"&&(s=null),s==="*LOAD*"&&(s=null),e.setValue(s??null)},D(i,(()=>{var o=S(()=>!!e.hide_null_choice);return()=>o()?null:(()=>{var s=og();return D(s,()=>e.names.none),s})()})(),null),D(i,(()=>{var o=S(()=>n()!=null);return()=>o()?h(zt,{get each(){return n()},get fallback(){return(()=>{var s=sg();return D(s,()=>e.names.empty_list),s})()},children:s=>(()=>{var a=ag();return D(a,()=>s[1]),j(()=>a.value=s[0]),a})()}):lg()})(),null),j(o=>{var s=e.style==="plaintext"?"plaintext-select-outline w-full":"",a=e.disabled,l=e.style==="plaintext"?"cursor-pointer w-full bg-transparent px-0 py-1 form-select appearance-none focus:outline-none ":"cursor-pointer w-full h-8 px-2 rounded bg-ui-bg-0 border border-ui-bg-300",c=e.style==="plaintext"?{"background-image":"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAMAAAA7+k+nAAAAGFBMVEUAAACqqqq2traqqqqqqqqqqqqrq6uqqqoG/7urAAAAB3RSTlMADA4Pk8PIT8hMsgAAAFFJREFUGFd1y0ESACEIA0FBJf//8SqWAuLm2FMp5X/UOAI3Uu+QUFjQSR2hDMcsGlxRtwukLq/HY/HuS3Qrt5+SfJfsVm7fJfsqL5/l7aN4/wCz6gNFsLDOaQAAAABJRU5ErkJggg==')","background-position":"right 0.7rem center","background-size":"0.7rem","background-repeat":"no-repeat"}:{};return s!==o.e&&se(r,o.e=s),a!==o.t&&(i.disabled=o.t=a),l!==o.a&&se(i,o.a=l),o.o=la(i,c,o.o),o},{e:void 0,t:void 0,a:void 0,o:void 0}),j(()=>i.value=(e.choices,e.value??"*SELECT*")),r})()}const vg="mt-1 dropdown-menu__content-animations max-h-[var(--kb-popper-content-available-height)] overflow-y-auto min-w-[220px] p-2 bg-white rounded border border-ui-bg-300 shadow outline-none origin-[var(--kb-menu-content-transform-origin)] flex flex-col gap-2";function yg(e){return h(lh,{get children(){return[h(oh,{get disabled(){return e.disabled},class:"cursor-pointer w-full flex items-center text-left h-8 min-w-0 px-2 rounded bg-ui-bg-0 border border-ui-bg-300",get children(){return[(()=>{var t=cg();return D(t,()=>e.label),t})(),h(Q0,{class:"transform ui-expanded:rotate-180",get children(){return h(je,{class:"text-xl",tag:"expand_more",label:"Choose"})}})]}}),h(eh,{get children(){return h(ah,{class:vg,get onOpenAutoFocus(){return e.onOpenAutoFocus},get children(){return e.children}})}})]}})}function _g(e){return h(Bl,{get children(){return[h(Z0,{class:"px-2 text-sm text-[#60646c]",get children(){return e.label}}),S(()=>e.children)]}})}function Ss(){return h(sh,{class:"w-full h-[1px] bg-ui-bg-500"})}const Yr="text-base text-black rounded flex items-center gap-2 px-2 py-1 relative select-none outline-none ui-highlighted:bg-[#3E63DD] ui-highlighted:text-white",wg=({close:e})=>{const[t,n]=I("other"),[r,i]=I(""),o=S(()=>{const s=t(),a=r();return a.trim()?{name:a,tag:s}:null});return h(so,{get children(){return[h(ao,{label:"Create Patternset"}),h(Ul,{class:"flex-col",get value(){return t()},onChange:s=>n(s),get children(){return[h(Vl,{children:"Type"}),(()=>{var s=ug();return D(s,h(xt,{class:"flex flex-row items-center gap-2 relative",value:"text",get children(){return[h(Tt,{class:"peer",onFocus:()=>n("text")}),h(St,{class:"cursor-pointer peer-focus-visible:ring-offset-2 peer-focus-visible:ring-2 peer-focus-visible:ring-ui-hl-600 bg-ui-hl-600 w-4 h-4 rounded-full flex justify-center items-center",get children(){return h(Et,{class:"w-[0.625rem] h-[0.625rem] bg-ui-bg-0 rounded-full"})}}),h(Xr,{children:"Text"})]}}),null),D(s,h(xt,{class:"flex flex-row items-center gap-2 relative",value:"object",get children(){return[h(Tt,{class:"peer",onFocus:()=>n("object")}),h(St,{class:"cursor-pointer peer-focus-visible:ring-offset-2 peer-focus-visible:ring-2 peer-focus-visible:ring-ui-hl-600 bg-ui-hl-600 w-4 h-4 rounded-full flex justify-center items-center",get children(){return h(Et,{class:"w-[0.625rem] h-[0.625rem] bg-ui-bg-0 rounded-full"})}}),h(Xr,{children:"Object"})]}}),null),D(s,h(xt,{class:"flex flex-row items-center gap-2 relative",value:"other",get children(){return[h(Tt,{class:"peer",onFocus:()=>n("other")}),h(St,{class:"cursor-pointer peer-focus-visible:ring-offset-2 peer-focus-visible:ring-2 peer-focus-visible:ring-ui-hl-600 bg-ui-hl-600 w-4 h-4 rounded-full flex justify-center items-center",get children(){return h(Et,{class:"w-[0.625rem] h-[0.625rem] bg-ui-bg-0 rounded-full"})}}),h(Xr,{children:"Other"})]}}),null),s})()]}}),h(Ql,{label:"Name",get value(){return r()},setValue:s=>i(s),placeholder:"My Patternset",onEnter:()=>{const s=o();s!=null&&e(s)}}),h(lo,{get children(){return[h(co,{label:"Cancel",onClick:()=>e(null)}),h(ec,{label:"Create",get disabled(){return o()==null},onClick:()=>e(o())})]}})]}})};function cb(e){const t=()=>{const o=O1(),s=new Map;for(const l of o){const c=yt(l);let u=s.get(c.tag)??[];s.set(c.tag,u),u.push(l)}return[...new Set(["text","objd",...[...s.keys()].sort()])].map(l=>({group:l,items:s.get(l)}))},n=()=>{const o=t(),s=e.filter;return s==null?o:o.filter(a=>a.group===s)};let r=!1;e.noAutoSelect||R(()=>{if(r)return;const o=n();oe(()=>e.shapeset)==null&&oe(()=>{const s=o[0]?.items[0];s!=null&&(e.setShapeset(s),r=!0)})});let i;return(()=>{var o=fg();return o.firstChild,se(o,gg),D(o,h(yg,{get disabled(){return e.disabled},get label(){return S(()=>e.shapeset!=null)()?yt(e.shapeset).name:"Choose"},onOpenAutoFocus:()=>{const s=i.querySelector("[data-ps-key="+JSON.stringify(e.shapeset)+"]");setTimeout(()=>{s?.focus(),setTimeout(()=>{s?.focus()},10)},10)},get children(){var s=dg();return Ae(a=>i=a,s),D(s,h(nh,{class:"flex flex-col gap-2",get value(){return e.shapeset??void 0},onChange:a=>e.setShapeset(a??null),get children(){return h(zt,{get each(){return n()},children:a=>{let l=c=>(()=>{var u=Ii();return D(u,c),u})();return e.filter==null&&(l=c=>h(_g,{get label(){return M1(a.group)},children:c})),l(h(zt,{get each(){return a.items},children:c=>h(rh,{value:c,class:Yr+" group ui-checked:bg-ui-bg-200",closeOnSelect:!0,"data-ps-key":c,get children(){var u=hg();return D(u,()=>yt(c).name,null),D(u,(()=>{var d=S(()=>yt(c).from!=="sample");return()=>d()?[" ",(()=>{var f=Ii();return D(f,()=>yt(c).from),j(()=>se(f,(()=>{const m=yt(c).from;return"text-xs uppercase px-2 ui-group-highlighted:bg-transparent ui-group-highlighted:text-white rounded-md "+(m==="local"?"bg-blue-100 text-blue-800":m==="import"?"bg-green-100 text-green-800":m==="error"?"bg-red-100 text-red-800":"")})())),f})()]:null})(),null),u}})}))}})}}),null),D(s,h(Ss,{}),null),D(s,h(us,{class:Yr+" text-ui-hl-600",onSelect:()=>{const a=document.createElement("input");a.type="file",a.accept=".tapset",a.multiple=!0,a.click(),a.addEventListener("change",l=>(async()=>{const c=a.files;if(c==null)return;let u=null;for(const d of c){const f=await d.text(),m=JSON.parse(f),g=await vs(m.meta.tag,m.meta.name,{imported:!0});await I1(g,m.content),(e.filter==null||m.meta.tag===e.filter)&&(u=g)}u!=null?e.setShapeset(u):c.length>0&&Yt("Tapset"+(c.length===1?"":"s")+" Imported","View all tapsets in Define Symbols mode")})().catch(De),{once:!0})},get children(){return[h(je,{class:"text-xl",tag:"download",label:"Import"}),"Import"]}}),null),D(s,(()=>{var a=S(()=>e.allowNew!=null);return()=>a()?[h(Ss,{}),h(us,{class:Yr+" text-ui-hl-600",onSelect:()=>{(async()=>{const l=await oo(wg);if(l==null)return;const{name:c,tag:u}=l;e.setShapeset(null);const d=await vs(u,c);e.setShapeset(d)})().catch(De)},get children(){return[h(je,{class:"text-xl",tag:"add",label:"Add"}),"Create"]}})]:null})(),null),s}}),null),o})()}$e(["click","input"]);var xg=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M2 21v-2h9V7.825q-.65-.225-1.125-.7T9.175 6H6l3 7q0 1.25-1.025 2.125T5.5 16q-1.45 0-2.475-.875T2 13l3-7H3V4h6.175q.3-.875 1.075-1.437T12 2q.975 0 1.75.563T14.825 4H21v2h-2l3 7q0 1.25-1.025 2.125T18.5 16q-1.45 0-2.475-.875T15 13l3-7h-3.175q-.225.65-.7 1.125t-1.125.7V19h9v2zm14.625-8h3.75L18.5 8.65zm-13 0h3.75L5.5 8.65zM12 6q.425 0 .713-.288T13 5q0-.425-.288-.712T12 4q-.425 0-.712.288T11 5q0 .425.288.713T12 6">');const Sg=e=>(()=>{var t=xg();return re(t,e,!0,!0),t})();var Eg=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-8">');const Tg=e=>(()=>{var t=Eg();return re(t,e,!0,!0),t})();var Cg=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M13.85 21q-1.35 0-2.275-.925t-.925-2.225q0-1.9 1.538-3.438t3.837-1.912q-.075-.9-.45-1.362t-1.025-.463q-.75 0-1.625.625t-2.075 2.05q-1.95 2.325-2.862 3.025t-1.963.7q-1.275 0-2.15-.95T3 13.825q0-1.35.588-2.762t1.987-3.388q.475-.65.7-1.1T6.5 5.85q0-.175-.062-.262T6.25 5.5q-.25 0-.625.313t-.875.962L3 5q.8-.975 1.625-1.487T6.25 3q1.15 0 1.95.8t.8 2q0 .725-.375 1.6t-1.25 2.1q-.95 1.35-1.412 2.375t-.463 1.8q0 .425.138.663t.387.237q.25 0 .438-.137t.687-.663q.325-.35.775-.862t1.1-1.263q1.575-1.875 2.85-2.675t2.675-.8q1.675 0 2.75 1.125t1.225 3.075H21v2.5h-2.475q-.2 2.8-1.462 4.462T13.85 21m.05-2.5q.8 0 1.35-.913T16 15.05q-1.15.275-2 1.088t-.85 1.612q0 .35.2.55t.55.2">');const Pg=e=>(()=>{var t=Cg();return re(t,e,!0,!0),t})();var Ag=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M6 20q-.825 0-1.412-.587T4 18q0-.825.588-1.412T6 16q.825 0 1.413.588T8 18q0 .825-.587 1.413T6 20m8 0q-.825 0-1.412-.587T12 18q0-.825.588-1.412T14 16q.825 0 1.413.588T16 18q0 .825-.587 1.413T14 20m-4-4q-.825 0-1.412-.587T8 14q0-.825.588-1.412T10 12q.825 0 1.413.588T12 14q0 .825-.587 1.413T10 16m8 0q-.825 0-1.412-.587T16 14q0-.825.588-1.412T18 12q.825 0 1.413.588T20 14q0 .825-.587 1.413T18 16M6 12q-.825 0-1.412-.587T4 10q0-.825.588-1.412T6 8q.825 0 1.413.588T8 10q0 .825-.587 1.413T6 12m8 0q-.825 0-1.412-.587T12 10q0-.825.588-1.412T14 8q.825 0 1.413.588T16 10q0 .825-.587 1.413T14 12m-4-4q-.825 0-1.412-.587T8 6q0-.825.588-1.412T10 4q.825 0 1.413.588T12 6q0 .825-.587 1.413T10 8m8 0q-.825 0-1.412-.587T16 6q0-.825.588-1.412T18 4q.825 0 1.413.588T20 6q0 .825-.587 1.413T18 8">');const Dg=e=>(()=>{var t=Ag();return re(t,e,!0,!0),t})();var Ig=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="m12.25 10.825l.925.925L18.6 6.325l-.925-.925zM5 19h.925l5.825-5.825l-.925-.925L5 18.075zm8.875-5.125l-3.75-3.75L14.3 5.95l-.725-.725L8.1 10.7L6.7 9.3l5.45-5.475q.6-.6 1.413-.6t1.412.6l.725.725l1.25-1.25q.3-.3.713-.3t.712.3L20.7 5.625q.3.3.3.712t-.3.713zM6.75 21H3v-3.75l7.125-7.125l3.75 3.75z">');const Mg=e=>(()=>{var t=Ig();return re(t,e,!0,!0),t})();var Og=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M12 17.5q1.875 0 3.188-1.312T16.5 13q0-1.875-1.312-3.187T12 8.5q-1.875 0-3.187 1.313T7.5 13q0 1.875 1.313 3.188T12 17.5m0-2q-1.05 0-1.775-.725T9.5 13q0-1.05.725-1.775T12 10.5q1.05 0 1.775.725T14.5 13q0 1.05-.725 1.775T12 15.5M4 21q-.825 0-1.412-.587T2 19V7q0-.825.588-1.412T4 5h3.15L9 3h6l1.85 2H20q.825 0 1.413.588T22 7v12q0 .825-.587 1.413T20 21zm0-2h16V7h-4.05l-1.825-2h-4.25L8.05 7H4zm8-6">');const rc=e=>(()=>{var t=Og();return re(t,e,!0,!0),t})();var Lg=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q1.4 0 2.638-.437t2.262-1.238L15.475 16.9q-.725.525-1.612.813T12 18q-2.5 0-4.25-1.75T6 12q0-2.5 1.75-4.25T12 6q2.5 0 4.25 1.75T18 12q0 .975-.3 1.875t-.825 1.625l1.425 1.425q.8-1.025 1.25-2.275T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-4q.55 0 1.063-.137t.962-.413L12.5 13.925q-.125.05-.25.063T12 14q-.825 0-1.412-.587T10 12q0-.825.588-1.412T12 10q.825 0 1.413.588T14 12q0 .15-.012.288t-.063.262l1.5 1.5q.275-.45.425-.962T16 12q0-1.65-1.175-2.825T12 8q-1.65 0-2.825 1.175T8 12q0 1.65 1.175 2.825T12 16">');const kg=e=>(()=>{var t=Lg();return re(t,e,!0,!0),t})();var Rg=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M10.5 20V7H5V4h14v3h-5.5v13z">');const Fg=e=>(()=>{var t=Rg();return re(t,e,!0,!0),t})();var Bg=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M6 19h3v-6h6v6h3v-9l-6-4.5L6 10zm-2 2V9l8-6l8 6v12h-7v-6h-2v6zm8-8.75">');const $g=e=>(()=>{var t=Bg();return re(t,e,!0,!0),t})();var Ng=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M10 21q-1.65 0-2.825-1.175T6 17q0-1.65 1.175-2.825T10 13q.575 0 1.063.138t.937.412V3h6v4h-4v10q0 1.65-1.175 2.825T10 21">');const Hg=e=>(()=>{var t=Ng();return re(t,e,!0,!0),t})(),Kg=["object_detection","remote_draw","define_symbols",null,"npe_text","pattern",null,"npe_ball_bounce","find_hidden","balancing_ball"],Vg={object_detection:{label:"Object Detction",tags:["requires_camera","requires_worker"],icon:()=>h(rc,{}),_value:()=>we(()=>import("./object_detection_mode-Wee0DIJt.js"),__vite__mapDeps([0,1])).then(e=>e.default)},remote_draw:{label:"Mouse Draw",icon:()=>h(Pg,{}),_value:()=>we(()=>import("./remote_draw_mode-Z_bW_oTI.js"),__vite__mapDeps([])).then(e=>e.default)},define_symbols:{label:"Define Symbols",icon:()=>h(Mg,{}),_value:()=>we(()=>import("./define_symbols_mode-muMNAN0d.js"),__vite__mapDeps([2,3])).then(e=>e.default)},npe_text:{label:"Text to Tap",icon:()=>h(Fg,{}),_value:()=>we(()=>import("./npe_text_mode-CoSq0IW3.js"),__vite__mapDeps([4,3])).then(e=>e.default)},pattern:{label:"Pattern",icon:()=>h(Dg,{}),_value:()=>we(()=>import("./pattern_mode-s3BXrv34.js"),__vite__mapDeps([])).then(e=>e.default)},npe_ball_bounce:{label:"Ball Bounce",tags:["requires_hand_preview"],icon:()=>h(Tg,{}),_value:()=>we(()=>import("./npe_ball_bounce_mode-2mfLFZnz.js"),__vite__mapDeps([])).then(e=>e.default)},find_hidden:{label:"Find Hidden",tags:["requires_hand_preview"],icon:()=>h(kg,{}),_value:()=>we(()=>import("./find_hidden_mode-1O3L-6rp.js"),__vite__mapDeps([])).then(e=>e.default)},balancing_ball:{label:"Balance Ball",tags:["requires_device"],icon:()=>h(Sg,{}),_value:()=>we(()=>import("./balancing_ball_mode-AJlg2KMq.js"),__vite__mapDeps([])).then(e=>e.default)},tap_mania:{label:"tap!mania",icon:()=>h(Hg,{}),_value:()=>we(()=>import("./tap_mania_mode-6wqZNIeh.js"),__vite__mapDeps([])).then(e=>e.default)},npe_home:{label:"Start Page",icon:()=>h($g,{}),_value:()=>we(()=>import("./npe_home_mode-5yPmtYzs.js"),__vite__mapDeps([])).then(e=>e.default)}},It=Vg;var Ug=A("<a class=block>");function Gg(e){return(()=>{var t=Ug();return t.$$click=()=>e.beforeClick?.(),D(t,()=>e.children),j(()=>Ve(t,"href",e.href)),t})()}$e(["click"]);function qg(e){const t=Ot(()=>e.children);return h(zt,{get each(){return t.toArray()},children:(n,r)=>[S((()=>{var i=S(()=>r()!==0);return()=>i()?e.gap():null})()),n]})}var zg=A("<div>");function xe(e){return(()=>{var t=zg();return D(t,()=>e.children),j(()=>se(t,(e.x?"w-full ":"")+(e.y?"h-full ":"")+e.class)),t})()}function jg(e,t,n,r){return()=>{e>>>=0,t>>>=0,n>>>=0,r>>>=0;let i=e+t|0;return e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,r=r+1|0,i=i+r|0,n=n+i|0,(i>>>0)/4294967296}}function Wg(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let o=0,s;o<e.length;o++)s=e.charCodeAt(o),t=n^Math.imul(t^s,597399067),n=r^Math.imul(n^s,2869860233),r=i^Math.imul(r^s,951274213),i=t^Math.imul(i^s,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),[(t^n^r^i)>>>0,(n^t)>>>0,(r^t)>>>0,(i^t)>>>0]}function ic(e){e+=1,e|=0;let t="";for(;e>0;){let n=(e-1)%26;t=String.fromCharCode(65+n)+t,e=Math.floor((e-n)/26)}return t}function be(e){if(!e)throw new Error("assertion failed")}const N={add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},div(e,t){return[e[0]/t[0],e[1]/t[1]]},mul(e,t){return[e[0]*t[0],e[1]*t[1]]},min(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]},max(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]},remap(e,t,n,r,i){return N.add(N.mul(N.div(N.sub(e,t),n),i),r)},eql(e,t){return e[0]===t[0]&&e[1]===t[1]},inbounds(e,t,n){const r=[Math.min(t[0],n[0]),Math.min(t[1],n[1])],i=[Math.max(t[0],n[0]),Math.max(t[1],n[1])];return!(e[0]<r[0]||e[1]<r[1]||e[0]>i[0]||e[1]>i[1])},distance(e,t){const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},rotateDeg(e,t){return N.rotateRad(e,Yg(t))},rotateRad([e,t],n){const r=e*Math.cos(n)-t*Math.sin(n),i=e*Math.sin(n)+t*Math.cos(n);return[r,i]},magnitude(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},normalize(e){const t=N.magnitude(e);return t===0?[0,0]:[e[0]/t,e[1]/t]},getAngle(e){const t=N.normalize(e);return Math.atan2(t[0],-t[1])}};function Xg(e,t){let[n,r]=e;n=[n[0],n[1]],r=[Math.abs(r[0]),Math.abs(r[1])];const i=r[0]/r[1];let o;return i>t?o=[r[1]*t,r[1]]:o=[r[0],r[0]/t],[N.add(n,N.div(N.sub(r,o),[2,2])),[Math.abs(o[0])*Math.sign(e[1][0]),Math.abs(o[1])*Math.sign(e[1][1])]]}function Jg(e,t){const[n,r]=e,i=r[0]/r[1];let o;return i>t?o=[r[1]*t,r[1]]:o=[r[0],r[0]/t],[n,o]}function Yg(e){return Math.PI/180*e}function ub(e){return e*180/Math.PI}function Zg(e){const t=[];for(let n=0;n<e[1];n++)for(let r=0;r<e[0];r++)t.push([0,[r,n],ic(r)+n]);return t}function Es(e,t,n){const r=[],o=Math.sqrt(3);function s(l){const c=l%2===0;return t==="zig"?+!c:+c}function a(l,c){const u=.75+1.5*l,d=0+o/2+o*c+s(l)*o/2;return[u,d]}for(let l=0;l<e[1];l++)for(let c=0;c<e[0];c++){let u=0;n!=null&&(be(n.anodes[l]!=null),be(n.cathodes[c]!=null),u=n.anodes[l]<<8|n.cathodes[c]),r.push([u,a(c,l),ic(c)+l])}return r}const pt=18;class Ct{bounds;max_pts;define_rect_scaler;points=[];distance=0;constructor(t){let n=[1/0,1/0],r=[-1/0,-1/0],i=1/0;for(const[u,[d,f]]of t.entries()){n=[Math.min(f[0],n[0]),Math.min(f[1],n[1])],r=[Math.max(f[0],r[0]),Math.max(f[1],r[1])];for(const[m,g]of t.slice(u+1)){const p=Math.hypot(g[0]-f[0],g[1]-f[1]);p<i&&(i=p)}}let o=i,s=N.add(N.sub([0,0],n),[o,o]);const a=u=>N.mul(N.add(u,s),[pt/o,pt/o]);n=a(n),r=a(r),t=t.map(([u,d,f])=>[u,a(d),f]),o=pt;let l=[1/0,1/0],c=[-1/0,-1/0];for(const u of t)l=[Math.min(l[0],u[1][0]),Math.min(l[1],u[1][1])],c=[Math.max(c[0],u[1][0]),Math.max(c[1],u[1][1])];this.define_rect_scaler={pos:N.sub(l,[pt/2,pt/2]),size:N.add(N.sub(c,l),[pt/2*2,pt/2*2])},this.points=t.sort((u,d)=>u[1][1]-d[1][1]),this.bounds=N.add(r,[o,o]),this.distance=o,this.max_pts=this.points.length}targetPt(t){let n=0,r=this.points.length-1,i=null,o=this.distance*2;for(let s=n;s<=r;s++){const a=this.points[s],l=N.distance(t,a[1]);l<o&&(i=s,o=l)}return i}ptCenter(t){if(t>=0&&t<this.points.length)return this.points[t][1];throw new Error("Invalid grid point")}toTapMsg(t){if(t>=0&&t<this.points.length)return this.points[t][0];throw new Error("Invalid grid point")}get smooth_distance(){return this.distance*1.5}}function Qg(e,t){const n=[];for(let r=0;r<e.max_pts;r++){const[i,o,s]=e.points[r],a=t.transformPoint({x:o[0],y:o[1]});n.push([i,[a.x,a.y],s])}return n}const em=`name, anode_chip anode_line cathode_chip cathode_line, pos_x, pos_y
D12,1317,157.75,18.00
E12,1303,133.83,18.00
C10,3531,212.36,25.46
B10,3537,188.44,25.46
G12,1315,105.74,36.33
H12,1318,81.82,36.33
E11,0003,133.83,38.80
D11,0017,157.75,38.80
 B9,1137,188.44,46.27
 C9,1131,212.36,46.27
G11,0015,105.74,57.14
H11,0018,81.82,57.14
E10,3503,145.79,62.21
F12,1308,51.70,64.86
K12,1329,27.78,64.86
 B8,3937,200.40,69.67
 D9,1117,163.99,71.21
F10,3508,128.47,72.22
 C8,3931,182.19,80.18
H10,3518,93.78,80.54
 E9,1103,145.79,81.71
K11,0029,27.78,85.66
F11,0008,51.70,85.66
 D8,3917,163.99,90.71
I10,3527,75.76,90.94
 F9,1108,128.47,91.72
 B7,2237,205.81,95.16
 G9,1115,111.12,96.53
 E8,3903,145.79,101.22
 H9,1118,93.78,101.35
 C7,2231,187.79,105.56
 A6,3426,223.83,105.56
 F8,3908,128.47,111.23
 I9,1127,75.76,111.75
K10,3529,39.74,111.75
 D7,2217,169.79,115.96
 B6,3437,205.81,115.96
 G8,3915,111.12,116.69
 E7,2203,149.51,119.86
 H8,3918,93.78,122.15
 J9,1121,57.76,122.15
L10,3530,21.72,122.15
 C6,3431,187.79,126.36
 A5,1626,223.83,126.36
 F7,2208,131.48,130.26
 I8,3927,75.76,132.55
 K9,1129,39.74,132.55
 G7,2215,108.08,134.68
 D6,3417,169.79,136.76
 B5,1637,205.81,136.76
 E6,3403,149.51,140.66
 J8,3921,57.76,142.95
 L9,1130,21.72,142.95
 H7,2218,90.06,145.09
 C5,1631,187.79,147.17
 A4,0626,223.83,147.17
 F6,3408,131.48,151.07
 K8,3929,39.74,153.35
 G6,3415,108.08,155.49
 I7,2227,72.06,155.49
 D5,1617,169.79,157.57
 B4,0637,205.81,157.57
 E5,1603,149.51,161.47
 L8,3930,21.72,163.76
 H6,3418,90.06,165.89
 J7,2221,54.04,165.89
 C4,0631,187.79,167.97
 A3,1426,223.83,167.97
 F5,1608,131.48,171.87
 G5,1615,108.08,176.29
 K7,2229,36.02,176.29
 I6,3427,72.06,176.29
 D4,0617,169.79,178.37
 B3,1437,205.81,178.37
 E4,0603,149.51,182.27
 H5,1618,90.06,186.69
 J6,3421,54.04,186.69
 L7,2230,18.00,186.69
 C3,1431,187.79,188.77
 A2,0426,223.83,188.77
 F4,0608,131.48,192.67
 G4,0615,108.08,197.09
 I5,1627,72.06,197.09
 K6,3429,36.02,197.09
 D3,1417,169.79,199.18
 B2,0437,205.81,199.18
 E3,1403,149.51,203.08
 H4,0618,90.06,207.50
 J5,1621,54.04,207.50
 L6,3430,18.00,207.50
 C2,0431,187.79,209.58
 A1,3826,223.83,209.58
 F3,1408,131.48,213.48
 G3,1415,108.08,217.90
 I4,0627,72.06,217.90
 K5,1629,36.02,217.90
 D2,0417,169.79,219.98
 B1,3837,205.81,219.98
 E2,0403,149.51,223.88
 J4,0621,54.04,228.30
 H3,1418,90.06,228.30
 L5,1630,18.00,228.30
 C1,3831,187.79,230.38
 A0,3626,223.83,230.38
 F2,0408,131.48,234.28
 G2,0415,108.08,238.70
 I3,1427,72.06,238.70
 K4,0629,36.02,238.70
 D1,3817,169.79,240.78
 B0,3637,205.81,240.78
 E1,3803,149.51,244.68
 H2,0418,90.06,249.10
 J3,1421,54.04,249.10
 C0,3631,187.79,251.18
 F1,3808,131.48,255.09
 G1,3815,108.08,259.51
 I2,0427,72.06,259.51
 D0,3617,169.79,261.59
 E0,3603,149.51,265.49
 H1,3818,90.06,269.91`,tm=`name, anode_chip anode_line cathode_chip cathode_line, pos_x, pos_y
 A0,3119,251.83,18.00
 C0,3107,220.65,18.00
 E0,3113,189.47,18.00
 G0,3115,158.30,18.00
 I0,3118,127.12,18.00
 K0,3116,95.94,18.00
 M0,3114,64.77,18.00
 O0,3134,33.59,18.00
 B0,3102,236.24,27.00
 D0,3109,205.06,27.00
 F0,3108,173.88,27.00
 H0,3103,142.71,27.00
 J0,3106,111.53,27.00
 L0,3104,80.35,27.00
 N0,3100,49.18,27.00
 P0,3120,18.00,27.00
 A1,1119,251.83,36.00
 C1,1107,220.65,36.00
 E1,1113,189.47,36.00
 G1,1115,158.30,36.00
 I1,1118,127.12,36.00
 K1,1116,95.94,36.00
 M1,1114,64.77,36.00
 O1,1134,33.59,36.00
 B1,1102,236.24,45.00
 D1,1109,205.06,45.00
 F1,1108,173.88,45.00
 H1,1103,142.71,45.00
 J1,1106,111.53,45.00
 L1,1104,80.35,45.00
 N1,1100,49.18,45.00
 P1,1120,18.00,45.00
 A2,2619,251.83,54.00
 C2,2607,220.65,54.00
 E2,2613,189.47,54.00
 G2,2615,158.30,54.00
 I2,2618,127.12,54.00
 K2,2616,95.94,54.00
 M2,2614,64.77,54.00
 O2,2634,33.59,54.00
 B2,2602,236.24,63.00
 D2,2609,205.06,63.00
 F2,2608,173.88,63.00
 H2,2603,142.71,63.00
 J2,2606,111.53,63.00
 L2,2604,80.35,63.00
 N2,2600,49.18,63.00
 P2,2620,18.00,63.00
 A3,1719,251.83,72.00
 C3,1707,220.65,72.00
 E3,1713,189.47,72.00
 G3,1715,158.30,72.00
 I3,1718,127.12,72.00
 K3,1716,95.94,72.00
 M3,1714,64.77,72.00
 O3,1734,33.59,72.00
 B3,1702,236.24,81.00
 D3,1709,205.06,81.00
 F3,1708,173.88,81.00
 H3,1703,142.71,81.00
 J3,1706,111.53,81.00
 L3,1704,80.35,81.00
 N3,1700,49.18,81.00
 P3,1720,18.00,81.00
 A4,3019,251.83,90.00
 C4,3007,220.65,90.00
 E4,3013,189.47,90.00
 G4,3015,158.30,90.00
 I4,3018,127.12,90.00
 K4,3016,95.94,90.00
 M4,3014,64.77,90.00
 O4,3034,33.59,90.00
 B4,3002,236.24,99.00
 D4,3009,205.06,99.00
 F4,3008,173.88,99.00
 H4,3003,142.71,99.00
 J4,3006,111.53,99.00
 L4,3004,80.35,99.00
 N4,3000,49.18,99.00
 P4,3020,18.00,99.00
 A5,0019,251.83,108.00
 C5,0007,220.65,108.00
 E5,0013,189.47,108.00
 G5,0015,158.30,108.00
 I5,0018,127.12,108.00
 K5,0016,95.94,108.00
 M5,0014,64.77,108.00
 O5,0034,33.59,108.00
 B5,0002,236.24,117.00
 D5,0009,205.06,117.00
 F5,0008,173.88,117.00
 H5,0003,142.71,117.00
 J5,0006,111.53,117.00
 L5,0004,80.35,117.00
 N5,0000,49.18,117.00
 P5,0020,18.00,117.00
 A6,2119,251.83,126.00
 C6,2107,220.65,126.00
 E6,2113,189.47,126.00
 G6,2115,158.30,126.00
 I6,2118,127.12,126.00
 K6,2116,95.94,126.00
 M6,2114,64.77,126.00
 O6,2134,33.59,126.00
 B6,2102,236.24,135.00
 D6,2109,205.06,135.00
 F6,2108,173.88,135.00
 H6,2103,142.71,135.00
 J6,2106,111.53,135.00
 L6,2104,80.35,135.00
 N6,2100,49.18,135.00
 P6,2120,18.00,135.00
 A7,1219,251.83,144.00
 C7,1207,220.65,144.00
 E7,1213,189.47,144.00
 G7,1215,158.30,144.00
 I7,1218,127.12,144.00
 K7,1216,95.94,144.00
 M7,1214,64.77,144.00
 O7,1234,33.59,144.00
 B7,1202,236.24,153.00
 D7,1209,205.06,153.00
 F7,1208,173.88,153.00
 H7,1203,142.71,153.00
 J7,1206,111.53,153.00
 L7,1204,80.35,153.00
 N7,1200,49.18,153.00
 P7,1220,18.00,153.00
 A8,2319,251.83,162.00
 C8,2307,220.65,162.00
 E8,2313,189.47,162.00
 G8,2315,158.30,162.00
 I8,2318,127.12,162.00
 K8,2316,95.94,162.00
 M8,2314,64.77,162.00
 O8,2334,33.59,162.00
 B8,2302,236.24,171.00
 D8,2309,205.06,171.00
 F8,2308,173.88,171.00
 H8,2303,142.71,171.00
 J8,2306,111.53,171.00
 L8,2304,80.35,171.00
 N8,2300,49.18,171.00
 P8,2320,18.00,171.00
 A9,0119,251.83,180.00
 C9,0107,220.65,180.00
 E9,0113,189.47,180.00
 G9,0115,158.30,180.00
 I9,0118,127.12,180.00
 K9,0116,95.94,180.00
 M9,0114,64.77,180.00
 O9,0134,33.59,180.00
 B9,0102,236.24,189.00
 D9,0109,205.06,189.00
 F9,0108,173.88,189.00
 H9,0103,142.71,189.00
 J9,0106,111.53,189.00
 L9,0104,80.35,189.00
 N9,0100,49.18,189.00
 P9,0120,18.00,189.00
A10,0519,251.83,198.00
C10,0507,220.65,198.00
E10,0513,189.47,198.00
G10,0515,158.30,198.00
I10,0518,127.12,198.00
K10,0516,95.94,198.00
M10,0514,64.77,198.00
O10,0534,33.59,198.00
B10,0502,236.24,207.00
D10,0509,205.06,207.00
F10,0508,173.88,207.00
H10,0503,142.71,207.00
J10,0506,111.53,207.00
L10,0504,80.35,207.00
N10,0500,49.18,207.00
P10,0520,18.00,207.00
A11,1019,251.83,216.00
C11,1007,220.65,216.00
E11,1013,189.47,216.00
G11,1015,158.30,216.00
I11,1018,127.12,216.00
K11,1016,95.94,216.00
M11,1014,64.77,216.00
O11,1034,33.59,216.00
B11,1002,236.24,225.00
D11,1009,205.06,225.00
F11,1008,173.88,225.00
H11,1003,142.71,225.00
J11,1006,111.53,225.00
L11,1004,80.35,225.00
N11,1000,49.18,225.00
P11,1020,18.00,225.00
A12,2219,251.83,234.00
C12,2207,220.65,234.00
E12,2213,189.47,234.00
G12,2215,158.30,234.00
I12,2218,127.12,234.00
K12,2216,95.94,234.00
M12,2214,64.77,234.00
O12,2234,33.59,234.00
B12,2202,236.24,243.00
D12,2209,205.06,243.00
F12,2208,173.88,243.00
H12,2203,142.71,243.00
J12,2206,111.53,243.00
L12,2204,80.35,243.00
N12,2200,49.18,243.00
P12,2220,18.00,243.00
A13,2519,251.83,252.00
C13,2507,220.65,252.00
E13,2513,189.47,252.00
G13,2515,158.30,252.00
I13,2518,127.12,252.00
K13,2516,95.94,252.00
M13,2514,64.77,252.00
O13,2534,33.59,252.00
B13,2502,236.24,261.00
D13,2509,205.06,261.00
F13,2508,173.88,261.00
H13,2503,142.71,261.00
J13,2506,111.53,261.00
L13,2504,80.35,261.00
N13,2500,49.18,261.00
P13,2520,18.00,261.00
A14,3219,251.83,270.00
C14,3207,220.65,270.00
E14,3213,189.47,270.00
G14,3215,158.30,270.00
I14,3218,127.12,270.00
K14,3216,95.94,270.00
M14,3214,64.77,270.00
O14,3234,33.59,270.00
B14,3202,236.24,279.00
D14,3209,205.06,279.00
F14,3208,173.88,279.00
H14,3203,142.71,279.00
J14,3206,111.53,279.00
L14,3204,80.35,279.00
N14,3200,49.18,279.00
P14,3220,18.00,279.00
A15,2819,251.83,288.00
C15,2807,220.65,288.00
E15,2813,189.47,288.00
G15,2815,158.30,288.00
I15,2818,127.12,288.00
K15,2816,95.94,288.00
M15,2814,64.77,288.00
O15,2834,33.59,288.00
B15,2802,236.24,297.00
D15,2809,205.06,297.00
F15,2808,173.88,297.00
H15,2803,142.71,297.00
J15,2806,111.53,297.00
L15,2804,80.35,297.00
N15,2800,49.18,297.00
P15,2820,18.00,297.00
A16,3319,251.83,306.00
C16,3307,220.65,306.00
E16,3313,189.47,306.00
G16,3315,158.30,306.00
I16,3318,127.12,306.00
K16,3316,95.94,306.00
M16,3314,64.77,306.00
O16,3334,33.59,306.00
B16,3302,236.24,315.00
D16,3309,205.06,315.00
F16,3308,173.88,315.00
H16,3303,142.71,315.00
J16,3306,111.53,315.00
L16,3304,80.35,315.00
N16,3300,49.18,315.00
P16,3320,18.00,315.00
A17,2719,251.83,324.00
C17,2707,220.65,324.00
E17,2713,189.47,324.00
G17,2715,158.30,324.00
I17,2718,127.12,324.00
K17,2716,95.94,324.00
M17,2714,64.77,324.00
O17,2734,33.59,324.00
B17,2702,236.24,333.00
D17,2709,205.06,333.00
F17,2708,173.88,333.00
H17,2703,142.71,333.00
J17,2706,111.53,333.00
L17,2704,80.35,333.00
N17,2700,49.18,333.00
P17,2720,18.00,333.00
A18,3519,251.83,342.00
C18,3507,220.65,342.00
E18,3513,189.47,342.00
G18,3515,158.30,342.00
I18,3518,127.12,342.00
K18,3516,95.94,342.00
M18,3514,64.77,342.00
O18,3534,33.59,342.00
B18,3502,236.24,351.00
D18,3509,205.06,351.00
F18,3508,173.88,351.00
H18,3503,142.71,351.00
J18,3506,111.53,351.00
L18,3504,80.35,351.00
N18,3500,49.18,351.00
P18,3520,18.00,351.00
A19,2919,251.83,360.00
C19,2907,220.65,360.00
E19,2913,189.47,360.00
G19,2915,158.30,360.00
I19,2918,127.12,360.00
K19,2916,95.94,360.00
M19,2914,64.77,360.00
O19,2934,33.59,360.00
B19,2902,236.24,369.00
D19,2909,205.06,369.00
F19,2908,173.88,369.00
H19,2903,142.71,369.00
J19,2906,111.53,369.00
L19,2904,80.35,369.00
N19,2900,49.18,369.00
P19,2920,18.00,369.00
A20,3819,251.83,378.00
C20,3807,220.65,378.00
E20,3813,189.47,378.00
G20,3815,158.30,378.00
I20,3818,127.12,378.00
K20,3816,95.94,378.00
M20,3814,64.77,378.00
O20,3834,33.59,378.00
B20,3802,236.24,387.00
D20,3809,205.06,387.00
F20,3808,173.88,387.00
H20,3803,142.71,387.00
J20,3806,111.53,387.00
L20,3804,80.35,387.00
N20,3800,49.18,387.00
P20,3820,18.00,387.00
A21,3619,251.83,396.00
C21,3607,220.65,396.00
E21,3613,189.47,396.00
G21,3615,158.30,396.00
I21,3618,127.12,396.00
K21,3616,95.94,396.00
M21,3614,64.77,396.00
O21,3634,33.59,396.00
B21,3602,236.24,405.00
D21,3609,205.06,405.00
F21,3608,173.88,405.00
H21,3603,142.71,405.00
J21,3606,111.53,405.00
L21,3604,80.35,405.00
N21,3600,49.18,405.00
P21,3620,18.00,405.00
A22,3919,251.83,414.00
C22,3907,220.65,414.00
E22,3913,189.47,414.00
G22,3915,158.30,414.00
I22,3918,127.12,414.00
K22,3916,95.94,414.00
M22,3914,64.77,414.00
O22,3934,33.59,414.00
B22,3902,236.24,423.00
D22,3909,205.06,423.00
F22,3908,173.88,423.00
H22,3903,142.71,423.00
J22,3906,111.53,423.00
L22,3904,80.35,423.00
N22,3900,49.18,423.00
P22,3920,18.00,423.00
A23,3719,251.83,432.00
C23,3707,220.65,432.00
E23,3713,189.47,432.00
G23,3715,158.30,432.00
I23,3718,127.12,432.00
K23,3716,95.94,432.00
M23,3714,64.77,432.00
O23,3734,33.59,432.00
B23,3702,236.24,441.00
D23,3709,205.06,441.00
F23,3708,173.88,441.00
H23,3703,142.71,441.00
J23,3706,111.53,441.00
L23,3704,80.35,441.00
N23,3700,49.18,441.00
P23,3720,18.00,441.00`,nm=`name, anode_chip anode_line cathode_chip cathode_line, pos_x, pos_y
 A0,0401,18.00,18.00
 C0,0412,49.18,18.00
 E0,0435,80.35,18.00
 G0,0438,111.53,18.00
 I0,0431,142.71,18.00
 K0,0403,173.88,18.00
 M0,0409,205.06,18.00
 O0,0420,236.24,18.00
 Q0,0422,267.42,18.00
 B0,0432,33.59,27.00
 D0,0433,64.77,27.00
 F0,0417,95.94,27.00
 H0,0411,127.12,27.00
 J0,0416,158.30,27.00
 L0,0408,189.47,27.00
 N0,0423,220.65,27.00
 P0,0424,251.83,27.00
 R0,0414,283.00,27.00
 A1,3001,18.00,36.00
 C1,3012,49.18,36.00
 E1,3035,80.35,36.00
 G1,3038,111.53,36.00
 I1,3031,142.71,36.00
 K1,3003,173.88,36.00
 M1,3009,205.06,36.00
 O1,3020,236.24,36.00
 Q1,3022,267.42,36.00
 B1,3032,33.59,45.00
 D1,3033,64.77,45.00
 F1,3017,95.94,45.00
 H1,3011,127.12,45.00
 J1,3016,158.30,45.00
 L1,3008,189.47,45.00
 N1,3023,220.65,45.00
 P1,3024,251.83,45.00
 R1,3014,283.00,45.00
 A2,1901,18.00,54.00
 C2,1912,49.18,54.00
 E2,1935,80.35,54.00
 G2,1938,111.53,54.00
 I2,1931,142.71,54.00
 K2,1903,173.88,54.00
 M2,1909,205.06,54.00
 O2,1920,236.24,54.00
 Q2,1922,267.42,54.00
 B2,1932,33.59,63.00
 D2,1933,64.77,63.00
 F2,1917,95.94,63.00
 H2,1911,127.12,63.00
 J2,1916,158.30,63.00
 L2,1908,189.47,63.00
 N2,1923,220.65,63.00
 P2,1924,251.83,63.00
 R2,1914,283.00,63.00
 A3,0201,18.00,72.00
 C3,0212,49.18,72.00
 E3,0235,80.35,72.00
 G3,0238,111.53,72.00
 I3,0231,142.71,72.00
 K3,0203,173.88,72.00
 M3,0209,205.06,72.00
 O3,0220,236.24,72.00
 Q3,0222,267.42,72.00
 B3,0232,33.59,81.00
 D3,0233,64.77,81.00
 F3,0217,95.94,81.00
 H3,0211,127.12,81.00
 J3,0216,158.30,81.00
 L3,0208,189.47,81.00
 N3,0223,220.65,81.00
 P3,0224,251.83,81.00
 R3,0214,283.00,81.00
 A4,0701,18.00,90.00
 C4,0712,49.18,90.00
 E4,0735,80.35,90.00
 G4,0738,111.53,90.00
 I4,0731,142.71,90.00
 K4,0703,173.88,90.00
 M4,0709,205.06,90.00
 O4,0720,236.24,90.00
 Q4,0722,267.42,90.00
 B4,0732,33.59,99.00
 D4,0733,64.77,99.00
 F4,0717,95.94,99.00
 H4,0711,127.12,99.00
 J4,0716,158.30,99.00
 L4,0708,189.47,99.00
 N4,0723,220.65,99.00
 P4,0724,251.83,99.00
 R4,0714,283.00,99.00
 A5,1301,18.00,108.00
 C5,1312,49.18,108.00
 E5,1335,80.35,108.00
 G5,1338,111.53,108.00
 I5,1331,142.71,108.00
 K5,1303,173.88,108.00
 M5,1309,205.06,108.00
 O5,1320,236.24,108.00
 Q5,1322,267.42,108.00
 B5,1332,33.59,117.00
 D5,1333,64.77,117.00
 F5,1317,95.94,117.00
 H5,1311,127.12,117.00
 J5,1316,158.30,117.00
 L5,1308,189.47,117.00
 N5,1323,220.65,117.00
 P5,1324,251.83,117.00
 R5,1314,283.00,117.00
 A6,1501,18.00,126.00
 C6,1512,49.18,126.00
 E6,1535,80.35,126.00
 G6,1538,111.53,126.00
 I6,1531,142.71,126.00
 K6,1503,173.88,126.00
 M6,1509,205.06,126.00
 O6,1520,236.24,126.00
 Q6,1522,267.42,126.00
 B6,1532,33.59,135.00
 D6,1533,64.77,135.00
 F6,1517,95.94,135.00
 H6,1511,127.12,135.00
 J6,1516,158.30,135.00
 L6,1508,189.47,135.00
 N6,1523,220.65,135.00
 P6,1524,251.83,135.00
 R6,1514,283.00,135.00
 A7,1801,18.00,144.00
 C7,1812,49.18,144.00
 E7,1835,80.35,144.00
 G7,1838,111.53,144.00
 I7,1831,142.71,144.00
 K7,1803,173.88,144.00
 M7,1809,205.06,144.00
 O7,1820,236.24,144.00
 Q7,1822,267.42,144.00
 B7,1832,33.59,153.00
 D7,1833,64.77,153.00
 F7,1817,95.94,153.00
 H7,1811,127.12,153.00
 J7,1816,158.30,153.00
 L7,1808,189.47,153.00
 N7,1823,220.65,153.00
 P7,1824,251.83,153.00
 R7,1814,283.00,153.00
 A8,0601,18.00,162.00
 C8,0612,49.18,162.00
 E8,0635,80.35,162.00
 G8,0638,111.53,162.00
 I8,0631,142.71,162.00
 K8,0603,173.88,162.00
 M8,0609,205.06,162.00
 O8,0620,236.24,162.00
 Q8,0622,267.42,162.00
 B8,0632,33.59,171.00
 D8,0633,64.77,171.00
 F8,0617,95.94,171.00
 H8,0611,127.12,171.00
 J8,0616,158.30,171.00
 L8,0608,189.47,171.00
 N8,0623,220.65,171.00
 P8,0624,251.83,171.00
 R8,0614,283.00,171.00
 A9,0501,18.00,180.00
 C9,0512,49.18,180.00
 E9,0535,80.35,180.00
 G9,0538,111.53,180.00
 I9,0531,142.71,180.00
 K9,0503,173.88,180.00
 M9,0509,205.06,180.00
 O9,0520,236.24,180.00
 Q9,0522,267.42,180.00
 B9,0532,33.59,189.00
 D9,0533,64.77,189.00
 F9,0517,95.94,189.00
 H9,0511,127.12,189.00
 J9,0516,158.30,189.00
 L9,0508,189.47,189.00
 N9,0523,220.65,189.00
 P9,0524,251.83,189.00
 R9,0514,283.00,189.00
A10,1001,18.00,198.00
C10,1012,49.18,198.00
E10,1035,80.35,198.00
G10,1038,111.53,198.00
I10,1031,142.71,198.00
K10,1003,173.88,198.00
M10,1009,205.06,198.00
O10,1020,236.24,198.00
Q10,1022,267.42,198.00
B10,1032,33.59,207.00
D10,1033,64.77,207.00
F10,1017,95.94,207.00
H10,1011,127.12,207.00
J10,1016,158.30,207.00
L10,1008,189.47,207.00
N10,1023,220.65,207.00
P10,1024,251.83,207.00
R10,1014,283.00,207.00
A11,2101,18.00,216.00
C11,2112,49.18,216.00
E11,2135,80.35,216.00
G11,2138,111.53,216.00
I11,2131,142.71,216.00
K11,2103,173.88,216.00
M11,2109,205.06,216.00
O11,2120,236.24,216.00
Q11,2122,267.42,216.00
B11,2132,33.59,225.00
D11,2133,64.77,225.00
F11,2117,95.94,225.00
H11,2111,127.12,225.00
J11,2116,158.30,225.00
L11,2108,189.47,225.00
N11,2123,220.65,225.00
P11,2124,251.83,225.00
R11,2114,283.00,225.00
A12,3901,18.00,234.00
C12,3912,49.18,234.00
E12,3935,80.35,234.00
G12,3938,111.53,234.00
I12,3931,142.71,234.00
K12,3903,173.88,234.00
M12,3909,205.06,234.00
O12,3920,236.24,234.00
Q12,3922,267.42,234.00
B12,3932,33.59,243.00
D12,3933,64.77,243.00
F12,3917,95.94,243.00
H12,3911,127.12,243.00
J12,3916,158.30,243.00
L12,3908,189.47,243.00
N12,3923,220.65,243.00
P12,3924,251.83,243.00
R12,3914,283.00,243.00
A13,3701,18.00,252.00
C13,3712,49.18,252.00
E13,3735,80.35,252.00
G13,3738,111.53,252.00
I13,3731,142.71,252.00
K13,3703,173.88,252.00
M13,3709,205.06,252.00
O13,3720,236.24,252.00
Q13,3722,267.42,252.00
B13,3732,33.59,261.00
D13,3733,64.77,261.00
F13,3717,95.94,261.00
H13,3711,127.12,261.00
J13,3716,158.30,261.00
L13,3708,189.47,261.00
N13,3723,220.65,261.00
P13,3724,251.83,261.00
R13,3714,283.00,261.00
A14,2601,18.00,270.00
C14,2612,49.18,270.00
E14,2635,80.35,270.00
G14,2638,111.53,270.00
I14,2631,142.71,270.00
K14,2603,173.88,270.00
M14,2609,205.06,270.00
O14,2620,236.24,270.00
Q14,2622,267.42,270.00
B14,2632,33.59,279.00
D14,2633,64.77,279.00
F14,2617,95.94,279.00
H14,2611,127.12,279.00
J14,2616,158.30,279.00
L14,2608,189.47,279.00
N14,2623,220.65,279.00
P14,2624,251.83,279.00
R14,2614,283.00,279.00
A15,3601,18.00,288.00
C15,3612,49.18,288.00
E15,3635,80.35,288.00
G15,3638,111.53,288.00
I15,3631,142.71,288.00
K15,3603,173.88,288.00
M15,3609,205.06,288.00
O15,3620,236.24,288.00
Q15,3622,267.42,288.00
B15,3632,33.59,297.00
D15,3633,64.77,297.00
F15,3617,95.94,297.00
H15,3611,127.12,297.00
J15,3616,158.30,297.00
L15,3608,189.47,297.00
N15,3623,220.65,297.00
P15,3624,251.83,297.00
R15,3614,283.00,297.00
A16,3401,18.00,306.00
C16,3412,49.18,306.00
E16,3435,80.35,306.00
G16,3438,111.53,306.00
I16,3431,142.71,306.00
K16,3403,173.88,306.00
M16,3409,205.06,306.00
O16,3420,236.24,306.00
Q16,3422,267.42,306.00
B16,3432,33.59,315.00
D16,3433,64.77,315.00
F16,3417,95.94,315.00
H16,3411,127.12,315.00
J16,3416,158.30,315.00
L16,3408,189.47,315.00
N16,3423,220.65,315.00
P16,3424,251.83,315.00
R16,3414,283.00,315.00
A17,2701,18.00,324.00
C17,2712,49.18,324.00
E17,2735,80.35,324.00
G17,2738,111.53,324.00
I17,2731,142.71,324.00
K17,2703,173.88,324.00
M17,2709,205.06,324.00
O17,2720,236.24,324.00
Q17,2722,267.42,324.00
B17,2732,33.59,333.00
D17,2733,64.77,333.00
F17,2717,95.94,333.00
H17,2711,127.12,333.00
J17,2716,158.30,333.00
L17,2708,189.47,333.00
N17,2723,220.65,333.00
P17,2724,251.83,333.00
R17,2714,283.00,333.00
A18,2801,18.00,342.00
C18,2812,49.18,342.00
E18,2835,80.35,342.00
G18,2838,111.53,342.00
I18,2831,142.71,342.00
K18,2803,173.88,342.00
M18,2809,205.06,342.00
O18,2820,236.24,342.00
Q18,2822,267.42,342.00
B18,2832,33.59,351.00
D18,2833,64.77,351.00
F18,2817,95.94,351.00
H18,2811,127.12,351.00
J18,2816,158.30,351.00
L18,2808,189.47,351.00
N18,2823,220.65,351.00
P18,2824,251.83,351.00
R18,2814,283.00,351.00
A19,2501,18.00,360.00
C19,2512,49.18,360.00
E19,2535,80.35,360.00
G19,2538,111.53,360.00
I19,2531,142.71,360.00
K19,2503,173.88,360.00
M19,2509,205.06,360.00
O19,2520,236.24,360.00
Q19,2522,267.42,360.00
B19,2532,33.59,369.00
D19,2533,64.77,369.00
F19,2517,95.94,369.00
H19,2511,127.12,369.00
J19,2516,158.30,369.00
L19,2508,189.47,369.00
N19,2523,220.65,369.00
P19,2524,251.83,369.00
R19,2514,283.00,369.00
A20,2901,18.00,378.00
C20,2912,49.18,378.00
E20,2935,80.35,378.00
G20,2938,111.53,378.00
I20,2931,142.71,378.00
K20,2903,173.88,378.00
M20,2909,205.06,378.00
O20,2920,236.24,378.00
Q20,2922,267.42,378.00
B20,2932,33.59,387.00
D20,2933,64.77,387.00
F20,2917,95.94,387.00
H20,2911,127.12,387.00
J20,2916,158.30,387.00
L20,2908,189.47,387.00
N20,2923,220.65,387.00
P20,2924,251.83,387.00
R20,2914,283.00,387.00
A21,0001,18.00,396.00
C21,0012,49.18,396.00
E21,0035,80.35,396.00
G21,0038,111.53,396.00
I21,0031,142.71,396.00
K21,0003,173.88,396.00
M21,0009,205.06,396.00
O21,0020,236.24,396.00
Q21,0022,267.42,396.00
B21,0032,33.59,405.00
D21,0033,64.77,405.00
F21,0017,95.94,405.00
H21,0011,127.12,405.00
J21,0016,158.30,405.00
L21,0008,189.47,405.00
N21,0023,220.65,405.00
P21,0024,251.83,405.00
R21,0014,283.00,405.00`;function Zr(e){const t=[];let n=!1;for(const r of e.split(`
`)){if(!r.trim())continue;if(!n){n=!0;continue}const i=r.split(",").map(o=>o.trim());t.push([parseInt(i[1],16),[+i[2],+i[3]],i[0]])}return t}const Xn=[{name:"16×24",grid:new Ct(Zr(tm))},{name:"18×22",grid:new Ct(Zr(nm))},{name:"Glove v12c",grid:new Ct(Zr(em))}];let ye={kind:null,size:[0,0],demo_size:[0,0],value:null},an=null;function rm(e){const t=e.active_mode?.tag;return t!=null&&It[t]?.tags?.includes("requires_hand_preview")?!0:null}function Ft(e){return rm(e)??e.config_use_demo_mode}function et(e){const t=im(e),n=e.grid_transform_matrix;return n.isIdentity?t:an?.[0]===n&&an?.[1]===t?an?.[2]:(an=[n,t,new Ct(Qg(t,n))],an[2])}function Mi(e){const t=wt()?.board_type;return t==="palm"?"Glove v12c":t==="patch"?"18×22":e.active_mode?.mode.config?.override_grid?e.active_mode.mode.config.override_grid:Ft(e)?"Glove v12c":null}function im(e){const t=Mi(e);if(t!=null)return Xn.find(r=>r.name===t).grid;const n=e.settings;if(n.grid_kind==="Demo"){let r=e.demo_grid_size;if(n.grid_kind===ye.kind&&N.eql(r,ye.demo_size))return ye.value;ye.demo_size=r;const i=r[0]*Math.sqrt(3)/(r[1]*1.5);let o=[20,20];return i>1?(o[1]/=i,o[1]=Math.round(o[1])):i<1&&(o[0]*=i,o[0]=Math.round(o[0])),n.grid_kind===ye.kind&&N.eql(o,ye.size)||(ye.kind=n.grid_kind,ye.size=o,ye.value=new Ct(Es(o,"zig"))),ye.value}return n.grid_kind===ye.kind&&N.eql(n.grid_custom_size,ye.size)||(ye.kind=n.grid_kind,ye.size=n.grid_custom_size,ye.value=Xn.find(r=>r.name===n.grid_kind)?.grid??(n.grid_kind==="Custom Rect"?new Ct(Zg(n.grid_custom_size)):n.grid_kind==="Custom Hex"?new Ct(Es(n.grid_custom_size,"zig")):Xn[0].grid)),ye.value}function Ts(...e){}const Cs=1e3,om=10,Ps=2e5;function ho(e){return e.on_duration_us+e.off_duration_us+om}function go(e){let t=0;for(const n of e)t+=ho(n);return t}let sm=0;class oc{preview_taps=[];buffer=[];buffer_len_us=0;wait_buffer_empty=null;wait_buffer_empty_resolve=null;wait_buffer_ready=null;wait_buffer_ready_resolve=null;dead=!1;kill(){this.clear(),this.dead=!0}add(t){this.dead||this._addToBuffer(t)}async addAndWait(t){const n=sm++;Ts("start add",n,":",t.length),this.add(t),await this.waitBufferReady(),!this.dead&&Ts("add complete",n,":",t.length)}async waitEmpty(){await this.wait_buffer_empty}async waitBufferReady(){await this.wait_buffer_ready}clear(){this.buffer_len_us!==0&&this.forceClear()}forceClear(){this.buffer=[],this.buffer_len_us=0,this._notifyBufferChanged(),this._notifyCleared()}_addToBuffer(t){for(const n of t)this.buffer.push(n),this.buffer_len_us+=ho(n);this.buffer_len_us>0&&(this.wait_buffer_empty??=new Promise(n=>{this.wait_buffer_empty_resolve=n})),this.buffer_len_us>Ps&&(this.wait_buffer_ready??=new Promise(n=>{this.wait_buffer_ready_resolve=n})),this._notifyAdded(t)}_removeTappedFromBuffer(t){const n=this.buffer.splice(0,t);this.buffer_len_us-=go(n),be(this.buffer_len_us>=0),this._notifyBufferChanged();for(const r of n)r.idx!=="none"&&this.preview_taps.push(r.idx)}_notifyBufferChanged(){this.buffer_len_us===0&&(this.wait_buffer_empty_resolve?.(),this.wait_buffer_empty=null,this.wait_buffer_empty_resolve=null),this.buffer_len_us<=Ps&&(this.wait_buffer_ready!=null,this.wait_buffer_ready_resolve?.(),this.wait_buffer_ready=null,this.wait_buffer_ready_resolve=null)}}const As=512,Qr=2048,Ds=1024,am=512;let ln=0;function Is(){return ln+=1,ln>255&&(ln=1),be(ln!==0),ln}class lm extends oc{constructor(t){super(),this.connection=t}_sending=!1;unsent_queue=[];remote_tap_count=0;remote_tapout_id=1;remote_tap_buffer=null;should_clear=!1;wait_device_buffer_ready=null;wait_device_buffer_ready_resolve=null;_notifyAdded(t){for(const n of t)this.unsent_queue.push(n);this._sending||this._send().catch(De)}_notifyCleared(){this.unsent_queue=[],this.remote_tap_count=0,this.remote_tap_buffer=null,this.should_clear=!0,setTimeout(()=>{this._sending||this._send().catch(De)},100)}async _send(){be(!this._sending),this._sending=!0;const t=oe(()=>et(Ie()));for(;this.unsent_queue.length&&!(this.remote_tap_count>Ds);){const n=[],r=Is();be(r!==0),this.should_clear?(n.push(Je(Ms)),this.should_clear=!1):n.push(Je(fm)),n.push(Je(r));let i=0,o=0;for(;this.unsent_queue.length&&(be(o++<1e4),!(n.length+6>As));){const s=this.unsent_queue.shift();let a;s.idx==="none"?a=0:a=t.toTapMsg(s.idx);const l=a>>8&255,c=a&255;be((l<<8|c)==a);const u=s.on_duration_us/10,d=s.off_duration_us/100,f=u>>8,m=u&255;be((f<<8|m)===u);const g=d>>8,p=d&255;be((g<<8|p)===d),n.push(Je(f),Je(m),Je(g),Je(p),Je(l),Je(c)),i+=1}if(be(n.length>2),be(n.length<=As),be(this.remote_tap_count+i<=Qr),await this.connection.sendMessageSequenced(new Uint8Array(n)),this.dead)return;this.remote_tap_count+=i,this.remote_tap_buffer=this.buffer,this.remote_tapout_id=r}if(this.should_clear){this.should_clear=!1;const n=Is();await this.connection.sendMessageSequenced(new Uint8Array([Ms,Je(n)])),this.remote_tapout_id=n}if(this._sending=!1,this.unsent_queue.length){if(this.remote_tap_count>Ds&&(this.wait_device_buffer_ready=new Promise(n=>{this.wait_device_buffer_ready_resolve=n}),await this.wait_device_buffer_ready,this.dead))return;this._sending||this._send().catch(De)}}bleStatusMessageReceived(t){if(this.remote_tap_buffer!==this.buffer||t.tapout_id!==this.remote_tapout_id)return;const n=this.remote_tap_count-(Qr-t.headroom);this.remote_tap_count-=n,be(this.remote_tap_count>=0),this._removeTappedFromBuffer(n),Qr-t.headroom<=am&&(this.wait_device_buffer_ready_resolve?.(),this.wait_device_buffer_ready=null,this.wait_device_buffer_ready_resolve=null)}}class mo extends oc{_simulating=!1;_notifyAdded(t){this._simulating||this._simulate().catch(De)}_notifyCleared(){}async _simulate(){be(!this._simulating),this._simulating=!0;const t=Date.now();let n=0;for(;;){const r=this.buffer[0];if(r==null)break;const i=ho(r);if(n+=i,this._removeTappedFromBuffer(1),await cm(t,n),this.dead)return}this._simulating=!1}}async function cm(e,t){const i=(Date.now()-e)*Cs;if(i<t){const o=t-i,s=Math.floor(o/Cs);await um(s)}}async function um(e){e!==0&&await new Promise(t=>setTimeout(t,e))}function Je(e){return be(e<=255),be(e>=0),be((e|0)===e),e}const dm=2,Ms=3,fm=1,Os=1,hm=3;let He=null,[ut,Jn]=I(!1),[_t,Ls]=I(null);function gm(e){return e==="patch"?"Patch":e==="palm"?"Palm":"Unknown"}let[wt,ks]=I(null),[mm,db]=I([]);function ei(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join(",")}const pm=6553.5;function Ht(e){return be(e.length===4),e[0]<<24|e[1]<<16|e[2]<<8|e[3]<<0}function sc(){return typeof navigator.bluetooth<"u"}async function bm(){let e=!0,t;const n=Date.now();try{t=await navigator.bluetooth.requestDevice({filters:[{services:["4fafc201-1fb5-459e-8fcc-c5c9c331914b"]}]})}catch(f){if(Date.now()>n+100&&f.toString().includes("User cancelled"))return;throw f}Jn("connecting"),Yt("Connected",t.name??"");function r(){He=null,e=!1,Jn(!1),Ls(null),ks(null),oe(()=>Ie().tappy=new mo)}t.addEventListener("gattserverdisconnected",()=>{e&&(Yt("Bluetooth Disconnected",t.name??""),r())});const i=await t.gatt?.connect();if(i==null)throw new Error("No gatt");const o=await i.getPrimaryService("4fafc201-1fb5-459e-8fcc-c5c9c331914b"),s=await o.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b26a8"),a=await o.getCharacteristic("d036e381-fd38-4376-801f-f5d90ba2ca64");await a.startNotifications(),a.addEventListener("characteristicvaluechanged",f=>{const m=a.value;if(m==null)return;const g=new Uint8Array(m.buffer);g[0]===Os?window.__periodic_update=ei(g):console.log("/","device→app",ei(g)),He?.onMessage?.(g)});let l=!1,c=[],u=!1;if(He!=null)throw new Error("bluetooth already connected");He={onMessage:f=>{if(!(!e||!He)){if(f[0]===hm&&!u){u=!0;const m=f.subarray(1,7),g={hardware:[f[7],f[8]],firmware:[f[9],f[10],f[11]],board:[f[13],f[14]]},p=f[12];ks({serial_number:m,versions:g,board_type:p===1?"patch":p===2?"palm":"unknown"})}else if(f[0]===Os){const m=f[1],g=f[2],p=f[3]<<8|f[4],b=f.subarray(5,31),y=b.subarray(0,4),v=b.subarray(4,8),_=b.subarray(8,12),w=b.subarray(12,16),P=b.subarray(16,20),x=b.subarray(20,24),L=b.subarray(24,26),O=Ht(y)/1e3,T=Ht(v)/1e3,M=Ht(_)/1e3,k=Ht(w)/1e3,V=Ht(P)/1e3,W=Ht(x)/1e3;Ls({has_battery:m!==0,battery_percent:m,update_time:Date.now(),imu:{accel:[O,T,M],gyro:[k,V,W],temp:(L[0]<<8|L[1])/10},raw:f}),d.bleStatusMessageReceived({tapout_id:g,headroom:p})}}},sendMessageSequenced:async f=>{e&&(console.log("/","app→device",ei(f)),l&&await new Promise(m=>c.push(m)),e&&(l=!0,await s.writeValueWithResponse(f),l=!1,c.shift()?.()))},disconnect:()=>{i.disconnect(),r()}},Jn(!0);const d=new lm(He);oe(()=>{Ie().tappy=d}),He.sendMessageSequenced(new Uint8Array([dm]))}function ac(){return sc()?null:window.isSecureContext?"Web Bluetooth is not available on your browser. TappyApp is supported on Google Chrome for Desktop or Android. TappyApp is not supported on iOS, Firefox, or Safari. On Linux, Web Bluetooth API support must be enabled in Chrome flags.":"TappyApp is not being accessed from a secure context. Make sure the URL starts with 'https://'"}function lc(){if(He==null){const e=ac();if(e!=null){Yt("Bluetooth Unavailable",e,{display:"error"});return}bm().catch(t=>{De(t);const n=He;He=null,Jn(!1),n?.disconnect(),Ie().tappy=new mo})}}function vm(){He!=null?He.disconnect():lc()}function Bt(e){return h(xe,{class:"whitespace-nowrap overflow-hidden text-ellipsis",get children(){return e.children}})}var ym=A('<button class="flex gap-2 items-center disabled:opacity-50 text-center text-[#60646c] border border-[#d3d4db] rounded-md px-3 h-8">');function _m(e){return(()=>{var t=ym();return t.$$click=()=>{if(e.onClick==null)return alert("TODO");e.onClick()},D(t,()=>e.icon,null),D(t,h(Bt,{get children(){return e.label}}),null),j(()=>t.disabled=e.disabled),t})()}$e(["click"]);var wn=A("<div>"),wm=A('<div class="flex-1 min-w-0">'),xm=A('<div class="flex-0 min-w-0">'),Sm=A("<div data-v>"),Em=A('<div class="flex-1 min-h-0">'),Tm=A('<div class="flex-0 min-h-0">');function te(e){return(()=>{var t=wn();return D(t,()=>e.children),j(n=>{var r="h-full flex flex-row "+(e.no_x?"":"w-full ")+(e.wrap?"flex-wrap ":""),i=e.gap?e.gap/4+"rem":void 0,o=e.align??void 0;return r!==n.e&&se(t,n.e=r),i!==n.t&&((n.t=i)!=null?t.style.setProperty("gap",i):t.style.removeProperty("gap")),o!==n.a&&((n.a=o)!=null?t.style.setProperty("align-items",o):t.style.removeProperty("align-items")),n},{e:void 0,t:void 0,a:void 0}),t})()}(function(e){function t(o){return(()=>{var s=wn();return D(s,()=>o.children),j(()=>o.size/4+"rem"!=null?s.style.setProperty("width",o.size/4+"rem"):s.style.removeProperty("width")),s})()}e.Sized=t;function n(o){return(()=>{var s=wn();return D(s,()=>o.children),s})()}e.Intrinsic=n;function r(o){return(()=>{var s=wm();return D(s,()=>o.children),s})()}e.Fill=r;function i(o){return(()=>{var s=xm();return D(s,()=>o.children),s})()}e.Collapse=i})(te||(te={}));function ze(e){return(()=>{var t=Sm();return D(t,()=>e.children),j(n=>{var r="w-full flex flex-col "+(e.no_y?"":"h-full "),i=e.gap?e.gap/4+"rem":void 0,o=e.align??void 0;return r!==n.e&&se(t,n.e=r),i!==n.t&&((n.t=i)!=null?t.style.setProperty("gap",i):t.style.removeProperty("gap")),o!==n.a&&((n.a=o)!=null?t.style.setProperty("align-items",o):t.style.removeProperty("align-items")),n},{e:void 0,t:void 0,a:void 0}),t})()}(function(e){function t(o){return(()=>{var s=wn();return D(s,()=>o.children),j(()=>o.size/4+"rem"!=null?s.style.setProperty("height",o.size/4+"rem"):s.style.removeProperty("height")),s})()}e.Sized=t;function n(o){return(()=>{var s=wn();return D(s,()=>o.children),s})()}e.Intrinsic=n;function r(o){return(()=>{var s=Em();return D(s,()=>o.children),s})()}e.Fill=r;function i(o){return(()=>{var s=Tm();return D(s,()=>o.children),s})()}e.Collapse=i})(ze||(ze={}));var Cm=A("<div title=Connected>");function Pm(e){return(()=>{var t=Cm();return j(()=>se(t,"w-2 h-2 rounded-full "+["bg-red-500","bg-orange-500","bg-[#20C811]"][e.status])),t})()}var Am=A("<div title=Battery><div>"),Dm=A("<div>%");function Im(e){const t=()=>e.percent,n=()=>e.percent<10;return h(te,{align:"center",gap:2,get children(){return[(()=>{var r=Am(),i=r.firstChild;return j(o=>{var s=(n()?"border-[#E84228] shadow-[#E84228]":"border-black shadow-black-500")+" h-2 w-4 p-[1px] border-2 box-content rounded shadow-[5px_0px_0px_-3px]",a=(n()?"bg-[#E84228]":"bg-black")+" h-full rounded-[0.0625rem]",l=t()+"%";return s!==o.e&&se(r,o.e=s),a!==o.t&&se(i,o.t=a),l!==o.a&&((o.a=l)!=null?i.style.setProperty("width",l):i.style.removeProperty("width")),o},{e:void 0,t:void 0,a:void 0}),r})(),(()=>{var r=Dm(),i=r.firstChild;return D(r,t,i),r})()]}})}var Mm=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="m12 15.375l-6-6l1.4-1.4l4.6 4.6l4.6-4.6l1.4 1.4z">');const cc=e=>(()=>{var t=Mm();return re(t,e,!0,!0),t})();var Om=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="m7.4 15.375l-1.4-1.4l6-6l6 6l-1.4 1.4l-4.6-4.6z">');const Lm=e=>(()=>{var t=Om();return re(t,e,!0,!0),t})();var km=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6z">');const Rm=e=>(()=>{var t=km();return re(t,e,!0,!0),t})();var Fm=A('<div class="ui-group-expanded:hidden flex">'),Bm=A('<div class="ui-group-expanded:flex hidden">'),$m=A("<div>"),Nm=A('<div class="group pl-2 pr-4"><button class="contents text-left"></button><div>');function Hm(e){return h(Kf,{get defaultOpen(){return!e.defaultClosed},class:"group pl-2 pr-4",get children(){return[h(Gf,{class:"contents text-left",get children(){return h(xe,{x:!0,class:"text-base font-bold",get children(){return h(te,{align:"center",get children(){return[h(te.Fill,{get children(){return h(Bt,{get children(){return h(xe,{class:"select-none",get children(){return e.title}})}})}}),(()=>{var t=Fm();return D(t,h(cc,{})),t})(),(()=>{var t=Bm();return D(t,h(Lm,{})),t})()]}})}})}}),h(Hf,{class:"animate-[slideUp_100ms_ease-out] ui-expanded:animate-[slideDown_100ms_ease-out]",get children(){return h(xe,{x:!0,class:"pt-3",get children(){return e.children}})}})]}})}function Km(e){return(()=>{var t=Nm(),n=t.firstChild,r=n.nextSibling;return n.$$click=()=>e.close(),D(n,h(xe,{x:!0,class:"text-base font-bold",get children(){return h(te,{align:"center",get children(){return[h(te.Fill,{get children(){return h(Bt,{get children(){return h(xe,{class:"select-none",get children(){return e.title}})}})}}),(()=>{var i=$m();return D(i,h(Rm,{})),i})()]}})}})),D(r,h(xe,{x:!0,class:"pt-3",get children(){return e.children}})),t})()}$e(["click"]);var Vm=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M11 17h2v-6h-2zm1-8q.425 0 .713-.288T13 8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8q0 .425.288.713T12 9m0 13q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-8">');const Um=e=>(()=>{var t=Vm();return re(t,e,!0,!0),t})();var Gm=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="M11 22v-7.6L6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5L11 9.6V2h1l5.7 5.7l-4.3 4.3l4.3 4.3L12 22zm2-12.4l1.9-1.9L13 5.85zm0 8.55l1.9-1.85l-1.9-1.9z">');const uc=e=>(()=>{var t=Gm();return re(t,e,!0,!0),t})();var qm=A("<div>"),zm=A(`<div class="whitespace-pre-wrap font-mono pt-2 text-gray-600">TappyTap: <!>
Firmware: <!>
Board: <!> <!>
Serial Number: <!>
Battery: <!>%
Accel:
<!>
Gyro:
<!>
Temp: <!>
Errors: <!>
Raw: `),jm=A("<p>"),Wm=A('<button class="w-8 h-8 flex items-center justify-center">');function Xm(e){return(()=>{var t=qm();return Ae(n=>{Mt(()=>n.scrollIntoView(!0))},t),D(t,h(Km,{title:"Connection Details",close:()=>{e.close()},get children(){return h(Te,{get when(){return ac()},get fallback(){return(()=>{var n=zm(),r=n.firstChild,i=r.nextSibling,o=i.nextSibling,s=o.nextSibling,a=s.nextSibling,l=a.nextSibling,c=l.nextSibling,u=c.nextSibling,d=u.nextSibling,f=d.nextSibling,m=f.nextSibling,g=m.nextSibling,p=g.nextSibling,b=p.nextSibling,y=b.nextSibling,v=y.nextSibling,_=v.nextSibling,w=_.nextSibling,P=w.nextSibling,x=P.nextSibling;return x.nextSibling,D(n,()=>wt()?.versions.hardware.map(L=>""+L).join(".")??"...",i),D(n,()=>wt()?.versions.firmware.map(L=>""+L).join(".")??"...",s),D(n,()=>wt()?.board_type,l),D(n,()=>wt()?.versions.board.map(L=>""+L).join(".")??"...",u),D(n,()=>[...wt()?.serial_number??[]].map(L=>L.toString(16).padStart(2,"0")).join(":"),f),D(n,()=>_t()?.battery_percent,g),D(n,()=>_t()?.imu.accel.map((L,O)=>"  "+O+": "+L.toFixed(3).padStart(15," ")).join(`
`),b),D(n,()=>_t()?.imu.gyro.map((L,O)=>"  "+O+": "+L.toFixed(3).padStart(15," ")).join(`
`),v),D(n,()=>_t()?.imu.temp.toString(10).padStart(4," "),w),D(n,()=>mm().join(", "),x),D(n,()=>[..._t()?.raw??[]].map(L=>L.toString(16).padStart(2,"0")).join(" "),null),n})()},children:n=>(()=>{var r=jm();return D(r,n),r})()})}})),t})()}function Jm(e){const t=()=>_t()?.battery_percent??0,n=()=>_t()?.has_battery??!1,r=S(()=>ut()==="connecting"?"Connecting...":ut()!==!0?"Not Connected":"TappyTap "+gm(wt()?.board_type??"unknown"));return h(te,{no_x:!0,align:"center",gap:2,get children(){return[h(te.Intrinsic,{get children(){return h(Pm,{get status(){return S(()=>ut()===!0)()?2:ut()==="connecting"?1:0}})}}),h(te.Collapse,{get children(){return h(Bt,{get children(){return r()}})}}),S(()=>S(()=>!!n())()?h(te.Intrinsic,{get children(){return h(Im,{get percent(){return t()}})}}):null),S(()=>S(()=>!1)()?null:h(_m,{onClick:()=>vm(),get disabled(){return ut()==="connecting"||!sc()},get icon(){return S(()=>ut()===!1)()?h(uc,{}):null},get label(){return S(()=>ut()===!0)()?"Disconnect":ut()==="connecting"?"Connecting...":"Connect Device"}})),(()=>{var i=Wm();return i.$$click=()=>{e.setDetailsOpen(!e.details_open)},D(i,h(Um,{})),i})()]}})}$e(["click"]);var Ym=A("<button>");function Vn(e){const{state:t,setState:n}=ne(Xe);return(()=>{var r=Ym();return r.$$click=()=>{if(!e.action)return alert("TODO");e.action.callback(t(),n)},D(r,()=>e.children),j(i=>{var o=e.action?.name,s=e.disabled,a="w-10 h-10 flex flex-col items-center justify-center "+(e.value?"bg-[#ededf0] rounded-md ":"")+(e.disabled?"opacity-50 ":"");return o!==i.e&&Ve(r,"title",i.e=o),s!==i.t&&(r.disabled=i.t=s),a!==i.a&&se(r,i.a=a),i},{e:void 0,t:void 0,a:void 0}),r})()}$e(["click"]);var Zm=A('<div class="absolute left-0 h-full bg-black animate-[fadeOut_0.1s_linear]">'),Qm=A('<div class="w-36 h-1 bg-[#dcdcdc] relative"><div class="absolute left-0 h-full bg-black">');function e2(e){let t=0,n,r;return R(()=>{const i=e.percent;i<t&&oe(()=>{const o=(()=>{var s=Zm();return j(()=>+Math.max(0,Math.min(100,Math.round(t*100)))+"%"!=null?s.style.setProperty("width",+Math.max(0,Math.min(100,Math.round(t*100)))+"%"):s.style.removeProperty("width")),s})();n.insertBefore(o,r),o.onanimationend=()=>o.remove(),setTimeout(()=>o.remove,1e3)}),t=i}),(()=>{var i=Qm(),o=i.firstChild,s=n;typeof s=="function"?Ae(s,i):n=i;var a=r;return typeof a=="function"?Ae(a,o):r=o,j(()=>+Math.max(0,Math.min(100,Math.round(e.percent*100)))+"%"!=null?o.style.setProperty("width",+Math.max(0,Math.min(100,Math.round(e.percent*100)))+"%"):o.style.removeProperty("width")),i})()}var t2=A('<div class=px-2><hr class="border-l-[#C5C8D7] w-auto h-10 border-0 border-l">');function n2(){return t2()}const[Ze,po]=I({},{equals:!1});function dc(){const e=Ze();e.media_stream!=null&&(e.media_stream.getTracks().forEach(t=>t.stop()),e.media_stream=void 0)}function fc(){dc(),po(e=>e)}function Or(e,t=!1){const n=Ze();navigator.mediaDevices.getUserMedia({video:e?{deviceId:e}:!0}).then(r=>{dc(),n.media_stream=r;const o=r.getVideoTracks()[0];let s=!1;o!=null&&o.getCapabilities!=null&&o.getCapabilities().facingMode?.includes("environment")&&(s=!0),n.media_stream_no_flip=s,po(a=>a)}).catch(r=>{t||De(r)})}function r2(){const e=Ze();return((e.media_stream&&e.video_el)??null)!=null}function i2(e){if(Ft(e))return!0;const t=e.active_mode?.tag;return!!(t!=null&&It[t]?.tags?.includes("requires_worker"))}function hc(e){if(Ft(e))return!0;const t=e.active_mode?.tag;return!!(t!=null&&It[t]?.tags?.includes("requires_camera"))}let ti=null;function fb(){ti!=null&&clearTimeout(ti),ti=setTimeout(()=>{fc()},1e3);const e=Ze(),t=(e.media_stream&&e.video_el)??null;return t??null}function hb(){const e=Ze();return!((e.media_stream&&e.video_el&&e.media_stream_no_flip)??!1)}const Rs=()=>po(e=>e);function o2(e){return h(te,{align:"center",get children(){return[h(te.Fill,{get children(){return h(Bt,{get children(){return e.label}})}}),h(te.Intrinsic,{get children(){return h(xe,{class:"w-40",get children(){return e.children}})}})]}})}var s2=A('<svg viewBox="0 0 24 24"width=1.2em height=1.2em><path fill=currentColor d="m9.55 18l-5.7-5.7l1.425-1.425L9.55 15.15l9.175-9.175L20.15 7.4z">');const gc=e=>(()=>{var t=s2();return re(t,e,!0,!0),t})();function mc(e){const t="mt-1 dropdown-menu__content-animations max-h-[var(--kb-popper-content-available-height)] overflow-y-auto min-w-[220px] p-2 bg-white rounded border border-ui-bg-300 shadow outline-none origin-[var(--kb-menu-content-transform-origin)] flex flex-col gap-2",n=S(()=>e.value);return h(ph,{get value(){return n()},get options(){return e.options},onChange:r=>{r!==e.value&&e.setValue(r)},itemComponent:r=>h(V0,{get item(){return r.item},get children(){return[h(G0,{get children(){return e.valueName(r.item.rawValue)}}),h(U0,{get children(){return h(gc,{})}})]}}),get children(){return[h(o2,{get label(){return e.label},get children(){return h(bh,{get disabled(){return e.disabled},class:"cursor-pointer w-full flex items-center text-left h-8 min-w-0 pr-2 pl-3 rounded bg-ui-bg-0 border border-[#d3d4db]",get children(){return h(te,{align:"center",get children(){return[h(te.Fill,{get children(){return h(Bt,{get children(){return h(yh,{children:r=>{const i=r.selectedOption();return e.valueName(i)}})}})}}),h(fh,{class:"transform ui-expanded:rotate-180",get children(){return h(cc,{})}})]}})}})}}),h(gh,{get children(){return h(dh,{class:t,get children(){return h(hh,{})}})}})]}})}function Fs(e){return h(Hm,{get defaultClosed(){return e.defaultClosed},get title(){return e.title},get children(){return h(ze,{gap:2,get children(){return e.children}})}})}var a2=A("<div class=pt-2>");function bt(){return a2()}var l2=A("<div>"),c2=A("<div><span>"),u2=A("<span class=opacity-70>"),d2=A('<span class="flex items-center">'),f2=A("<span>");const pc=ue(null);function gb(e){return(()=>{var t=l2();return D(t,h(pc.Provider,{get value(){return{nav:e.nav??!1,vertical:e.vertical??!1}},get children(){return e.children}})),j(()=>se(t,"pointer-events-auto rounded-xl flex p-2 items-center text-sm font-light text-ui-hl-600 "+(e.vertical?"w-12 flex-col ":"min-h-12 flex-wrap gap-y-2 ")+Mr+(e.nav?" bg-ui-bg-500 dock-nav":" bg-ui-bg-0"))),t})()}function mb(e){const t=Qs(()=>e.value);return S(()=>Object.entries(e.tools_cfg).map(([n,r])=>h(gn,{onClick:()=>e.setValue(n),get value(){return t(n)},get icon(){return r.icon},get label(){return r.label},get hotkeys_label(){return r.action?.hotkeys}})))}function gn(e){const[t,n]=I(null),r=ne(pc);return h(qn,{get component(){return typeof e.onClick=="function"?"button":"a"},onclick:()=>{e.beforeClick?.(),typeof e.onClick=="function"&&e.onClick()},get href(){return typeof e.onClick=="object"?e.onClick.href:void 0},get disabled(){return e.disabled},get class(){return"relative flex gap-1 items-center justify-center h-8 rounded border-[0.125rem] transition-colors duration-100 "+(e.value?(r?.nav?"text-ui-hl-600 bg-ui-bg-0 ":"text-ui-bg-0 bg-ui-hl-600 ")+"border-transparent w-8 ":(r?.nav?"border-ui-bg-500 text-ui-bg-0 hover:bg-[rgba(255,255,255,0.2)] ":"border-white text-ui-hl-600 hover:bg-ui-hl-200 ")+" active:text-ui-hl-300 w-8 ")+(e.class??"")},onMouseEnter:i=>n(i.currentTarget.getBoundingClientRect()),onmouseleave:()=>n(null),get children(){return[h(je,{get class(){return"text-xl "+(e.icon_class??"")},get tag(){return e.icon},get label(){return e.label}}),S(()=>S(()=>!!t())()?h(gr,{get mount(){return document.body},get children(){var i=c2(),o=i.firstChild;return se(i,"fixed ml-2 pointer-events-none bg-ui-bg-0 flex items-center px-2 border-l-0 rounded-r whitespace-pre-wrap "+Mr),D(o,()=>e.label,null),D(o,(()=>{var s=S(()=>(e.hotkeys_label?.length??0)>0);return()=>s()?[" ",(()=>{var a=u2();return D(a,h(h2,{get keybindings(){return e.hotkeys_label??[]}})),a})()]:null})(),null),j(s=>{var a="calc("+t().top+"px - 0.25rem)",l=t().right-2+"px",c="calc("+t().height+"px + 0.5rem)",u="flex items-center "+(e.disabled?"opacity-50":"");return a!==s.e&&((s.e=a)!=null?i.style.setProperty("top",a):i.style.removeProperty("top")),l!==s.t&&((s.t=l)!=null?i.style.setProperty("left",l):i.style.removeProperty("left")),c!==s.a&&((s.a=c)!=null?i.style.setProperty("height",c):i.style.removeProperty("height")),u!==s.o&&se(o,s.o=u),s},{e:void 0,t:void 0,a:void 0,o:void 0}),i}}):null)]}})}function h2(e){return(()=>{var t=d2();return D(t,()=>e.keybindings.map((n,r)=>[r!==0?" / ":null,S(()=>fa(n).map(([i,o],s)=>[s!==0?h(m2,{}):null,S(()=>i.map(a=>h(Bs,{key:a}))),h(Bs,{key:o})]))])),t})()}const g2={Meta:"keyboard_command_key",Alt:"keyboard_option_key",Control:"keyboard_control_key",Shift:"shift"};function Bs(e){const t=g2[e.key];return t!=null?h(je,{class:"text-xl",get tag(){return t??e.key},get label(){return e.key}}):(()=>{var n=f2();return D(n,()=>e.key.toUpperCase()),n})()}function m2(e){return h(je,{class:"text-xl",tag:" ",label:" "})}const pb=e=>({name:"Undo",hotkeys:["$mod+z"],callback:e}),bb=e=>({name:"Redo",hotkeys:["$mod+Shift+z","$mod+y"],callback:e});$e(["click"]);const p2="rgb(139 92 246)",b2="#2563eb",v2="white";function Oi(e,t){const{x:n,y:r}=e.transform.inverse().transformPoint({x:t[0],y:t[1]});return[n,r]}var vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function y2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bo={exports:{}},$s={1:w2,2:x2,3:S2,4:E2};bo.exports=_2;bo.exports.prepare=bc;function _2(e,t){return bc(e.length)(e,t)}function bc(e){if(e=+e|0,!e)throw new Error("Cannot create a interpolator with no elements");if($s[e])return $s[e];for(var t=["var ut = 1 - t",""],n=e;n--;){for(var r=0;r<n;r+=1)n+1===e?t.push("var p"+r+" = arr["+r+"] * ut + arr["+(r+1)+"] * t"):n>1?t.push("p"+r+" = p"+r+" * ut + p"+(r+1)+" * t"):t.push("return p"+r+" * ut + p"+(r+1)+" * t");n>1&&t.push("")}return t=["return function bezier"+e+"(arr, t) {",t.map(function(i){return"  "+i}).join(`
`),"}"].join(`
`),Function(t)()}function w2(e){return e[0]}function x2(e,t){return e[0]+(e[1]-e[0])*t}function S2(e,t){var n=1-t;return(e[0]*n+e[1]*t)*n+(e[1]*n+e[2]*t)*t}function E2(e,t){var n=1-t,r=e[1]*n+e[2]*t;return((e[0]*n+e[1]*t)*n+r*t)*n+(r*n+(e[2]*n+e[3]*t)*t)*t}var T2=bo.exports;const Ns=y2(T2),[C2,P2]=I(),[A2,D2]=I(),[Hs,Ks]=I();let ni=null;function yb(e){ni!=null&&clearTimeout(ni),ni=setTimeout(()=>Ks(null),1e3),Ks(e.toFixed(0))}const[I2,ri]=I(),[M2,O2]=I();function L2({state:e,imev:t,frame:n}){if(t.mouse.pos!=null){const r=et(e),i=Oi(n,t.mouse.pos),[o,s]=[i[0],i[1]],a=r.targetPt([o,s]);if(a==null){ri(null);return}const[l,c,u]=r.points[a],d=l>>8,f=l&255,m=(d>>4)+","+(d&15)+"|"+(f>>4)+","+(f&15);ri(u.padStart(3," ")+"|"+m)}else ri(null)}let dr=0,Li=0;const k2={linear:e=>e,ease_in:e=>e*(2-e),ease_out:e=>e*e,ease_in_out:e=>{const t=(e-.5)*(e-.5);return e<.5?-t*2+.5:t*2+.5}},R2=function*(e){yield vc(e);let t=!0;const n=e.active_mode?.mode;n!=null&&n?.skip_wait_seq_displayed_on_preview&&(t=!1),t&&(yield{delay:0})},F2=function(){return[]};function*B2(e,t,n){return yield*(t?.sequencer??R2)(e,n)}function vc(e){const t=e.active_mode?.mode;return t==null?[]:(t?.previewer??F2)(e)}async function $2(e,t,n,r){const i=async()=>{for(const o of B2(e,t,n)){if(!r.active)return;if(!Array.isArray(o)){if(await new Promise(s=>setTimeout(s,1)),!r.active||(await new Promise(s=>setTimeout(s,o.delay*e.settings.pattern_speed_multiplier)),!r.active))return;continue}if(o.length===0){if(await new Promise(s=>setTimeout(s,1)),!r.active)return}else{const s=N2(e,o);if(dr=Date.now()+e.tappy.buffer_len_us/1e3,Li=go(s)/1e3,await e.tappy.addAndWait(s),!r.active)return}}};for(;;){if(!r.active||(await i(),!r.active)||(await new Promise(o=>setTimeout(o,1)),!r.active))return;if(!e.repeat){if(await e.tappy.waitEmpty(),!r.active)return;if(Li=0,dr=Date.now()+e.tappy.buffer_len_us/1e3,e.repeat)continue;e.play=!1,n();break}}}function N2(e,t){const n=e.settings.repeat_count,r=e.settings.repeat_delay_ms,i=e.settings.on_duration_ms+(n-1)*r,o=[];let s=0;for(const f of t)typeof f=="number"?o.push({time:s,pt:f}):s+=f.delay_ms/e.settings.pattern_speed_multiplier;const a=o[o.length-1];a!=null&&a.time!==s&&(o.push({time:s,pt:"none"}),s+=i);const l=[];let c=0;for(const{time:f,pt:m}of o){const g=f-c;g>=0?(c+=g,l.push({delay_before:g,pt:m})):l.push({delay_before:0,pt:m});for(let p=1;p<n;p++)l.push({delay_before:r,pt:m});c+=i}const u=[];for(let f=0;f<l.length;f++){const m=l[f];f===0&&m.delay_before>0&&u.push({pt:"none",delay_after:m.delay_before});const g=l[f+1];u.push({pt:m.pt,delay_after:g?.delay_before??0})}const d=[];for(const{pt:f,delay_after:m}of u){let g=m;g>1e4&&(g=1e4);let p=!1;for(;;){const b=Math.ceil(Math.min(m,pm));if(d.push({on_duration_us:Math.round(e.settings.on_duration_ms*100)*10,off_duration_us:Math.round(m*10)*100,idx:p?"none":f}),p=!0,g-=b,g<=.001)break}}{const f=s,m=(o[o.length-1]?.time??0)+i,g=u.reduce((y,v)=>y+v.delay_after+i,0);let p=go(d)/1e3;const b="taps="+o.length+" | expected0="+f.toFixed(3)+","+m.toFixed(3)+" | expected1="+g.toFixed(3)+" | actual="+p.toFixed(3);O2(b),e.settings.log_tapout_lengths&&console.log("tapout length:",b)}return d}function H2(e,t){const n=S(()=>e().active_mode?.mode),r=S(()=>et(e())),i=S(()=>e().play);R(()=>{n(),r(),oe(()=>{e().play=!1,t()})}),R(()=>{const o=n(),s={active:!0},a=i();oe(()=>{a||e().tappy.clear(),o!=null&&a&&$2(e(),o,t,s).catch(l=>{De(l)})}),$(()=>{s.active=!1})})}const yc={1:0,2:.8*27,3:1.2*27,4:1.5*27};function K2(e,t,n){if(t===0){const o=e.targetPt(n);return o==null?[]:[o]}const r=t,i=[];for(let o=0;o<e.points.length;o++){const s=e.points[o];N.distance(n,s[1])<=r&&i.push(o)}return i}function V2(e,t,n){const r=et(e),i=([_,w])=>vo(n,[_,w]),o=e.settings.line_thickness;let s=yc[o];const a=r.smooth_distance*1.1;function l(_,w){const P=d[d.length-1],x=d[d.length-2],L=r.targetPt([_,w]);if(L!=null&&!(P!=null&&P===L)){if(x!=null){const O=r.ptCenter(x),T=r.ptCenter(L);N.distance(T,O)<=a&&d.pop()}d.push(L)}}function c(_,w){f.push(K2(r,s,[_,w]))}function u(_,w){s==0?l(_,w):c(_,w)}const d=[],f=[];{if(t.points.length===1){const _=t.points[0],w=i(_.pos);u(w[0],w[1])}for(let _=1;_<t.points.length;_++){const w=t.points[_-1],P=t.points[_],x=i(w.pos),L=i(N.add(w.next_control_offset,w.pos)),O=i(N.add(P.prev_control_offset,P.pos)),T=i(P.pos),M=[x[0],L[0],O[0],T[0]],k=[x[1],L[1],O[1],T[1]];let V=N.min(N.min(x,L),N.min(O,T)),W=N.max(N.max(x,L),N.max(O,T)),C=N.magnitude(N.sub(W,V));const B=Math.min(Math.ceil(C/18)*2,100);for(let q=0;q<=B;q++){const X=Math.floor(Ns(M,q/B)),he=Math.floor(Ns(k,q/B));u(X,he)}}}const m={easing_function:t.easing_function??"linear",duration_ms:(t.duration??1)*1e3,points:[]};if(f.length>0){for(let _=f.length-1;_>=0;_--){const w=f[_-1],P=f[_],x=[];for(const L of P)w?.includes(L)||x.push(L);x.length>0&&m.points.push(x)}m.points.reverse()}else m.points=d.map(_=>[_]);const g=[],p=k2[m.easing_function],b=m.duration_ms;for(const[_,w]of m.points.entries()){const P=b*p(_/(m.points.length-1||1));for(const x of w)g.push({time:P,pt:x})}const y=[];for(const[_,w]of g.entries()){const P=g[_-1]?.time??0;y.push(w.pt),y.push({delay_ms:w.time-P})}let v=0;for(const _ of y)typeof _!="number"&&(v+=_.delay_ms);return v<b&&y.push({delay_ms:b-v}),y}function _b(e,t,n){return t.flatMap(r=>V2(e,r,n))}function _c({pos:e,size:t}){return{pos:e,size:t}}function wb(e,t,n){return wc(yo(e,t),n)}function U2(e,t,n){return vo(yo(e,t),n)}function wc(e,t){return N.div(N.sub(t,e.pos),e.size)}function vo(e,t){return N.add(N.mul(t,e.size),e.pos)}function yo(e,t,n){const r=G2({define_rect:t.grid.define_rect_scaler},e);if(!Ie().active_mode?.mode.config?.supports_line_thickness||n?.exclude_extra)return r;const i=Ie().settings.line_thickness,o=Math.max(yc[i]-18,0)+18/2;return{pos:[r.pos[0]+o,r.pos[1]+o],size:[r.size[0]-o*2,r.size[1]-o*2]}}function G2(e,t){const n=e.define_rect;return{pos:N.add(n.pos,N.mul(t.pos,n.size)),size:N.mul(n.size,t.size)}}function xb(e){return{pos:N.add(e.pos,[e.size[0],0]),size:[-e.size[0],e.size[1]]}}function Sb(e){return ne(Xe),h(gn,{get value(){return e.dr_tools_active},onClick:()=>{e.setDrToolsActive(!e.dr_tools_active)},label:"Edit Define Rect",icon:"resize"})}function q2(){const{state:e,setState:t}=ne(Xe);return[h(gn,{onClick:()=>{e().grid_transform_matrix=new DOMMatrixReadOnly().flipX().multiply(e().grid_transform_matrix),t()},label:"Flip Horizontal",icon:"flip"}),h(gn,{onClick:()=>{e().grid_transform_matrix=new DOMMatrixReadOnly().rotate(90).multiply(e().grid_transform_matrix),t()},label:"Rotate",icon:"rotate_right"}),h(gn,{onClick:()=>{e().grid_transform_matrix=new DOMMatrixReadOnly,e().define_rect=_c({pos:[0,0],size:[1,1]}),t()},label:"Reset",icon:"reset_image"})]}function Eb(e,t,n,r){const{scale:i}=t,{ctx:o}=n,s=e.define_rect,a=r.enable_resize,l=w=>U2(s,t,w),c=w=>vo(yo(s,t,{exclude_extra:!0}),w);o.strokeStyle=b2,o.fillStyle=v2,o.lineWidth=1/i;const u=a?20/8/i:0,[d,f]=c([0,0]),[m,g]=c([1,1]),[p,b]=l([0,0]),[y,v]=l([1,1]);(r.show_preview||r.enable_resize)&&(o.beginPath(),o.moveTo(d+u,f),o.lineTo(m-u,f),a&&o.moveTo(m,f+u),o.lineTo(m,g-u),a&&o.moveTo(m-u,g),o.lineTo(d+u,g),a&&o.moveTo(d,g-u),o.lineTo(d,f+u),o.stroke()),r.show_inner_preview&&(o.beginPath(),o.moveTo(p,b),o.lineTo(y,b),o.lineTo(y,v),o.lineTo(p,v),o.closePath(),o.stroke());const _=a?"circle":"none";if(_==="rect")o.beginPath(),o.rect(d-u,f-u,u*2,u*2),o.rect(d-u,g-u,u*2,u*2),o.rect(m-u,f-u,u*2,u*2),o.rect(m-u,g-u,u*2,u*2),o.fill(),o.stroke();else if(_==="circle"){const w=Oi(t,n.mouse.pos??[10,10]),P=(T,M,k,V)=>(W,C)=>{const B=e.define_rect,q=B.pos,X=N.add(B.pos,B.size),he=q[0],ge=q[1],_e=X[0],nt=X[1],qe=Ee=>{const G=Oi(t,Ee);return wc(t.grid.define_rect_scaler,G)},Oe=Ee=>{const G=qe(Ee),de=N.sub(G,z),$t=he+(T?de[0]:0),On=ge+(M?de[1]:0),Pc=_e+(k?de[0]:0),Ac=nt+(V?de[1]:0);B.pos=[$t,On],B.size=N.sub([Pc,Ac],[$t,On])},z=qe(W);return Oe(W),{onmove(Ee){Oe(Ee)},onrelease(Ee){Oe(Ee),C.setstate()}}},x=u*2;N.inbounds(w,[d,f],[m,g])&&(n.mouse.action={cursor:"grab",callback:P(!0,!0,!0,!0)}),N.inbounds(w,[d-x,f],[d+x,g])?n.mouse.action={cursor:"ew-resize",callback:P(!0,!1,!1,!1)}:N.inbounds(w,[m-x,f],[m+x,g])?n.mouse.action={cursor:"ew-resize",callback:P(!1,!1,!0,!1)}:N.inbounds(w,[d,f-x],[m,f+x])?n.mouse.action={cursor:"ns-resize",callback:P(!1,!0,!1,!1)}:N.inbounds(w,[d,g-x],[m,g+x])&&(n.mouse.action={cursor:"ns-resize",callback:P(!1,!1,!1,!0)});const L=(T,M,k)=>n.mouse.pos==null?!1:Math.hypot(...N.sub([T,M],w))<k,O=(T,M)=>{const[k,V]=[[d,m][T],[f,g][M]],W=L(k,V,x*2),C=u;o.beginPath(),o.ellipse(k,V,C,C,0,0,2*Math.PI),o.fill(),o.stroke(),W&&(n.mouse.action={cursor:T===M?"nwse-resize":"nesw-resize",callback:P(!T,!M,!!T,!!M)})};O(0,0),O(0,1),O(1,0),O(1,1)}return l}var z2=A('<div class="grid grid-cols-[1fr_1fr] gap-8"><label class="grid grid-cols-[1rem_1fr] items-center"><div>x</div><div class="bg-ui-bg-100 rounded flex items-center"><input min=0 max=255 step=1 class="w-full bg-transparent p-1"type=number></div></label><label class="grid grid-cols-[1rem_1fr] items-center"><div>y</div><div class="bg-ui-bg-100 rounded flex items-center"><input min=0 max=255 step=1 class="w-full bg-transparent p-1"type=number>'),j2=A('<div class="flex flex-row gap-3 justify-end items-center">'),W2=A("<div><button class=underline>Reset Settings"),X2=A("<a class=underline href=#tap_mania>tap!mania"),J2=A("<a class=underline href=#>NPE Home"),Y2=A("<div>Repeat Count"),Z2=A("<div>Repeat Delay");function rt(e){const t=S(()=>e.value);return h(e1,{class:"border border-[#d3d4db] rounded-md px-2 py-1 ui-pressed:bg-[#f0e7fc] ui-pressed:border-[#a267eb] ",get pressed(){return t()},onChange:n=>{n!==e.value&&e.setValue(n)},get children(){return h(te,{align:"center",get children(){return[S(()=>S(()=>!!e.value)()?[h(gc,{})," "]:null),S(()=>e.label)]}})}})}function Q2(){const{state:e,setState:t}=ne(Xe),n="-off-",r="-none-",i="-unlabeled-",o=S(()=>Ze().media_stream?.getVideoTracks()[0]?.getSettings().deviceId),[s,{mutate:a,refetch:l}]=Mc(async()=>(await navigator.mediaDevices.enumerateDevices()).filter(m=>m.kind==="videoinput")),c=S(()=>o()??n),u=S(()=>Ze().media_stream);R(()=>{u(),l()});const d=new Map;return d.set(n,"Off"),d.set(r,"No Cameras"),d.set(i,"Start Camerra"),h(mc,{label:"Camera",get disabled(){return!hc(e())},get value(){return c()},setValue:f=>{f&&(f===c()||(f==n?(fc(),t()):(Or(f===r||f===i?null:f),t())))},valueName:f=>d.get(f)??"-ENONAME-",get options(){const f=s();return f==null?[n,r]:f.every(m=>!m.label)?[n,i]:[n,...f.map((m,g)=>{const p=m.deviceId||i;return p!==i&&d.set(p,m.label||"Start Camera"),p})]}})}function ep(){const{state:e,setState:t}=ne(Xe),n=S(()=>e().settings.line_thickness),r=S(()=>e().settings.grid_custom_size,null,{equals:(a,l)=>N.eql(a,l)}),i=a=>{e().settings.grid_custom_size=a,t()},o=[0,.01,.013,.015,.02,.025,.03,.04,.05,.065,.08,.1,.13,.15,.2,.25,.3,.4,.5,.65,.8,1,1.25,1.5,2,2.5,3],s=[.1,.13,.15,.2,.25,.3,.4,.5,.65,.8,1,1.25,1.5,2,2.5,3.15,4,5,6.3,8,10];return[h(Fs,{title:"Global Settings",get children(){return[h(ws,{get value(){return e().settings.on_duration_ms},setValue:a=>{e().settings.on_duration_ms=a,t()},min:0,get max(){return o.length-1},step:1,label:"Tap strength",newline:!0,unit:"ms",vmap:a=>o[a]??1,vunmap:a=>o.indexOf(a)}),h(ws,{get value(){return e().settings.pattern_speed_multiplier},setValue:a=>{e().settings.pattern_speed_multiplier=a,t()},min:0,get max(){return s.length-1},step:1,label:"Playback speed",newline:!0,unit:"x",vmap:a=>s[a]??1,vunmap:a=>s.indexOf(a)}),h(bt,{}),h(mc,{get value(){return Mi(e())??e().settings.grid_kind},setValue:a=>{e().settings.grid_kind=a??"Demo",t()},valueName:a=>a??"Demo",get options(){return["Demo",...Xn.map(a=>a.name),"Custom Hex","Custom Rect"]},label:"Board Size",get disabled(){return Mi(e())!=null}}),h(te,{align:"center",gap:2,get children(){return h(q2,{})}}),h(Te,{get when(){return e().settings.grid_kind==="Custom Hex"||e().settings.grid_kind==="Custom Rect"},get children(){var a=z2(),l=a.firstChild,c=l.firstChild,u=c.nextSibling,d=u.firstChild,f=l.nextSibling,m=f.firstChild,g=m.nextSibling,p=g.firstChild;return d.addEventListener("change",b=>{const y=r();i([+b.currentTarget.value,y[1]])}),p.addEventListener("change",b=>{const y=r();i([y[0],+b.currentTarget.value])}),j(()=>d.value=r()[0]),j(()=>p.value=r()[1]),a}}),h(Ul,{get disabled(){return!e().active_mode?.mode.config?.supports_line_thickness},get value(){return n()},class:nc+" ui-disabled:opacity-50",onChange:a=>{e().settings.line_thickness=a==="1"?"1":a==="2"?"2":a==="3"?"3":a==="4"?"4":"1",t()},get children(){return[h(Vl,{children:"Line thickness"}),(()=>{var a=j2();return D(a,h(xt,{value:"1",title:"1",get children(){return[h(Tt,{class:"peer"}),h(St,{class:"cursor-pointer peer-focus-visible:ring-offset-2 peer-focus-visible:ring-2 peer-focus-visible:ring-ui-hl-600 bg-ui-hl-600 w-3 h-3 rounded-full flex justify-center items-center",get children(){return h(Et,{class:"w-[0.375rem] h-[0.375rem] bg-ui-bg-0 rounded-full"})}})]}}),null),D(a,h(xt,{value:"2",title:"2",get children(){return[h(Tt,{class:"peer"}),h(St,{class:"cursor-pointer peer-focus-visible:ring-offset-2 peer-focus-visible:ring-2 peer-focus-visible:ring-ui-hl-600 bg-ui-hl-600 w-4 h-4 rounded-full flex justify-center items-center",get children(){return h(Et,{class:"w-[0.625rem] h-[0.625rem] bg-ui-bg-0 rounded-full"})}})]}}),null),D(a,h(xt,{value:"3",title:"3",get children(){return[h(Tt,{class:"peer"}),h(St,{class:"cursor-pointer peer-focus-visible:ring-offset-2 peer-focus-visible:ring-2 peer-focus-visible:ring-ui-hl-600 bg-ui-hl-600 w-5 h-5 rounded-full flex justify-center items-center",get children(){return h(Et,{class:"w-[0.875rem] h-[0.875rem] bg-ui-bg-0 rounded-full"})}})]}}),null),D(a,h(xt,{value:"4",title:"4",get children(){return[h(Tt,{class:"peer"}),h(St,{class:"cursor-pointer peer-focus-visible:ring-offset-2 peer-focus-visible:ring-2 peer-focus-visible:ring-ui-hl-600 bg-ui-hl-600 w-6 h-6 rounded-full flex justify-center items-center",get children(){return h(Et,{class:"w-[1.125rem] h-[1.125rem] bg-ui-bg-0 rounded-full"})}})]}}),null),a})()]}}),h(bt,{}),h(te,{wrap:!0,gap:2,align:"center",get children(){return[h(rt,{label:"Blur Taps",get value(){return e().settings.noise_on_preview},setValue:a=>{e().settings.noise_on_preview=a,t()}}),h(rt,{label:"Show Grid",get value(){return e().settings.show_grid},setValue:a=>{e().settings.show_grid=a,t()}}),h(rt,{label:"Hand Preview",get value(){return Ft(e())},setValue:a=>{a&&Or(null,!0),e().config_use_demo_mode=a,t()}}),h(rt,{label:"Show Lines",get value(){return e().settings.show_bounding_boxes},setValue:a=>{e().settings.show_bounding_boxes=a,t()}}),h(rt,{label:"Force Fast Render",get value(){return e().settings.force_fast_render},setValue:a=>{e().settings.force_fast_render=a,t()}})]}}),h(bt,{}),h(Q2,{}),h(bt,{}),(()=>{var a=W2(),l=a.firstChild;return l.$$click=async()=>{await oo(G1({title:"Reset settings?",description:"All settings will be reset",action_label:"Reset"}))&&(e().settings=_o(),t())},a})()]}}),h(Fs,{defaultClosed:!0,title:"Developer Settings",get children(){return[h(te,{wrap:!0,gap:2,align:"center",get children(){return[h(rt,{label:"Show Status Bar",get value(){return e().settings.show_status_bar},setValue:a=>{e().settings.show_status_bar=a,t()}}),h(rt,{label:"Show Grid Targets",get value(){return e().settings.show_grid_targets},setValue:a=>{e().settings.show_grid_targets=a,t()}}),h(rt,{label:"Log Tapout Lengths",get value(){return e().settings.log_tapout_lengths},setValue:a=>{e().settings.log_tapout_lengths=a,t()}}),h(rt,{label:"Use WebGL Render",get value(){return e().settings.use_rst_new},setValue:a=>{e().settings.use_rst_new=a,t()}})]}}),h(bt,{}),h(ur,{onClick:()=>{De(new Error("An error occured"))},label:"Show Error Message"}),h(ur,{onClick:()=>{Yt("Info","There is some info to inform you about")},label:"Show Info Message"}),h(bt,{}),X2(),J2(),h(bt,{}),h(_s,{get children(){return[Y2(),h(xs,{unit:"x",decimals:0,step:1,min:0,max:10,get value(){return e().settings.repeat_count},setValue:a=>{e().settings.repeat_count=a,t()}})]}}),h(_s,{get children(){return[Z2(),h(xs,{unit:"ms",decimals:2,step:1,min:0,max:3,get value(){return e().settings.repeat_delay_ms},setValue:a=>{e().settings.repeat_delay_ms=a,t()}})]}})]}})]}$e(["click"]);var tp=A("<hr class=border-[#C5C8D7]>");function xc(){return tp()}function np(e){return h(xe,{x:!0,get class(){return"px-2 pt-1 pb-[6px] "+(e.selected?"bg-[#6E12DF]/15 rounded-md ":"")},get children(){return h(te,{align:"center",gap:2,get children(){return[S(()=>e.icon),h(te.Fill,{get children(){return h(Bt,{get children(){return e.label}})}}),S(()=>S(()=>!!(e.tags?.includes("requires_camera")||e.tags?.includes("requires_hand_preview")))()?h(xe,{class:"bg-[#6E12DF]/15 rounded-md p-[0.125rem] text-[#6E12DF]",get children(){return h(rc,{})}}):null),S(()=>S(()=>!!e.tags?.includes("requires_device"))()?h(xe,{class:"bg-[#6E12DF]/15 rounded-md p-[0.125rem] text-[#6E12DF]",get children(){return h(uc,{})}}):null)]}})}})}function rp(){return h(zh,{swipeDirection:"left",get children(){return h(Vh,{style:{"--viewport-padding":"1rem"},class:"absolute bottom-0 left-0 flex flex-col gap-2 p-[var(--viewport-padding)] w-96 max-w-full m-0 pb-8"})}})}var ip=A("<div>");function Vs(e){return(()=>{var t=ip();return D(t,()=>e.children),j(()=>se(t,"w-full h-full overflow-y-scroll "+(e.class??""))),t})()}const[Us,Tb]=I(null),op=navigator.userAgent.includes("AppleWebKit")&&!navigator.userAgent.includes("Chrome"),sp="Object Detection is not supported on Safari or any iOS browser. Switch to Chrome or Firefox on desktop.",ii=200;let vt=null,cn=[],Un=0;function ap(e,t,n,r){let i=t.play===!1;const o=Date.now(),s=et(t).max_pts;if(vt?.frame_index!==n.frame_index){cn=cn.filter(c=>o-c.start<=ii);const a=i&&cn.length===0,l=.3;if(a){Un==null&&(Un=o);const c=o-Un,u=Math.max(Math.min(c/ii,1),0),d=vc(t);vt=lp(d,n,{preview_mode_opacity:l*u})}else{Un=null,vt={frame_index:n.frame_index,taps:[],preview_mode:a,uses:0,preview_mode_opacity:l};for(const u of cn)u.pt>=s||vt.taps.unshift({opacity:1-(o-u.start)/ii,pt:u.pt,time:o-u.start});const c=[...t.tappy.preview_taps];t.tappy.preview_taps=[];for(const u of c)u>=s||(cn.push({start:o,pt:u}),vt.taps.unshift({opacity:1,pt:u,time:0}))}}vt.uses+=1,cp(e,n,{noise_on_preview:t.settings.noise_on_preview,force_fast_render:t.settings.force_fast_render,state_play:t.play,use_rst_new:t.settings.use_rst_new,grid:et(t),grayscale:!1},vt,r)}function lp(e,t,n){const r={frame_index:t.frame_index,taps:[],preview_mode:!0,uses:0,preview_mode_opacity:n.preview_mode_opacity};let i=0;for(const s of e)typeof s!="number"&&(i+=s.delay_ms);let o=i;for(const s of e)typeof s=="number"?r.taps.push({pt:s,opacity:r.preview_mode_opacity,time:o}):o-=s.delay_ms;return r.taps.reverse(),r}function cp(e,t,n,r,i){return n.use_rst_new?up(e,t,n,r,i):dp(e,t,n,r,i)}function Gs(e,t,n){let r,i,o;if(t==0)r=i=o=n;else{const s=(c,u,d)=>(d<0&&(d+=1),d>1&&(d-=1),d<.16666666666666666?c+(u-c)*6*d:d<.5?u:d<.6666666666666666?c+(u-c)*(.6666666666666666-d)*6:c),a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=s(l,a,e+1/3),i=s(l,a,e),o=s(l,a,e-1/3)}return[r,i,o]}function up(e,t,n,r,i){const{scale:o}=t,s=Math.max(1e3,r.taps[r.taps.length-1]?.time??0),a=T=>{if(n.grayscale)return Gs(0,0,T/s);{const M=Math.round(T/1e3*360)%360;return Gs(M/360,1,.5)}},l=[],c=new Set;for(const T of r.taps){if(c.has(T.pt))continue;c.add(T.pt);const M=a(T.time);l.push({pt:n.grid.ptCenter(T.pt),color:[M[0],M[1],M[2],T.opacity]})}if(i.grid_path.stroke[3]>.01||i.grid_path.fill[3]>.01)for(let T=0;T<n.grid.max_pts;T++){if(c.has(T))continue;const M=n.grid.ptCenter(T);l.push({pt:M,color:[0,0,0,0]})}let u=20;o<1&&n.state_play&&(u/=(1-o)/2+o);const d=4,f=l.length,m=new Float32Array([0,0,1,0,0,1,1,1]),g=new Float32Array(l.length*2),p=new Float32Array(l.length*4);for(let T=0;T<l.length;T++){const M=l[T];g[T*2+0]=M.pt[0],g[T*2+1]=M.pt[1],p[T*4+0]=M.color[0],p[T*4+1]=M.color[1],p[T*4+2]=M.color[2],p[T*4+3]=M.color[3]}const b=e.gl,y=e.activateTapperTexture();if(y==null)return;const v=e.getTapperProgram();if(v==null)return;const _=b.createVertexArray();b.bindVertexArray(_);const w=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,w),b.bufferData(b.ARRAY_BUFFER,m,b.STATIC_DRAW),b.enableVertexAttribArray(v.attributes.rect_corner_vec2),b.vertexAttribPointer(v.attributes.rect_corner_vec2,2,b.FLOAT,!1,0,0);const P=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,P),b.bufferData(b.ARRAY_BUFFER,g,b.STATIC_DRAW),b.enableVertexAttribArray(v.instance_attributes.vertex_offset_vec2),b.vertexAttribPointer(v.instance_attributes.vertex_offset_vec2,2,b.FLOAT,!1,0,0),b.vertexAttribDivisor(v.instance_attributes.vertex_offset_vec2,1);const x=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,x),b.bufferData(b.ARRAY_BUFFER,p,b.STATIC_DRAW),b.enableVertexAttribArray(v.instance_attributes.vertex_color_vec4),b.vertexAttribPointer(v.instance_attributes.vertex_color_vec4,4,b.FLOAT,!1,0,0),b.vertexAttribDivisor(v.instance_attributes.vertex_color_vec4,1);const O=new DOMMatrixReadOnly().translate(-1,1).scale(2/e.gl_canvas.width,-2/e.gl_canvas.height).multiply(e.getTransform());b.useProgram(v.program),b.uniform1i(v.uniforms.diffuse_sampler2d,y),b.uniform1f(v.uniforms.radius_float,u/2),b.uniform1f(v.uniforms.scale_float,o),b.uniform4f(v.uniforms.grid_color_vec4,...i.grid_path.stroke),b.uniform4f(v.uniforms.grid_fill_vec4,...i.grid_path.fill),b.uniformMatrix4fv(v.uniforms.matrix_mat3,!1,new Float32Array([O.a,O.b,0,0,O.c,O.d,0,0,0,0,1,0,O.e,O.f,0,1])),b.bindVertexArray(_),b.drawArraysInstanced(b.TRIANGLE_STRIP,0,d,f),b.deleteBuffer(w),b.deleteBuffer(P),b.deleteBuffer(x),b.deleteVertexArray(_)}function dp(e,t,n,r,i){(i.grid_path.stroke[3]>.01||i.grid_path.fill[3]>.01)&&(e.beginPath(),_p(e,n.grid,t.scale),e.lineWidth=1/t.scale,e.strokeStyle="rgb("+Math.round(i.grid_path.stroke[0]*255)+","+Math.round(i.grid_path.stroke[1]*255)+","+Math.round(i.grid_path.stroke[2]*255)+")",e.fillStyle="rgb("+Math.round(i.grid_path.fill[0]*255)+","+Math.round(i.grid_path.fill[1]*255)+","+Math.round(i.grid_path.fill[2]*255)+")",e.globalAlpha=i.grid_path.fill[3],i.grid_path.fill[3]>.01&&e.fill(),e.globalAlpha=i.grid_path.stroke[3],i.grid_path.stroke[3]>.01&&e.stroke(),e.globalAlpha=1);const{scale:o}=t,s=Math.max(1e3,r.taps[r.taps.length-1]?.time??0),a=1e3,l=c=>n.grayscale?"0, 0%, "+Math.round(c/s*100)+"%":Math.round(c/1e3*360)%360+", 100%, 50%";if(n.noise_on_preview){let c={};for(const{pt:u,opacity:d,time:f}of r.taps){e.globalAlpha=d;let[m,g]=n.grid.ptCenter(u);const p=(c[m+","+g]??={v:0}).v+=1,b=jg(...Wg(m+","+g+","+p));let y=.4;[m,g]=N.add([m,g],[b()*11-5,b()*11-5]),y+=b()*.2,y+=.5;const v=20*y;if(!isFinite(m)||!isFinite(g)||!isFinite(v))continue;const _=l(f),w=e.createRadialGradient(m,g,0,m,g,v);w.addColorStop(0,"hsla("+_+", 1.0)"),w.addColorStop(.5,"hsla("+_+", 0.7)"),w.addColorStop(1,"hsla("+_+", 0.0)"),e.fillStyle=w,e.fillRect(m-v,g-v,v*2,v*2)}e.globalAlpha=1}else{let c=20,u=Ir&&!i.force_fast&&!n.force_fast_render;o<1&&n.state_play&&(c/=(1-o)/2+o,u=!1);const d=25,f=[],m=new Set;for(const g of r.taps){if(m.has(g.pt))continue;m.add(g.pt);const p=g.time/a*d|0;(f[p]??=[]).push(g)}if(u){for(const g of f)if(g!=null)for(const{pt:p,opacity:b}of g){let[y,v]=n.grid.ptCenter(p);!isFinite(y)||!isFinite(v)||(e.globalAlpha=b,e.drawImage(Mn,y-c/2,v-c/2,c,c))}}e.globalAlpha=1,u&&(e.globalCompositeOperation="multiply"),r.preview_mode&&(e.globalAlpha=r.preview_mode_opacity);for(const[g,p]of f.entries()){if(p==null)continue;const b=l(g/d*a);e.fillStyle="hsl("+b+")",r.preview_mode&&e.beginPath();for(const{pt:y,opacity:v}of p){let[_,w]=n.grid.ptCenter(y);!isFinite(_)||!isFinite(w)||(r.preview_mode||(e.globalAlpha=v,e.beginPath()),e.moveTo(_,w),e.arc(_,w,c*.4,0,2*Math.PI,!1),r.preview_mode||e.fill())}r.preview_mode&&e.fill()}e.globalCompositeOperation="source-over",e.globalAlpha=1}e.fillStyle=p2,e.filter="none"}let Sc=!1;function Cb(e){Sc=e}const fp=550,hp=844,qs=[[.05,.05],[.4,.4]],gp=[.34,.29],mp=[.6,.6];function pp(e){const t=[N.add(e[0],N.mul(qs[0],e[1])),N.mul(qs[1],e[1])],n=Jg(t,fp/hp);return Sc?n:[[n[0][0]+n[1][0],n[0][1]],[-n[1][0],n[1][1]]]}function zs(e,t,n,r){const i=y1(t),o=Math.max(i.scaleX,i.scaleY),s=et(e),[a,l]=et(e).bounds;return{scale:o,w:a,h:l,grid:s,transform:t,frame_index:r,from:n==="render"&&Ft(e)?"live_preview":n}}let un=null;function bp(){return un==null?(un="waiting",we(()=>import("./demo_mode-7bCsdzb3.js"),__vite__mapDeps([5,1])).then(e=>un=e).catch(e=>{De(e)}),null):un==="waiting"?null:un}function js(e,t){let n=t.target_rect;Ft(e)&&(n=pp(n),n=[N.add(n[0],N.mul(n[1],gp)),N.mul(n[1],mp)]),e.demo_grid_size=n[1];const r=et(e).bounds;return n=Xg(n,r[0]/r[1]),vp(n,r)}function vp(e,t){const[n,r]=e;if(r[0]===0||r[1]===0)return new DOMMatrixReadOnly([0,0,0,0,0,0]);let i=N.div(r,t);return new DOMMatrixReadOnly().translate(n[0],n[1]).scale(i[0],i[1])}const yp=(e,t)=>{const n=new ha;return{render(r){const i=Date.now();r.ctx.clearRect(0,0,e.canvas_w,e.canvas_h);const o=ms(e),s=js(t,o),a=zs(t,s,"render",r.frame_index);if(Ft(t)){const u=bp();u?.renderDemoMode(t,e.setstate,r,o)}r.ctx.save(),r.ctx.setTransform(r.ctx.getTransform().multiply(s)),wp(t,r,a),L2({state:t,imev:r,frame:a}),r.ctx.restore(),n.onFrame();const l=n.getFramerate();P2(l.toFixed(0));const c=Date.now();D2((c-i).toFixed(0))},onmove(r){},onclick(r){const i=js(t,ms(e)),o=zs(t,i,"render",-1);return t.active_mode?.mode.onclick?.(e,t,r,o)??{onmove:()=>{},onrelease:()=>{}}}}};function _p(e,t,n){e.lineWidth=1/n;for(let r=0;r<t.max_pts;r++){const[i,o]=t.ptCenter(r);e.moveTo(i+8,o),e.arc(i,o,8,0,2*Math.PI)}}function wp(e,t,n){const{rh:r}=t;r.save(),e.active_mode?.mode.renderBeforeGrid?.({state:e,imev:t,frame:n});let i,o=[0,0,0,0];if(e.settings.show_grid_targets?(i=[0,0,0,1],r.strokeStyle="black",r.globalAlpha=1):n.from==="live_preview"?i=[41/255,85/255,244/255,n.scale<1?n.scale:1]:(i=[215/255,221/255,242/255,.5],e.settings.use_rst_new&&(o=[250/255,250/255,250/255,1])),e.settings.show_grid||(i=[0,0,0,0]),e.settings.show_grid_targets){const s=et(e);for(let a=0;a<s.max_pts;a++){const[l,[c,u],d]=s.points[a];r.ctx.textBaseline="middle",r.ctx.textAlign="center",r.ctx.font="8px sans-serif",r.ctx.fillText(""+d,c,u)}}r.globalAlpha=1,ap(r,e,n,{force_fast:!1,grid_path:{stroke:i,fill:o}}),e.active_mode?.mode.render?.({state:e,imev:t,frame:n}),r.restore()}var xp=A("<div>"),Sp=A('<div class="flex flex-row flex-wrap"><div class="flex flex-col w-52"><div>Tools</div><div>Pencil</div><div>Eraser</div><div>Pen</div><div>Select tool</div></div><div class="flex flex-col w-52"><div>View</div><div>Play/Stop</div><div>Loop/Unloop'),Ep=A('<div class="fixed inset-0 z-50 flex items-end">'),Tp=A("<div class=px-2>"),Cp=A('<div class="w-full h-full cursor-default flex flex-col items-center justify-center"><div class="flex flex-col items-center max-w-sm">'),Pp=A("<div><div>"),Ap=A("<div><div>Object Detection failed to load due to an error:</div><div class=text-red-500>"),Dp=A('<button class="w-full h-full cursor-default flex flex-col items-center justify-center rounded-xl"><div class="flex flex-col items-center"><div>Start Camera'),Ip=A('<div class="h-screen text-sm">'),Mp=A('<img class="h-12 aspect-[113_/_47]">'),Op=A('<div class="bg-white border-t border-t-[#C5C8D7] flex items-center px-2 text-xs whitespace-pre-wrap gap-4 font-mono"><div class=min-w-[10rem]>Target: </div><div class=min-w-[4rem]>FPS: </div><div class=min-w-[4rem]>MSPF: </div><div class=min-w-[4rem]></div><div class=min-w-[30rem]>'),Lp=A("<div class=py-4>");function kp(){return[h(ml,{class:"fixed inset-0 z-50 bg-black/20"}),(()=>{var e=Ep();return D(e,h(hl,{class:"z-50 w-full p-7 flex justify-center bg-ui-bg-900 text-white relative",get children(){return[(()=>{var t=xp();return D(t,h(Yf,{class:"absolute top-0 right-0 p-4",children:"x"})),t})(),h(gl,{class:"max-w-screen-lg w-full",get children(){return Sp()}})]}})),e})()]}const[Rp,Fp]=I(0);let oi=0,Gn=0;function Ec(){const e=Ie().play,t=Date.now();dr<=t&&(oi=dr,Gn=Li),e||(oi=0,Gn=0);const n=t-oi,r=Gn===0?0:n/Gn;Fp(r),requestAnimationFrame(()=>Ec())}requestAnimationFrame(()=>Ec());function Bp(){const{state:e,setState:t}=ne(Xe),n=Qs(()=>e().active_mode?.tag),r=i=>h(Gg,{get href(){return"#"+i.tag},beforeClick:()=>{(i.tags?.includes("requires_camera")||i.tags?.includes("requires_hand_preview"))&&Or(null,!0),i.tags?.includes("requires_device")&&lc()},get children(){var o=Tp();return D(o,h(np,{get selected(){return n(i.tag)},get label(){return i.label},get icon(){return i.icon},get tags(){return i.tags}})),o}});return S(()=>e().active_mode?.mode),S(()=>Kg.map(i=>{if(i==null)return h(xc,{});const o=It[i];if(o==null)throw new Error("error");return h(r,{tag:i,get tags(){return o.tags},get label(){return o.label},get icon(){return o.icon()}})}))}function $p(){const{state:e,setState:t}=ne(Xe),n=S(()=>hc(e())),r=S(()=>i2(e())),i=S(()=>n()&&!r2()),o=S(()=>r()&&Us()!=null);return S((()=>{var s=S(()=>!!o());return()=>s()?(()=>{var a=Cp(),l=a.firstChild;return D(l,op?(()=>{var c=Pp(),u=c.firstChild;return D(u,sp),c})():(()=>{var c=Ap(),u=c.firstChild,d=u.nextSibling;return D(d,Us),c})()),a})():(()=>{var a=S(()=>!!i());return()=>a()?(()=>{var l=Dp(),c=l.firstChild,u=c.firstChild;return l.$$click=()=>{Or(null)},j(()=>se(u,"cursor-pointer "+tc({active:!1}))),l})():h(_1,{get state(){return e()},setState:t,renderChild:yp})})()})())}const Np={hotkeys:["Space"],name:"Toggle Play",callback:(e,t)=>{e.play=!e.play,t()}},Hp={hotkeys:[],name:"Toggle Repeat",callback:(e,t)=>{e.repeat=!e.repeat,t()}},Kp={hotkeys:["$mod+/"],name:"Help",callback:()=>{oo(kp)}};function Vp(){const{state:e,setState:t}=ne(Xe),[n,r]=I(!1),[i,o]=I(!1),s={hotkeys:[],name:"Toggle Side Panel",callback:()=>{r(c=>!c),t()}},a=S(()=>e().active_mode?.mode),l=c=>S((()=>{var u=S(()=>a()?.[c.item]!=null);return()=>u()?S(()=>{const f=a()?.[c.item];return f==null?[]:h(f,{})}):c.fallback??[]})());return(()=>{var c=Ip();return D(c,h(l,{item:"backgroundPanel"}),null),D(c,h(l,{item:"replacePage",get fallback(){return h(ze,{get children(){return[h(ze.Intrinsic,{get children(){return h(xe,{x:!0,class:"h-[3.375rem] box-border px-2 border-b border-[#C5C8D7]",get children(){return h(te,{align:"center",gap:2,get children(){return[(()=>{var u=Mp();return Ve(u,"src",du),u})(),h(te.Fill,{}),h(Jm,{get details_open(){return i()},setDetailsOpen:o})]}})}})}}),h(ze.Fill,{get children(){return h(te,{get children(){return[h(te.Sized,{size:52,get children(){return h(xe,{y:!0,class:"border-r border-[#C5C8D7]",get children(){return h(Vs,{class:"pt-4",get children(){return h(ze,{gap:2,get children(){return h(Bp,{})}})}})}})}}),h(te.Fill,{get children(){return h(ze,{get children(){return[h(l,{item:"topPanel"}),h(ze.Fill,{get children(){return h(xe,{x:!0,y:!0,class:"bg-[#fafafa] rounded-md relative",get children(){return[h($p,{}),h(rp,{})]}})}}),h(ze.Sized,{size:16,get children(){return h(xe,{x:!0,y:!0,class:"px-2 border-t border-[#C5C8D7]",get children(){return h(te,{align:"center",gap:2,get children(){return[h(l,{item:"dock2Panel",get fallback(){return[h(l,{item:"toolsPanel"}),h(l,{item:"dockPanel"})]}}),h(te.Fill,{}),h(te,{no_x:!0,align:"center",get children(){return[h(Vn,{action:Np,get children(){return S(()=>!!e().play)()?h(r1,{}):h(o1,{})}}),h(e2,{get percent(){return Rp()}})]}}),h(Vn,{action:Hp,get value(){return e().repeat},get children(){return h(c1,{})}}),h(te.Fill,{}),h(Vn,{action:Kp,get children(){return h(a1,{})}}),h(n2,{}),h(Vn,{action:s,get children(){return h(d1,{get class(){return"transition-transform duration-100 "+(n()?"transform -scale-x-100":"")}})}})]}})}})}})]}})}}),h(Ai,{class:"h-full",get if(){return!n()},get fallback(){return h(te.Intrinsic,{})},get children(){return h(xe,{y:!0,class:"border-l border-[#C5C8D7] box-border w-[23.25rem]",get children(){return h(Vs,{get children(){return h(xe,{x:!0,class:"py-4 min-h-full",get children(){return h(ze,{get children(){return h(qg,{gap:()=>(()=>{var u=Lp();return D(u,h(xc,{})),u})(),get children(){return[S(()=>S(()=>!!i())()?h(Xm,{close:()=>o(!1)}):[]),h(l,{item:"sidePanel"}),h(ep,{})]}})}})}})}})}})}})]}})}}),h(Ai,{get if(){return e().settings.show_status_bar},fallback:null,get children(){var u=Op(),d=u.firstChild;d.firstChild;var f=d.nextSibling;f.firstChild;var m=f.nextSibling;m.firstChild;var g=m.nextSibling,p=g.nextSibling;return D(d,()=>I2()??"none",null),D(f,C2,null),D(m,A2,null),D(g,(()=>{var b=S(()=>Hs()!=null);return()=>b()?["ObjdFPS: ",S(Hs)]:null})()),D(p,M2),u}})]}})}}),null),c})()}$e(["click"]);function Up(){const{state:e,setState:t}=ne(Xe),n=()=>{e().modes.object_detection.fullscreen=!1,t()},r=o=>{o.key==="Escape"&&n()},i=o=>{o.touches.length===2&&n()};return document.addEventListener("keydown",r,{capture:!0}),$(()=>document.removeEventListener("keydown",r,{capture:!0})),document.addEventListener("touchstart",i,{capture:!0}),$(()=>document.removeEventListener("touchstart",i,{capture:!0})),new ha,S(()=>e().modes.object_detection.fullscreen),h(Vp,{})}function Gp(){window.__prev_overlay&&(window.__prev_overlay.consoleOutput.remove(),console.log=window.__prev_overlay.originalConsoleLog,window.__prev_overlay={});const e=console.log,t=document.createElement("div");window.__prev_overlay={originalConsoleLog:e,consoleOutput:t},t.style.position="fixed",t.style.bottom="0",t.style.left="0",t.style.width="100%",t.style.background="rgba(0,0,0,0.8)",t.style.maxHeight="60vh",t.style.overflowY="auto",t.style.color="white",t.style.padding="10px",t.style.fontFamily="monospace",t.style.whiteSpace="pre-wrap",t.style.fontSize="12px",t.style.zIndex="999999";const n=document.createElement("div");t.appendChild(n);let r=!1;function i(s){r===!1&&s===!0?document.body.appendChild(t):r===!0&&s===!1&&t.remove(),r=s}const o=document.createElement("button");o.textContent="Clear",o.style.float="right",o.addEventListener("click",()=>{n.innerHTML="",i(!1)}),t.appendChild(o),console.log=function(){if(e.apply(console,arguments),arguments[0]==="/"||arguments[0]==="Graph successfully started running.")return;const s=Array.prototype.slice.call(arguments).join(" "),a=document.createElement("div");a.textContent=s,n.appendChild(a),o.scrollIntoView(),i(!0)},window.onerror=function(s,a,l,c,u){if(s.includes("ResizeObserver loop"))return;const d=document.createElement("div");d.textContent=s+`
  `+a+":"+l+":"+c+`
  `+u?.message+`
`+u?.stack,d.style.color="red",n.appendChild(d),i(!0)}}Gp();function qp(){const e=r=>{const i=r?.getTracks();for(const o of i??[])o.stop()},t=S(()=>Ze().media_stream);R(r=>(e(r),t()),void 0);const n=document.createElement("video");n.classList.add("fixed","top-0","left-0"),n.style.opacity="0",n.style.pointerEvents="none",n.setAttribute("autoplay",""),n.setAttribute("muted",""),n.setAttribute("playsinline",""),R(()=>{n.srcObject=t()??null}),document.body.appendChild(n),Ze().video_el=n,Rs(),$(()=>{const r=Ze();r.video_el===n&&(r.video_el=void 0),n.remove(),r.media_stream=void 0,e(t()),Rs()})}function zp(e,t){try{const n=S(()=>JSON.stringify(e().settings)),r=localStorage.getItem("tm-config");if(r!=null){const i=JSON.parse(r),o=_o();Object.assign(o,i),e().settings=o}R(()=>{const i=n();localStorage.setItem("tm-config",i)})}catch(n){De(n)}}const _o=()=>({duration:"pattern",on_duration_ms:1,pattern_speed_multiplier:1,noise_on_preview:!1,force_fast_render:!0,preview_monochromatic:!1,grid_kind:"Demo",grid_custom_size:[10,10],line_thickness:"2",show_status_bar:!1,show_grid_targets:!1,log_tapout_lengths:!1,show_grid:!0,show_bounding_boxes:!0,use_rst_new:!1,repeat_count:1,repeat_delay_ms:1}),Tc=Object.fromEntries(Object.entries(It).map(([e,t])=>[e,jp(t._value)]));function jp(e){let t=[];const n={value:null,request:async()=>{if(n.value==="load")return await new Promise(r=>t.push(r));if(n.value==null){n.value="load";const r=await e();return n.value=r,t.forEach(i=>i(r)),r}else return n.value}};return n}function Wp(){const e=[];for(const t of Ie().active_mode?.mode?.actions??[])e.push(t);return e}let si=null;function Xp(){si?.(),si=null;const e={};for(const t of Wp())for(const n of t.hotkeys)e[n]=r=>{r.target instanceof HTMLInputElement||(r.stopImmediatePropagation(),r.preventDefault(),t.callback(Ie(),qt))};si=uu(window,e)}function Jp(){const e=location.hash.substring(1);return Object.hasOwn(Tc,e)?e:"npe_home"}let Ws=Symbol();function Cc(){const e=Ie(),t=Symbol();Ws=t;function n(o){e.active_mode?.mode.onDeactivate?.(e,qt),o?.mode.onActivate?.(e,qt),e.active_mode=o,Xp(),qt()}const r=Jp(),i=Tc[r]??null;i==null?n(null):i.value!=null&&i.value!=="load"?n({mode:i.value,tag:r}):(n(null),i.request().then(o=>{Ws===t&&n({mode:o,tag:r})}).catch(De))}const[Ie,Yp]=I({active_mode:null,modes:{npe_ball_bounce:{sequence:[]},define_symbols:{tool:"pencil",current_state:{shapeset_tag:null,shapeset_value:{shapes:{}}},shape:"Default",history:[],redo_history:[],saved_patterns:new Map},object_detection:{opacity:1,detect:["hand","face"],stretch_video:!1},text_to_tap:{letter_delay_ms:250,word_delay_ms:1e3,message:"",tool:null,random_chars_length:1},tap_mania:{},pattern:{},find_hidden:{sequence:[],delay_after_ms:250},remote_draw:{},balancing_ball:{sequence:[]},img_disp:{}},define_rect:_c({pos:[0,0],size:[1,1]}),play:!1,repeat:!1,config_use_demo_mode:!1,demo_grid_size:[0,0],settings:_o(),grid_transform_matrix:new DOMMatrixReadOnly,tappy:new mo},{equals:!1}),qt=()=>Yp(e=>e);Cc();window.addEventListener("hashchange",()=>{Cc()});ot(()=>{const e=S(()=>Ie().active_mode?.tag);R(()=>{const t=e();let n="TappyApp";t!=null&&It[t]!=null&&(n=It[t].label+" | "+n),document.title=n})});function Zp(){return zp(Ie),qp(),H2(Ie,qt),h(Xe.Provider,{value:{state:Ie,setState:qt},get children(){return h(Up,{})}})}aa(()=>h(Zp,{}),document.getElementById("root"));const Qp=document.createElement("div");document.body.appendChild(Qp);export{ih as $,tb as A,_b as B,G2 as C,_g as D,_c as E,yo as F,et as G,hb as H,xb as I,Ze as J,se as K,Ve as L,Rl as M,Xe as N,Oi as O,cb as P,De as Q,K2 as R,yc as S,N2 as T,mt as U,J0 as V,ue as W,ve as X,Qt as Y,I as Z,Cn as _,h as a,lp as a$,Rt as a0,$ as a1,Z as a2,ae as a3,K as a4,vb as a5,y2 as a6,re as a7,Ae as a8,oe as a9,I1 as aA,A1 as aB,rb as aC,vg as aD,us as aE,eh as aF,wb as aG,b2 as aH,lh as aI,oh as aJ,ah as aK,ib as aL,v2 as aM,Xg as aN,Yt as aO,Mr as aP,U2 as aQ,lb as aR,jg as aS,Wg as aT,eb as aU,b1 as aV,Ct as aW,Es as aX,vp as aY,wc as aZ,cp as a_,zt as aa,$e as ab,R as ac,ea as ad,oo as ae,G1 as af,yt as ag,nb as ah,Te as ai,je as aj,xs as ak,bg as al,mb as am,Qs as an,Vn as ao,Mg as ap,n2 as aq,Vl as ar,xt as as,Tt as at,St as au,Xr as av,Ul as aw,pb as ax,bb as ay,vs as az,F as b,V2 as b0,qt as b1,_t as b2,Qf as b3,ml as b4,hl as b5,te as b6,Or as b7,e0 as b8,ze as b9,pp as ba,fp as bb,hp as bc,zs as bd,ub as be,ap as bf,Cb as bg,Tb as bh,op as bi,Ft as bj,ha as bk,yb as bl,Pa as c,S as d,_s as e,yg as f,Yr as g,R1 as h,ws as i,sb as j,ur as k,ab as l,U as m,ob as n,F1 as o,Sb as p,gb as q,fb as r,H as s,vo as t,ne as u,N as v,Eb as w,A as x,D as y,j as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/object_detection_mode-Wee0DIJt.js","assets/objd_worker_manager-I2tr17X6.js","assets/define_symbols_mode-muMNAN0d.js","assets/render_shape-Lm64LU_n.js","assets/npe_text_mode-CoSq0IW3.js","assets/demo_mode-7bCsdzb3.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
